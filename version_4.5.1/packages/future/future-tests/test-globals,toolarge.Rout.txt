
R version 4.5.1 (2025-06-13) -- "Great Square Root"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ## This runs testme test script inst/testme/test-globals,toolarge.R
> ## Don't edit - it was autogenerated by inst/testme/deploy.R
> future:::testme("globals,toolarge")
Test ‘globals,toolarge’ ...
Sourcing 9 prologue scripts ...
01/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/001.load.R’
02/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/002.record-state.R’
03/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/030.imports.R’
04/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/050.utils.R’
05/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/090.context.R’
06/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/090.options.R’
07/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/091.envvars.R’
08/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/099.future-setup.R’
09/09 prologue script ‘/usr/local/lib/R/site-library/future/testme/_prologue/995.detrius-connections.R’
Sourcing 9 prologue scripts ... done
Running test script: ‘/usr/local/lib/R/site-library/future/testme/test-globals,toolarge.R’

> library(future)
[10:10:51.156] Option 'future.startup.script': TRUE
[10:10:51.156] Future startup scripts considered: ‘.future.R’, ‘~/.future.R’
[10:10:51.156] Future startup scripts found: <none>

> message("*** Globals - too large ...")
*** Globals - too large ...

> a <- integer(length = 1000)

> ooptsT <- options(future.globals.maxSize = object.size(a) - 
+     100)

> limit <- getOption("future.globals.maxSize")

> cat(sprintf("Max total size of globals: %g bytes\n", 
+     limit))
Max total size of globals: 3948 bytes

> plan(multisession, workers = 2)
[10:10:51.158] plan(<‘name’>, .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.159] | plan(): plan_set(<1 strategies>, skip = FALSE, cleanup = NA, init = TRUE) ...
[10:10:51.159] | : all.equal() for FutureStrategyList ...
[10:10:51.159] | : . New stack:
[10:10:51.159] | : . List of 1
[10:10:51.159] | : .  $ :function (..., workers = 2L)  
[10:10:51.159] | : .   ..- attr(*, "class")= chr [1:6] "tweaked" "multisession" "cluster" "multiprocess" ...
[10:10:51.159] | : .   ..- attr(*, "init")= logi TRUE
[10:10:51.159] | : .   ..- attr(*, "factory")=function (workers = availableCores(constraints = "connections-16"), rscript_libs = .libPaths(), 
[10:10:51.159] | : .     interrupts = TRUE, gc = FALSE, earlySignal = FALSE, ...)  
[10:10:51.159] | : .   .. ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.159] | : .   ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.159] | : .   ..- attr(*, "untweakable")= chr "persistent"
[10:10:51.159] | : .   ..- attr(*, "tweaks")=List of 1
[10:10:51.159] | : .   .. ..$ workers: int 2
[10:10:51.159] | : .   ..- attr(*, "call")= language plan(multisession, workers = 2L)
[10:10:51.159] | : .  - attr(*, "class")= chr [1:2] "FutureStrategyList" "list"
[10:10:51.165] | : . Old stack:
[10:10:51.165] | : . List of 1
[10:10:51.165] | : .  $ :function (..., envir = parent.frame())  
[10:10:51.165] | : .   ..- attr(*, "class")= chr [1:4] "sequential" "uniprocess" "future" "function"
[10:10:51.165] | : .   ..- attr(*, "init")= logi TRUE
[10:10:51.165] | : .   ..- attr(*, "factory")=function (..., maxSizeOfObjects = +Inf)  
[10:10:51.165] | : .   .. ..- attr(*, "tweakable")= chr [1:5] "maxSizeOfObjects" "earlySignal" "gc" "interrupts" ...
[10:10:51.165] | : .   ..- attr(*, "tweakable")= chr [1:5] "maxSizeOfObjects" "earlySignal" "gc" "interrupts" ...
[10:10:51.165] | : .   ..- attr(*, "call")= language plan(sequential)
[10:10:51.165] | : .  - attr(*, "class")= chr [1:2] "FutureStrategyList" "list"
[10:10:51.169] | : . Not identical
[10:10:51.169] | : . all.equal() for future ...
[10:10:51.169] | : . ' List of 2
[10:10:51.169] | : . '  $ target :function (..., workers = 2L)  
[10:10:51.169] | : . '   ..- attr(*, "class")= chr [1:6] "tweaked" "multisession" "cluster" "multiprocess" ...
[10:10:51.169] | : . '   ..- attr(*, "init")= logi TRUE
[10:10:51.169] | : . '   ..- attr(*, "factory")=function (workers = availableCores(constraints = "connections-16"), rscript_libs = .libPaths(), 
[10:10:51.169] | : . '     interrupts = TRUE, gc = FALSE, earlySignal = FALSE, ...)  
[10:10:51.169] | : . '   .. ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.169] | : . '   ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.169] | : . '   ..- attr(*, "untweakable")= chr "persistent"
[10:10:51.169] | : . '   ..- attr(*, "tweaks")=List of 1
[10:10:51.169] | : . '   .. ..$ workers: int 2
[10:10:51.169] | : . '   ..- attr(*, "call")= language plan(multisession, workers = 2L)
[10:10:51.169] | : . '  $ current:function (..., envir = parent.frame())  
[10:10:51.169] | : . '   ..- attr(*, "class")= chr [1:4] "sequential" "uniprocess" "future" "function"
[10:10:51.169] | : . '   ..- attr(*, "init")= logi TRUE
[10:10:51.169] | : . '   ..- attr(*, "factory")=function (..., maxSizeOfObjects = +Inf)  
[10:10:51.169] | : . '   .. ..- attr(*, "tweakable")= chr [1:5] "maxSizeOfObjects" "earlySignal" "gc" "interrupts" ...
[10:10:51.169] | : . '   ..- attr(*, "tweakable")= chr [1:5] "maxSizeOfObjects" "earlySignal" "gc" "interrupts" ...
[10:10:51.169] | : . '   ..- attr(*, "call")= language plan(sequential)
[10:10:51.179] | : . ' Formals differ
[10:10:51.179] | : . all.equal() for future ... done
[10:10:51.179] | : . Future strategies differ at level 1
[10:10:51.179] | : all.equal() for FutureStrategyList ... done
[10:10:51.180] | : plan(): Setting new future backend stack:
[10:10:51.180] | : List of future strategies:
[10:10:51.180] | : 1. multisession:
[10:10:51.180] | :    - args: function (..., workers = 2L)
[10:10:51.180] | :    - tweaked: TRUE
[10:10:51.180] | :    - call: plan(multisession, workers = 2L)
[10:10:51.181] | : List of 1
[10:10:51.181] | :  $ :function (..., workers = 2L)  
[10:10:51.181] | :   ..- attr(*, "class")= chr [1:6] "tweaked" "multisession" "cluster" "multiprocess" ...
[10:10:51.181] | :   ..- attr(*, "init")= logi TRUE
[10:10:51.181] | :   ..- attr(*, "factory")=function (workers = availableCores(constraints = "connections-16"), rscript_libs = .libPaths(), 
[10:10:51.181] | :     interrupts = TRUE, gc = FALSE, earlySignal = FALSE, ...)  
[10:10:51.181] | :   .. ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.181] | :   ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.181] | :   ..- attr(*, "untweakable")= chr "persistent"
[10:10:51.181] | :   ..- attr(*, "tweaks")=List of 1
[10:10:51.181] | :   .. ..$ workers: int 2
[10:10:51.181] | :   ..- attr(*, "call")= language plan(multisession, workers = 2L)
[10:10:51.181] | :  - attr(*, "class")= chr [1:2] "FutureStrategyList" "list"
[10:10:51.186] | : plan(): plan_cleanup(<‘sequential’, ‘uniprocess’, ‘future’, ‘function’>, cleanup = NA) ...
[10:10:51.186] | : . plan("next", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.186] | : . ' Getting current ("next") strategy: ‘FutureStrategy’, ‘sequential’, ‘uniprocess’, ‘future’, ‘function’
[10:10:51.187] | : . plan("next", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.187] | : . Legacy shutdown of cluster workers ...
[10:10:51.187] | : . ' Stopping existing cluster ...
[10:10:51.187] | : . ' , No pre-existing cluster. Skipping
[10:10:51.187] | : . ' Stopping existing cluster ... done
[10:10:51.187] | : . Legacy shutdown of cluster workers ... done
[10:10:51.187] | : plan(): plan_cleanup(<‘sequential’, ‘uniprocess’, ‘future’, ‘function’>, cleanup = NA) ... done
[10:10:51.187] | : plan(): plan_init() of ‘tweaked’, ‘multisession’, ‘cluster’, ‘multiprocess’, ‘future’, ‘function’ ...
[10:10:51.188] | : . function (..., workers = 2L)  
[10:10:51.188] | : .  - attr(*, "class")= chr [1:6] "tweaked" "multisession" "cluster" "multiprocess" ...
[10:10:51.188] | : .  - attr(*, "init")= logi TRUE
[10:10:51.188] | : .  - attr(*, "factory")=function (workers = availableCores(constraints = "connections-16"), rscript_libs = .libPaths(), 
[10:10:51.188] | : .     interrupts = TRUE, gc = FALSE, earlySignal = FALSE, ...)  
[10:10:51.188] | : .   ..- attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.188] | : .  - attr(*, "tweakable")= chr [1:11] "workers" "rscript_libs" "interrupts" "gc" ...
[10:10:51.188] | : .  - attr(*, "untweakable")= chr "persistent"
[10:10:51.188] | : .  - attr(*, "tweaks")=List of 1
[10:10:51.188] | : .   ..$ workers: int 2
[10:10:51.188] | : .  - attr(*, "call")= language plan(multisession, workers = 2L)
[10:10:51.190] | : . init: TRUE
[10:10:51.191] | : . makeFutureBackend(<tweaked>) ...
[10:10:51.191] | : . ' Backend function: <‘NULL’>
[10:10:51.191] | : . ' Evaluator tweak arguments: [n=1]
[10:10:51.191] | : . ' List of 1
[10:10:51.191] | : . '  $ workers: int 2
[10:10:51.192] | : . ' Evaluator formal arguments: [n=1]
[10:10:51.192] | : . ' List of 1
[10:10:51.192] | : . '  $ workers: int 2
[10:10:51.192] | : . ' Backend factory arguments: [n=1]
[10:10:51.192] | : . ' Dotted pair list of 1
[10:10:51.192] | : . '  $ workers: int 2
[10:10:51.193] | : . ' MultisessionFutureBackend(workers = <workers>, interrupts = TRUE, ...) ...
[10:10:51.193] | : . ' , Arguments:
[10:10:51.193] | : . ' , List of 5
[10:10:51.193] | : . ' ,  $ workers     : int 2
[10:10:51.193] | : . ' ,  $ rscript_libs: chr [1:2] "/usr/local/lib/R/site-library" "/usr/local/lib/R/library"
[10:10:51.193] | : . ' ,  $ interrupts  : logi TRUE
[10:10:51.193] | : . ' ,  $ gc          : logi FALSE
[10:10:51.193] | : . ' ,  $ earlySignal : logi FALSE
[10:10:51.195] | : . ' , ClusterFutureBackend(..., persistent = FALSE, gc = FALSE, earlySignal = FALSE) ...
[10:10:51.195] | : . ' , ; workers: 2
[10:10:51.195] | : . ' , ; getCluster() ...
[10:10:51.196] | : . ' , ; getCluster() ... done
[10:10:51.196] | : . ' , ; Stopping existing cluster ...
[10:10:51.196] | : . ' , ; ` No pre-existing cluster. Skipping
[10:10:51.196] | : . ' , ; Stopping existing cluster ... done
[10:10:51.196] | : . ' , ; Starting new cluster ...
[10:10:51.196] | : . ' , ; ` makeCluster(workers, ...) ...
[10:10:51.196] | : . ' , ; ` | Arguments:
[10:10:51.196] | : . ' , ; ` | List of 2
[10:10:51.196] | : . ' , ; ` |  $             : int 2
[10:10:51.196] | : . ' , ; ` |  $ rscript_libs: chr [1:2] "/usr/local/lib/R/site-library" "/usr/local/lib/R/library"
[10:10:51.197] | : . ' , ; ` | .makeCluster() ...
[10:10:51.197] | : . ' , ; ` | : workers: ‘2’
[10:10:51.197] | : . ' , ; ` | : R_FUTURE_PLAN: NA
[10:10:51.198] | : . ' , ; ` | : parallelly::makeClusterPSOCK() arguments:
[10:10:51.198] | : . ' , ; ` | : List of 2
[10:10:51.198] | : . ' , ; ` | :  $             : int 2
[10:10:51.198] | : . ' , ; ` | :  $ rscript_libs: chr [1:2] "/usr/local/lib/R/site-library" "/usr/local/lib/R/library"
[10:10:51.794] | : . ' , ; ` | : Generated cluster UUID
[10:10:51.794] | : . ' , ; ` | : Cluster UUID: ‘d4bf236c1a1653548e5a3bdac559c601’
[10:10:51.794] | : . ' , ; ` | : Socket cluster with 2 nodes on host ‘localhost’ (R version 4.5.1 (2025-06-13), platform x86_64-pc-linux-gnu)
[10:10:51.796] | : . ' , ; ` | .makeCluster() ... done
[10:10:51.796] | : . ' , ; ` | Socket cluster with 2 nodes on host ‘localhost’ (R version 4.5.1 (2025-06-13), platform x86_64-pc-linux-gnu)
[10:10:51.798] | : . ' , ; ` makeCluster(workers, ...) ... done
[10:10:51.798] | : . ' , ; ` Number of workers: 2
[10:10:51.798] | : . ' , ; ` Workers UUID: ‘d4bf236c1a1653548e5a3bdac559c601’
[10:10:51.798] | : . ' , ; Starting new cluster ... done
[10:10:51.799] | : . ' , ClusterFutureBackend(..., persistent = FALSE, gc = FALSE, earlySignal = FALSE) ... done
[10:10:51.799] | : . ' , Backend: <‘MultisessionFutureBackend’, ‘ClusterFutureBackend’, ‘MultiprocessFutureBackend’, ‘FutureBackend’, ‘environment’>
[10:10:51.799] | : . ' MultisessionFutureBackend(workers = <workers>, interrupts = TRUE, ...) ... done
[10:10:51.799] | : . makeFutureBackend(<tweaked>) ... done
[10:10:51.799] | : . nbrOfWorkers(NULL) ...
[10:10:51.799] | : . ' List of 4
[10:10:51.799] | : . '  $ : language plan_set(newStack, skip = .skip, cleanup = .cleanup, init = .init, debug = debug)
[10:10:51.799] | : . '  $ : language with_assert({     nbrOfWorkers <- nbrOfWorkers() ...
[10:10:51.799] | : . '  $ : language nbrOfWorkers()
[10:10:51.799] | : . '  $ : language nbrOfWorkers.NULL()
[10:10:51.801] | : . ' plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.801] | : . ' plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.801] | : . ' Number of workers: 2
[10:10:51.801] | : . nbrOfWorkers(NULL) ... done
[10:10:51.801] | : . plan(): nbrOfWorkers() = 2
[10:10:51.801] | : plan(): plan_init() of ‘tweaked’, ‘multisession’, ‘cluster’, ‘multiprocess’, ‘future’, ‘function’ ... done
[10:10:51.801] | plan(): plan_set(<1 strategies>, skip = FALSE, cleanup = NA, init = TRUE) ... done

> print(plan("backend"))
[10:10:51.802] | plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.802] | plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.802] | FutureRegistry('workers-d4bf236c1a1653548e5a3bdac559c601', action = 'list', earlySignal = 0) ...
[10:10:51.802] | : Created empty registry ‘workers-d4bf236c1a1653548e5a3bdac559c601’
[10:10:51.803] | : Listing all futures
[10:10:51.803] | : Number of registered futures: 0
[10:10:51.803] | FutureRegistry('workers-d4bf236c1a1653548e5a3bdac559c601', action = 'list', earlySignal = 0) ... done
MultisessionFutureBackend:
Inherits: ClusterFutureBackend, MultiprocessFutureBackend, FutureBackend
UUID: 0b1e77c4cf7747fb1fd05acebc316ee0
Number of workers: 2
Number of free workers: 2
Available cores: 2
Automatic garbage collection: FALSE
Early signaling: FALSE
Interrupts are enabled: TRUE
Maximum total size of globals: 3.86 KiB
Maximum total size of value: 3.86 KiB
Argument ‘rscript_libs’: c("/usr/local/lib/R/site-library", "/usr/local/lib/R/library")
Argument ‘persistent’: FALSE
Argument ‘wait.timeout’: 86400
Argument ‘wait.interval’: 0.01
Argument ‘wait.alpha’: 1.01
Argument ‘hooks’: FALSE
Number of active futures: 0
Number of futures since start: 0 (0 created, 0 launched, 0 finished)
Total runtime of futures: 0 secs (NaN secs/finished future)
Workers of type RichSOCKcluster:
- Summary: Socket cluster with 2 nodes on host ‘localhost’ (R version 4.5.1 (2025-06-13), platform x86_64-pc-linux-gnu)
- [ OK ] Node 1/2: valid connection, alive [RichSOCKnode of a socket cluster on local host 'localhost' with pid 72583 (R version 4.5.1 (2025-06-13), x86_64-pc-linux-gnu) using socket connection #4 ('<-localhost:11149')]
- [ OK ] Node 2/2: valid connection, alive [RichSOCKnode of a socket cluster on local host 'localhost' with pid 72584 (R version 4.5.1 (2025-06-13), x86_64-pc-linux-gnu) using socket connection #5 ('<-localhost:11149')]

> exprs <- list(A = substitute({
+     a
+ }, env = list()), B = substitute({
+     a * b
+ }, env = list()), C = substitute({
+     a * b * c
+ }, en .... [TRUNCATED] 

> a <- integer(length = 1000)

> b <- integer(length = 900)

> c <- integer(length = 800)

> d <- integer(length = 700)

> e <- integer(length = 1)

> for (name in names(exprs)) {
+     message(sprintf("Expression %s:", name))
+     expr <- exprs[[name]]
+     print(expr)
+     res <- tryCatch({
+  .... [TRUNCATED] 
Expression A:
{
    a
}
[10:10:51.816] | future(..., label = NULL) ...
[10:10:51.816] | : lazy: FALSE
[10:10:51.816] | : stdout: TRUE
[10:10:51.816] | : conditions: [n=1] ‘condition’
[10:10:51.816] | : gc: FALSE
[10:10:51.817] | : earlySignal: FALSE
[10:10:51.817] | : getGlobalsAndPackages() ...
[10:10:51.817] | : . Searching for globals ...
[10:10:51.828] | : . ' globals found: [2] ‘{’, ‘a’
[10:10:51.829] | : . Searching for globals ... done
[10:10:51.829] | : . Resolving globals: FALSE
[10:10:51.829] | : . Search for packages associated with the globals ...
[10:10:51.829] | : . ' Packages associated with globals: [1] ‘base’
[10:10:51.830] | : . ' Packages: [1] ‘base’
[10:10:51.830] | : . Search for packages associated with the globals ... done
[10:10:51.830] | : . Packages after dropping 'base': [0] 
[10:10:51.830] | : . globals: [1] ‘a’
[10:10:51.830] | : . packages: [0] 
[10:10:51.830] | : getGlobalsAndPackages() ... done
[10:10:51.831] | : run() for ‘Future’ (<unnamed-1>) ...
[10:10:51.831] | : . state: ‘created’
[10:10:51.832] | : . plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.832] | : . plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.832] | : . Using MultisessionFutureBackend ...
[10:10:51.832] | : . ' Number of futures since start: 0 (0 created, 0 launched, 0 finished)
[10:10:51.833] | : . Using MultisessionFutureBackend ... done
[10:10:51.833] | : run() for ‘Future’ (<unnamed-1>) ... done
<FutureError: Will not launch future due to the size of the globals 3.94 KiB exceeds 3.86 KiB. The total size of the 1 globals exported for future expression (‘{; a; }’) is 3.94 KiB. This exceeds the maximum allowed size 3.86 KiB per by R option "future.globals.maxSize". This limit is set to protect against transfering too large objects to parallel workers by mistake, which may not be intended and could be costly. See help("future.globals.maxSize", package = "future") for further explainations and how to adjust or remove this threshold There is one global: ‘a’ (3.94 KiB of class ‘numeric’)>


Future UUID: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-1


DEBUG: BEGIN TROUBLESHOOTING HELP
Future involved:
Future:
Label: <unnamed-1>
Expression:
{
    a
}
Globals: 1 objects totaling 4.24 KiB (integer ‘a’ of 3.94 KiB)
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘<none>’)
Immediate condition classes: ‘immediateCondition’
Lazy evaluation: TRUE
Local evaluation: TRUE
Asynchronous evaluation: TRUE
Early signaling: FALSE
Environment: R_GlobalEnv
State: ‘created’
Resolved: FALSE
Unique identifier: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-1
Owner process: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce
Class: ‘Future’, ‘environment’
Value: <not collected>
Conditions captured: <none>

DEBUG: END TROUBLESHOOTING HELP
Expression B:
{
    a * b
}
[10:10:51.835] | : future(..., label = NULL) ...
[10:10:51.835] | : . lazy: FALSE
[10:10:51.835] | : . stdout: TRUE
[10:10:51.835] | : . conditions: [n=1] ‘condition’
[10:10:51.835] | : . gc: FALSE
[10:10:51.836] | : . earlySignal: FALSE
[10:10:51.836] | : . getGlobalsAndPackages() ...
[10:10:51.836] | : . ' Searching for globals ...
[10:10:51.843] | : . ' , globals found: [4] ‘{’, ‘*’, ‘a’, ‘b’
[10:10:51.843] | : . ' Searching for globals ... done
[10:10:51.843] | : . ' Resolving globals: FALSE
[10:10:51.843] | : . ' Search for packages associated with the globals ...
[10:10:51.843] | : . ' , Packages associated with globals: [1] ‘base’
[10:10:51.844] | : . ' , Packages: [1] ‘base’
[10:10:51.844] | : . ' Search for packages associated with the globals ... done
[10:10:51.844] | : . ' Packages after dropping 'base': [0] 
[10:10:51.844] | : . ' globals: [2] ‘a’, ‘b’
[10:10:51.844] | : . ' packages: [0] 
[10:10:51.844] | : . getGlobalsAndPackages() ... done
[10:10:51.845] | : . run() for ‘Future’ (<unnamed-2>) ...
[10:10:51.845] | : . ' state: ‘created’
[10:10:51.845] | : . ' plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.845] | : . ' plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.845] | : . ' Using MultisessionFutureBackend ...
[10:10:51.845] | : . ' , Number of futures since start: 0 (0 created, 0 launched, 0 finished)
[10:10:51.846] | : . ' Using MultisessionFutureBackend ... done
[10:10:51.846] | : . run() for ‘Future’ (<unnamed-2>) ... done
<FutureError: Will not launch future due to the size of the globals 7.48 KiB exceeds 3.86 KiB. The total size of the 2 globals exported for future expression (‘{; a * b; }’) is 7.48 KiB. This exceeds the maximum allowed size 3.86 KiB per by R option "future.globals.maxSize". This limit is set to protect against transfering too large objects to parallel workers by mistake, which may not be intended and could be costly. See help("future.globals.maxSize", package = "future") for further explainations and how to adjust or remove this threshold There are two globals: ‘a’ (3.94 KiB of class ‘numeric’) and ‘b’ (3.55 KiB of class ‘numeric’)>


Future UUID: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-2


DEBUG: BEGIN TROUBLESHOOTING HELP
Future involved:
Future:
Label: <unnamed-2>
Expression:
{
    a * b
}
Globals: 2 objects totaling 7.78 KiB (integer ‘a’ of 3.94 KiB, integer ‘b’ of 3.55 KiB)
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘<none>’)
Immediate condition classes: ‘immediateCondition’
Lazy evaluation: TRUE
Local evaluation: TRUE
Asynchronous evaluation: TRUE
Early signaling: FALSE
Environment: R_GlobalEnv
State: ‘created’
Resolved: FALSE
Unique identifier: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-2
Owner process: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce
Class: ‘Future’, ‘environment’
Value: <not collected>
Conditions captured: <none>

DEBUG: END TROUBLESHOOTING HELP
Expression C:
{
    a * b * c
}
[10:10:51.847] | : . future(..., label = NULL) ...
[10:10:51.847] | : . ' lazy: FALSE
[10:10:51.847] | : . ' stdout: TRUE
[10:10:51.847] | : . ' conditions: [n=1] ‘condition’
[10:10:51.848] | : . ' gc: FALSE
[10:10:51.848] | : . ' earlySignal: FALSE
[10:10:51.848] | : . ' getGlobalsAndPackages() ...
[10:10:51.848] | : . ' , Searching for globals ...
[10:10:51.859] | : . ' , ; globals found: [5] ‘{’, ‘*’, ‘a’, ‘b’, ‘c’
[10:10:51.860] | : . ' , Searching for globals ... done
[10:10:51.860] | : . ' , Resolving globals: FALSE
[10:10:51.860] | : . ' , Search for packages associated with the globals ...
[10:10:51.860] | : . ' , ; Packages associated with globals: [1] ‘base’
[10:10:51.860] | : . ' , ; Packages: [1] ‘base’
[10:10:51.860] | : . ' , Search for packages associated with the globals ... done
[10:10:51.861] | : . ' , Packages after dropping 'base': [0] 
[10:10:51.861] | : . ' , globals: [3] ‘a’, ‘b’, ‘c’
[10:10:51.861] | : . ' , packages: [0] 
[10:10:51.861] | : . ' getGlobalsAndPackages() ... done
[10:10:51.861] | : . ' run() for ‘Future’ (<unnamed-3>) ...
[10:10:51.861] | : . ' , state: ‘created’
[10:10:51.861] | : . ' , plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.861] | : . ' , plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.862] | : . ' , Using MultisessionFutureBackend ...
[10:10:51.862] | : . ' , ; Number of futures since start: 0 (0 created, 0 launched, 0 finished)
[10:10:51.862] | : . ' , Using MultisessionFutureBackend ... done
[10:10:51.862] | : . ' run() for ‘Future’ (<unnamed-3>) ... done
<FutureError: Will not launch future due to the size of the globals 10.64 KiB exceeds 3.86 KiB. The total size of the 3 globals exported for future expression (‘{; a * b * c; }’) is 10.64 KiB. This exceeds the maximum allowed size 3.86 KiB per by R option "future.globals.maxSize". This limit is set to protect against transfering too large objects to parallel workers by mistake, which may not be intended and could be costly. See help("future.globals.maxSize", package = "future") for further explainations and how to adjust or remove this threshold There are three globals: ‘a’ (3.94 KiB of class ‘numeric’), ‘b’ (3.55 KiB of class ‘numeric’) and ‘c’ (3.16 KiB of class ‘numeric’)>


Future UUID: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-3


DEBUG: BEGIN TROUBLESHOOTING HELP
Future involved:
Future:
Label: <unnamed-3>
Expression:
{
    a * b * c
}
Globals: 3 objects totaling 10.94 KiB (integer ‘a’ of 3.94 KiB, integer ‘b’ of 3.55 KiB, integer ‘c’ of 3.16 KiB)
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘<none>’)
Immediate condition classes: ‘immediateCondition’
Lazy evaluation: TRUE
Local evaluation: TRUE
Asynchronous evaluation: TRUE
Early signaling: FALSE
Environment: R_GlobalEnv
State: ‘created’
Resolved: FALSE
Unique identifier: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-3
Owner process: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce
Class: ‘Future’, ‘environment’
Value: <not collected>
Conditions captured: <none>

DEBUG: END TROUBLESHOOTING HELP
Expression D:
{
    a * b * c * d
}
[10:10:51.863] | : . ' future(..., label = NULL) ...
[10:10:51.863] | : . ' , lazy: FALSE
[10:10:51.863] | : . ' , stdout: TRUE
[10:10:51.863] | : . ' , conditions: [n=1] ‘condition’
[10:10:51.863] | : . ' , gc: FALSE
[10:10:51.864] | : . ' , earlySignal: FALSE
[10:10:51.864] | : . ' , getGlobalsAndPackages() ...
[10:10:51.864] | : . ' , ; Searching for globals ...
[10:10:51.873] | : . ' , ; ` globals found: [6] ‘{’, ‘*’, ‘a’, ‘b’, ‘c’, ‘d’
[10:10:51.873] | : . ' , ; Searching for globals ... done
[10:10:51.873] | : . ' , ; Resolving globals: FALSE
[10:10:51.873] | : . ' , ; Search for packages associated with the globals ...
[10:10:51.873] | : . ' , ; ` Packages associated with globals: [1] ‘base’
[10:10:51.874] | : . ' , ; ` Packages: [1] ‘base’
[10:10:51.874] | : . ' , ; Search for packages associated with the globals ... done
[10:10:51.874] | : . ' , ; Packages after dropping 'base': [0] 
[10:10:51.874] | : . ' , ; globals: [4] ‘a’, ‘b’, ‘c’, ‘d’
[10:10:51.874] | : . ' , ; packages: [0] 
[10:10:51.874] | : . ' , getGlobalsAndPackages() ... done
[10:10:51.874] | : . ' , run() for ‘Future’ (<unnamed-4>) ...
[10:10:51.875] | : . ' , ; state: ‘created’
[10:10:51.875] | : . ' , ; plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.875] | : . ' , ; plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.875] | : . ' , ; Using MultisessionFutureBackend ...
[10:10:51.875] | : . ' , ; ` Number of futures since start: 0 (0 created, 0 launched, 0 finished)
[10:10:51.875] | : . ' , ; Using MultisessionFutureBackend ... done
[10:10:51.876] | : . ' , run() for ‘Future’ (<unnamed-4>) ... done
<FutureError: Will not launch future due to the size of the globals 13.40 KiB exceeds 3.86 KiB. The total size of the 4 globals exported for future expression (‘{; a * b * c * d; }’) is 13.40 KiB. This exceeds the maximum allowed size 3.86 KiB per by R option "future.globals.maxSize". This limit is set to protect against transfering too large objects to parallel workers by mistake, which may not be intended and could be costly. See help("future.globals.maxSize", package = "future") for further explainations and how to adjust or remove this threshold The three largest globals are ‘a’ (3.94 KiB of class ‘numeric’), ‘b’ (3.55 KiB of class ‘numeric’) and ‘c’ (3.16 KiB of class ‘numeric’)>


Future UUID: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-4


DEBUG: BEGIN TROUBLESHOOTING HELP
Future involved:
Future:
Label: <unnamed-4>
Expression:
{
    a * b * c * d
}
Globals: 4 objects totaling 13.70 KiB (integer ‘a’ of 3.94 KiB, integer ‘b’ of 3.55 KiB, integer ‘c’ of 3.16 KiB, integer ‘d’ of 2.76 KiB)
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘<none>’)
Immediate condition classes: ‘immediateCondition’
Lazy evaluation: TRUE
Local evaluation: TRUE
Asynchronous evaluation: TRUE
Early signaling: FALSE
Environment: R_GlobalEnv
State: ‘created’
Resolved: FALSE
Unique identifier: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-4
Owner process: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce
Class: ‘Future’, ‘environment’
Value: <not collected>
Conditions captured: <none>

DEBUG: END TROUBLESHOOTING HELP
Expression E:
{
    a * b * c * d * e
}
[10:10:51.876] | : . ' , future(..., label = NULL) ...
[10:10:51.876] | : . ' , ; lazy: FALSE
[10:10:51.877] | : . ' , ; stdout: TRUE
[10:10:51.877] | : . ' , ; conditions: [n=1] ‘condition’
[10:10:51.877] | : . ' , ; gc: FALSE
[10:10:51.877] | : . ' , ; earlySignal: FALSE
[10:10:51.877] | : . ' , ; getGlobalsAndPackages() ...
[10:10:51.877] | : . ' , ; ` Searching for globals ...
[10:10:51.888] | : . ' , ; ` | globals found: [7] ‘{’, ‘*’, ‘a’, ‘b’, ‘c’, ‘d’, ‘e’
[10:10:51.888] | : . ' , ; ` Searching for globals ... done
[10:10:51.888] | : . ' , ; ` Resolving globals: FALSE
[10:10:51.889] | : . ' , ; ` Search for packages associated with the globals ...
[10:10:51.889] | : . ' , ; ` | Packages associated with globals: [1] ‘base’
[10:10:51.889] | : . ' , ; ` | Packages: [1] ‘base’
[10:10:51.889] | : . ' , ; ` Search for packages associated with the globals ... done
[10:10:51.889] | : . ' , ; ` Packages after dropping 'base': [0] 
[10:10:51.890] | : . ' , ; ` globals: [5] ‘a’, ‘b’, ‘c’, ‘d’, ‘e’
[10:10:51.890] | : . ' , ; ` packages: [0] 
[10:10:51.890] | : . ' , ; getGlobalsAndPackages() ... done
[10:10:51.890] | : . ' , ; run() for ‘Future’ (<unnamed-5>) ...
[10:10:51.890] | : . ' , ; ` state: ‘created’
[10:10:51.890] | : . ' , ; ` plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ...
[10:10:51.890] | : . ' , ; ` plan("backend", .skip = FALSE, .cleanup = NA, .init = TRUE) ... done
[10:10:51.890] | : . ' , ; ` Using MultisessionFutureBackend ...
[10:10:51.890] | : . ' , ; ` | Number of futures since start: 0 (0 created, 0 launched, 0 finished)
[10:10:51.891] | : . ' , ; ` Using MultisessionFutureBackend ... done
[10:10:51.891] | : . ' , ; run() for ‘Future’ (<unnamed-5>) ... done
<FutureError: Will not launch future due to the size of the globals 13.44 KiB exceeds 3.86 KiB. The total size of the 5 globals exported for future expression (‘{; a * b * c * d * e; }’) is 13.44 KiB. This exceeds the maximum allowed size 3.86 KiB per by R option "future.globals.maxSize". This limit is set to protect against transfering too large objects to parallel workers by mistake, which may not be intended and could be costly. See help("future.globals.maxSize", package = "future") for further explainations and how to adjust or remove this threshold The three largest globals are ‘a’ (3.94 KiB of class ‘numeric’), ‘b’ (3.55 KiB of class ‘numeric’) and ‘c’ (3.16 KiB of class ‘numeric’)>


Future UUID: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-5


DEBUG: BEGIN TROUBLESHOOTING HELP
Future involved:
Future:
Label: <unnamed-5>
Expression:
{
    a * b * c * d * e
}
Globals: 5 objects totaling 13.73 KiB (integer ‘a’ of 3.94 KiB, integer ‘b’ of 3.55 KiB, integer ‘c’ of 3.16 KiB, integer ‘d’ of 2.76 KiB, integer ‘e’ of 35 bytes)
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘<none>’)
Immediate condition classes: ‘immediateCondition’
Lazy evaluation: TRUE
Local evaluation: TRUE
Asynchronous evaluation: TRUE
Early signaling: FALSE
Environment: R_GlobalEnv
State: ‘created’
Resolved: FALSE
Unique identifier: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce-5
Owner process: 4cc38c3dc0ec73dc3c62d5c5e5bdc6ce
Class: ‘Future’, ‘environment’
Value: <not collected>
Conditions captured: <none>

DEBUG: END TROUBLESHOOTING HELP

> message("*** Globals - too large ... DONE")
*** Globals - too large ... DONE
Sourcing 6 epilogue scripts ...
01/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/001.undo-future.R’
02/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/002.undo-state.R’
03/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/090.gc.R’
04/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/099.session_info.R’
05/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/995.detritus-connections.R’
06/06 epilogue script ‘/usr/local/lib/R/site-library/future/testme/_epilogue/999.detritus-files.R’
Skipping, because path appears not to be an 'R CMD check' folder: ‘/tmp’
Sourcing 6 epilogue scripts ... done
Test time: user.self=0.3s, sys.self=0.02s, elapsed=0.9s, user.child=0.2s, sys.child=0.4s
Test ‘globals,toolarge’ ... success
> 
