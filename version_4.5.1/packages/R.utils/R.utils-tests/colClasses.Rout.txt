
R version 4.5.1 (2025-06-13) -- "Great Square Root"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library("R.utils")
Loading required package: R.oo
Loading required package: R.methodsS3
R.methodsS3 v1.8.2 (2022-06-13 22:00:14 UTC) successfully loaded. See ?R.methodsS3 for help.
R.oo v1.27.1 (2025-05-02 21:00:05 UTC) successfully loaded. See ?R.oo for help.

Attaching package: ‘R.oo’

The following object is masked from ‘package:R.methodsS3’:

    throw

The following objects are masked from ‘package:methods’:

    getClasses, getMethods

The following objects are masked from ‘package:base’:

    attach, detach, load, save

R.utils v2.13.0 (2025-02-24 21:20:02 UTC) successfully loaded. See ?R.utils for help.

Attaching package: ‘R.utils’

The following object is masked from ‘package:utils’:

    timestamp

The following objects are masked from ‘package:base’:

    cat, commandArgs, getOption, isOpen, nullfile, parse, use, warnings

> 
> # All predefined types
> print(colClasses("-?cdfilnrzDP"))
 [1] "NULL"      "NA"        "character" "double"    "factor"    "integer"  
 [7] "logical"   "numeric"   "raw"       "complex"   "Date"      "POSIXct"  
> ## [1] "NULL"      "NA"        "character" "double"
> ## [5] "factor"    "integer"   "logical"   "numeric"
> ## [9] "raw"       "complex"   "Date"      "POSIXct"
> 
> # A string in column 1, integers in column 4 and 5, rest skipped
> print(colClasses("c--ii----"))
[1] "character" "NULL"      "NULL"      "integer"   "integer"   "NULL"     
[7] "NULL"      "NULL"      "NULL"     
> ## [1] "character" "NULL"      "NULL"      "integer"
> ## [5] "integer"   "NULL"      "NULL"      "NULL"
> ## [9] "NULL"
> 
> # Repeats and custom column classes
> c1 <- colClasses("3c{MyClass}3{foo}")
> print(c1)
[1] "character" "character" "character" "MyClass"   "foo"       "foo"      
[7] "foo"      
> ## [1] "character" "character" "character" "MyClass"
> ## [5] "foo"       "foo"       "foo"
> 
> # Passing repeats and class names using sprintf() syntax
> c2 <- colClasses("%dc{%s}%d{foo}", 3, "MyClass", 3)
> stopifnot(identical(c1, c2))
> 
> # Repeats of a vector of column classes
> c3 <- colClasses("3{MyClass,c}")
> print(c3)
[1] "MyClass"   "character" "MyClass"   "character" "MyClass"   "character"
> ## [1] "MyClass"   "character" "MyClass"   "character"
> ## [4] "MyClass"   "character"
> 
> # Large number repeats
> c4 <- colClasses("321{MyClass,c,i,d}")
> c5 <- rep(c("MyClass", "character", "integer", "double"), times=321)
> stopifnot(identical(c4, c5))
> 
