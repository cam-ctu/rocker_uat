
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library(testthat)
> library(renv, warn.conflicts = FALSE)
> 
> if (!renv:::renv_tests_supported()) {
+   message("* renv does not support running tests on this platform.")
+   if (!interactive()) quit(status = 0L)
+ }
> 
> if (Sys.info()[["sysname"]] == "Linux") {
+   tools <- asNamespace("tools")
+   if (is.function(tools$R_user_dir)) {
+     cachedir <- tools$R_user_dir("renv", "cache")
+     dir.create(cachedir, recursive = TRUE, showWarnings = FALSE)
+   }
+ }
> 
> test_check("renv")
Starting 2 test processes.
> test-install.R: renv was unable to query available packages from the following repositories:
> test-install.R: - # file:///tmp/RtmpmNoXze/renv-repos-1d14fe43bf1f/missing/src/contrib ---------
> test-install.R: error downloading 'file:///tmp/RtmpmNoXze/renv-repos-1d14fe43bf1f/missing/src/contrib/PACKAGES.rds' [error code 37]
> test-install.R: error downloading 'file:///tmp/RtmpmNoXze/renv-repos-1d14fe43bf1f/missing/src/contrib/PACKAGES.gz' [error code 37]
> test-install.R: error downloading 'file:///tmp/RtmpmNoXze/renv-repos-1d14fe43bf1f/missing/src/contrib/PACKAGES' [error code 37]
> test-install.R: 
> test-install.R: 
> test-restore.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-restore.R: The following required packages are not installed:
> test-restore.R: - KernSmooth
> test-restore.R: - MASS
> test-restore.R: - Matrix
> test-restore.R: - boot
> test-restore.R: - class
> test-restore.R: - cluster
> test-restore.R: - codetools
> test-restore.R: - foreign
> test-restore.R: - lattice
> test-restore.R: - mgcv
> test-restore.R: - nlme
> test-restore.R: - nnet
> test-restore.R: - rpart
> test-restore.R: - spatial
> test-restore.R: - survival
> test-restore.R: Packages must first be installed before renv can snapshot them.
> test-restore.R: Use `renv::dependencies()` to see where this package is used in your project.
> test-restore.R: 
> test-restore.R: Removing package from '/tmp/RtmpIGC8Gv/renv-test-1d151345e77f6/renv/library/linux-ubuntu-noble/R-4.5/x86_64-pc-linux-gnu'
> test-restore.R: (as 'lib' is unspecified)
Saving _problems/test-restore-6.R
> test-snapshot.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-install.R: Installing package into '/tmp/RtmpmNoXze/renv-library-1d14f191ed312'
> test-install.R: (as 'lib' is unspecified)
> test-install.R: * installing *source* package ‘bread’ ...
> test-install.R: ** this is package ‘bread’ version ‘1.0.0’
> test-install.R: ** using staged installation
> test-install.R: No man pages found in package  ‘bread’ 
> test-install.R: ** help
> test-install.R: *** installing help indices
> test-install.R: ** building package indices
> test-install.R: ** testing if installed package can be loaded from temporary location
> test-install.R: ** testing if installed package can be loaded from final location
> test-install.R: ** testing if installed package keeps a record of temporary installation path
> test-install.R: * DONE (bread)
> test-install.R: Removing package from '/tmp/RtmpmNoXze/renv-library-1d14f191ed312'
> test-install.R: (as 'lib' is unspecified)
> test-snapshot.R: The following required packages are not installed:
> test-snapshot.R: - KernSmooth
> test-snapshot.R: - MASS
> test-snapshot.R: - Matrix
> test-snapshot.R: - boot
> test-snapshot.R: - class
> test-snapshot.R: - cluster
> test-snapshot.R: - codetools
> test-snapshot.R: - foreign
> test-snapshot.R: - lattice
> test-snapshot.R: - mgcv
> test-snapshot.R: - nlme
> test-snapshot.R: - nnet
> test-snapshot.R: - rpart
> test-snapshot.R: - spatial
> test-snapshot.R: - survival
> test-snapshot.R: Packages must first be installed before renv can snapshot them.
> test-snapshot.R: Use `renv::dependencies()` to see where this package is used in your project.
> test-snapshot.R: 
> test-snapshot.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-snapshot.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-snapshot.R: WARNING: One or more problems were discovered while enumerating dependencies.
> test-snapshot.R: 
> test-snapshot.R: # /tmp/RtmpIGC8Gv/renv-test-1d15175ef73f5/parse-error.R ----------------------
> test-snapshot.R: Error: /tmp/RtmpIGC8Gv/renv-test-1d15175ef73f5/parse-error.R:1:7: unexpected symbol
> test-snapshot.R: 1: parse error
> test-snapshot.R:           ^
> test-snapshot.R: 
> test-snapshot.R: Please see `?renv::dependencies` for more information.
> test-snapshot.R: 
> test-actions.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-actions.R: - The project is out-of-sync -- use `renv::status()` for details.
Saving _problems/test-cache-86.R
> test-dependencies.R: WARNING: One or more problems were discovered while enumerating dependencies.
> test-dependencies.R: 
> test-dependencies.R: # /__w/rocker_uat/rocker_uat/packages/renv/renv-tests/testthat/resources/chunk-errors.Rmd --------
> test-dependencies.R: Error: chunk starting on line 19 is not closed
> test-dependencies.R: 
> test-dependencies.R: Error: <text>:12:6: unexpected symbol
> test-dependencies.R: 11: 
> test-dependencies.R: 12: this chunk
> test-dependencies.R:          ^
> test-dependencies.R: 
> test-dependencies.R: Error: <text>:16:5: unexpected symbol
> test-dependencies.R: 15: 
> test-dependencies.R: 16: and so
> test-dependencies.R:         ^
> test-dependencies.R: 
> test-dependencies.R: Please see `?renv::dependencies` for more information.
> test-dependencies.R: 
> test-infrastructure.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-infrastructure.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-init.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-init.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-init.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-init.R: WARNING: One or more problems were discovered while enumerating dependencies.
> test-init.R: 
> test-init.R: # /tmp/RtmpmNoXze/renv-test-1d14f194ddc9d/analysis.R -------------------------
> test-init.R: Error: /tmp/RtmpmNoXze/renv-test-1d14f194ddc9d/analysis.R:1:4: unexpected symbol
> test-init.R: 1: oh no
> test-init.R:        ^
> test-init.R: 
> test-init.R: Please see `?renv::dependencies` for more information.
> test-init.R: 
> test-init.R: The following required packages are not installed:
> test-init.R: - KernSmooth
> test-init.R: - MASS
> test-init.R: - Matrix
> test-init.R: - boot
> test-init.R: - class
> test-init.R: - cluster
> test-init.R: - codetools
> test-init.R: - foreign
> test-init.R: - lattice
> test-init.R: - mgcv
> test-init.R: - nlme
> test-init.R: - nnet
> test-init.R: - rpart
> test-init.R: - spatial
> test-init.R: - survival
> test-init.R: Packages must first be installed before renv can snapshot them.
> test-init.R: Use `renv::dependencies()` to see where this package is used in your project.
> test-init.R: 
> test-run.R: [1] TRUE
> test-settings.R: - The project is out-of-sync -- use `renv::status()` for details.
> test-status.R: - The project is out-of-sync -- use `renv::status()` for details.
[ FAIL 2 | WARN 0 | SKIP 234 | PASS 760 ]

══ Skipped tests (234) ═════════════════════════════════════════════════════════
• empty test (3): 'test-dependencies.R:211:1', 'test-dependencies.R:662:1',
  'test-json.R:140:1'
• failing test; mtime sometimes differs? (1): 'test-files.R:130:3'
• GITHUB_PAT is not set (2): 'test-install.R:212:3', 'test-retrieve.R:360:3'
• On CRAN (225): 'test-python.R:15:3', 'test-python.R:29:3',
  'test-python.R:45:3', 'test-python.R:63:3', 'test-python.R:93:3',
  'test-python.R:139:3', 'test-python.R:182:3', 'test-python.R:208:3',
  'test-python.R:236:3', 'test-bioconductor.R:22:3',
  'test-bioconductor.R:71:3', 'test-bioconductor.R:101:3',
  'test-bioconductor.R:131:5', 'test-bioconductor.R:150:3',
  'test-bioconductor.R:186:3', 'test-restore.R:16:3', 'test-restore.R:33:3',
  'test-restore.R:268:3', 'test-restore.R:296:3', 'test-install.R:65:3',
  'test-install.R:112:3', 'test-install.R:157:3', 'test-install.R:201:3',
  'test-install.R:259:3', 'test-install.R:266:3', 'test-install.R:276:3',
  'test-install.R:294:3', 'test-install.R:320:3', 'test-install.R:336:3',
  'test-install.R:347:3', 'test-install.R:404:3', 'test-install.R:427:3',
  'test-install.R:448:3', 'test-install.R:471:3', 'test-install.R:495:3',
  'test-install.R:507:1', 'test-install.R:521:3', 'test-install.R:548:3',
  'test-install.R:577:3', 'test-install.R:613:3', 'test-install.R:646:3',
  'test-install.R:692:3', 'test-install.R:774:3', 'test-retrieve.R:4:3',
  'test-retrieve.R:20:3', 'test-retrieve.R:36:3', 'test-retrieve.R:52:3',
  'test-retrieve.R:70:3', 'test-retrieve.R:85:3', 'test-retrieve.R:104:3',
  'test-retrieve.R:120:3', 'test-retrieve.R:138:3', 'test-retrieve.R:153:3',
  'test-retrieve.R:161:3', 'test-retrieve.R:282:3', 'test-retrieve.R:299:3',
  'test-retrieve.R:315:3', 'test-retrieve.R:354:3', 'test-retrieve.R:367:3',
  'test-remotes.R:33:3', 'test-remotes.R:207:3', 'test-acls.R:4:3',
  'test-activate.R:4:3', 'test-activate.R:29:3', 'test-activate.R:48:1',
  'test-archive.R:51:3', 'test-autoload.R:3:3',
  'test-available-packages.R:3:3', 'test-available-packages.R:23:3',
  'test-available-packages.R:44:3', 'test-available-packages.R:60:3',
  'test-available-packages.R:78:3', 'test-available-packages.R:90:3',
  'test-available-packages.R:111:3', 'test-available-packages.R:132:3',
  'test-available-packages.R:158:3', 'test-snapshot.R:16:1',
  'test-snapshot.R:27:1', 'test-snapshot.R:111:3', 'test-snapshot.R:160:1',
  'test-snapshot.R:321:3', 'test-snapshot.R:352:1', 'test-snapshot.R:364:3',
  'test-snapshot.R:381:1', 'test-snapshot.R:396:3', 'test-snapshot.R:432:1',
  'test-snapshot.R:442:1', 'test-snapshot.R:475:1', 'test-snapshot.R:517:1',
  'test-snapshot.R:527:1', 'test-snapshot.R:553:1', 'test-snapshot.R:640:1',
  'test-snapshot.R:651:1', 'test-snapshot.R:665:3', 'test-snapshot.R:676:3',
  'test-snapshot.R:688:3', 'test-bootstrap.R:4:3', 'test-bootstrap.R:18:3',
  'test-bootstrap.R:32:3', 'test-bootstrap.R:125:1', 'test-bootstrap.R:161:1',
  'test-bootstrap.R:186:1', 'test-bootstrap.R:231:1', 'test-bootstrap.R:270:1',
  'test-caution.R:2:1', 'test-caution.R:15:3', 'test-cellar.R:3:3',
  'test-cache.R:3:3', 'test-cache.R:108:3', 'test-cache.R:127:3',
  'test-cache.R:155:3', 'test-cache.R:186:3', 'test-checkout.R:20:3',
  'test-config.R:91:3', 'test-dots.R:2:1', 'test-download.R:3:3',
  'test-download.R:60:3', 'test-download.R:116:3', 'test-download.R:143:3',
  'test-download.R:158:3', 'test-files.R:204:3', 'test-history.R:4:3',
  'test-dependencies.R:88:1', 'test-dependencies.R:102:1',
  'test-dependencies.R:368:3', 'test-dependencies.R:467:1', 'test-id.R:3:3',
  'test-infrastructure.R:4:3', 'test-job.R:3:3', 'test-json.R:54:3',
  'test-json.R:64:3', 'test-load.R:25:3', 'test-load.R:34:1',
  'test-load.R:47:1', 'test-lock.R:4:3', 'test-lock.R:19:3',
  'test-lock.R:35:3', 'test-lock.R:60:3', 'test-lock.R:88:3',
  'test-lock.R:110:3', 'test-lock.R:134:3', 'test-lock.R:166:3',
  'test-lockfile-read.R:1:1', 'test-lockfile-validate.R:2:3',
  'test-lockfile-validate.R:81:3', 'test-lockfile-validate.R:142:3',
  'test-lockfile-validate.R:197:3', 'test-lockfile-validate.R:251:3',
  'test-lockfile-validate.R:283:3', 'test-lockfile-validate.R:315:3',
  'test-lockfile.R:44:3', 'test-lockfile.R:54:3', 'test-init.R:3:3',
  'test-init.R:12:3', 'test-init.R:65:3', 'test-init.R:134:3',
  'test-init.R:164:3', 'test-init.R:190:3', 'test-init.R:223:3',
  'test-init.R:233:3', 'test-init.R:243:3', 'test-init.R:277:3',
  'test-migrate.R:21:3', 'test-migrate.R:61:3', 'test-modify.R:4:3',
  'test-modify.R:16:3', 'test-mran.R:3:3', 'test-pak.R:4:3', 'test-pak.R:25:3',
  'test-ppm.R:3:3', 'test-ppm.R:15:3', 'test-ppm.R:27:3', 'test-ppm.R:39:3',
  'test-ppm.R:51:3', 'test-ppm.R:78:3', 'test-ppm.R:111:3', 'test-ppm.R:143:3',
  'test-ppm.R:175:3', 'test-ppm.R:208:3', 'test-ppm.R:235:3',
  'test-ppm.R:260:3', 'test-ppm.R:284:3', 'test-ppm.R:311:3',
  'test-ppm.R:336:3', 'test-ppm.R:363:3', 'test-ppm.R:387:3',
  'test-preflight.R:23:3', 'test-profiles.R:3:3', 'test-profiles.R:34:3',
  'test-r.R:3:3', 'test-r.R:48:3', 'test-profile.R:3:3', 'test-profile.R:34:3',
  'test-reload.R:4:3', 'test-repair.R:4:3', 'test-repair.R:27:3',
  'test-repair.R:55:3', 'test-repos.R:59:3', 'test-sandbox.R:116:3',
  'test-socket.R:4:3', 'test-sysreqs.R:4:3', 'test-sysreqs.R:25:3',
  'test-sysreqs.R:48:3', 'test-sysreqs.R:62:3', 'test-system.R:3:3',
  'test-update.R:4:3', 'test-update.R:20:3', 'test-update.R:52:3',
  'test-update.R:94:3', 'test-update.R:109:3', 'test-update.R:146:3',
  'test-upgrade.R:4:3', 'test-use.R:4:3', 'test-use.R:30:3',
  'test-utils.R:159:3', 'test-vendor.R:8:3', 'test-watchdog.R:4:3',
  'test-watchdog.R:39:3', 'test-status.R:1:1', 'test-status.R:15:1',
  'test-status.R:24:1', 'test-status.R:37:1', 'test-status.R:50:1',
  'test-status.R:61:1', 'test-status.R:78:1'
• pak doesn't like file:// repositories? (1): 'test-snapshot.R:416:3'
• renv_platform_macos() is not TRUE (1): 'test-retrieve.R:238:3'
• renv_platform_windows() is not TRUE (1): 'test-install.R:227:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-restore.R:6:3'): library permissions are validated before restore ──
Expected `renv_install_preflight_permissions(inaccessible)` to be FALSE.
Differences:
`actual`:   TRUE 
`expected`: FALSE

── Failure ('test-cache.R:86:3'): package installation does not fail with non-writable cache ──
Expected `type == "symlink"` to be FALSE.
Differences:
`actual`:   TRUE 
`expected`: FALSE


[ FAIL 2 | WARN 0 | SKIP 234 | PASS 760 ]
Error:
! Test failures.
Execution halted
