
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "mediation"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> library('mediation')
Loading required package: MASS
Loading required package: Matrix
Loading required package: mvtnorm
Loading required package: sandwich
mediation: Causal Mediation Analysis
Version: 4.5.1

> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> base::assign(".old_wd", base::getwd(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("amelidiate")
> ### * amelidiate
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: amelidiate
> ### Title: Function for combining outputs from mediations function and
> ###   calculating quantities of interest. For use with multiple imputation
> ###   procedures.
> ### Aliases: amelidiate
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Hypothetical example
> ##D 
> ##D ## To use mediations, must make list of multiple datasets. Then, 
> ##D ## must also repeat the treatment assignment list as many times 
> ##D ## as you have data sets.
> ##D # datasets <- list(D1=D1, D2=D2) # list of multiply imputed data sets
> ##D # mediators <- c("M1")
> ##D # outcome <- c("Ycont1")
> ##D # treatment <- c("T1","T1") # note how the treatment indicator is repeated
> ##D # covariates <- c("X1+X2")
> ##D # olsols <- mediations(datasets, treatment, mediators, outcome, covariates, 
> ##D #                      families=c("gaussian","gaussian"), interaction=FALSE,
> ##D #                      conf.level=.90, sims=1000)
> ##D # output <- amelidiate(olsols)
> ##D # summary(output)
> ##D # plot(output)
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("ivmediate")
> ### * ivmediate
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: ivmediate
> ### Title: Causal Mediation Analysis with Treatment Noncompliance
> ### Aliases: ivmediate
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # ** For illustration purposes a small number of simulations are used **
> 
> require(parallel)
Loading required package: parallel
> require(MASS)
> 
> data(jobs)
> 
> a <- lm(comply ~ treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> b <- glm(job_dich ~ comply + treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs, family = binomial)
> c <- lm(depress2 ~ job_dich * (comply + treat) + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> 
> out <- ivmediate(a, b, c, sims = 50, boot = FALSE, 
+                  enc = "treat", treat = "comply", mediator = "job_dich")
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
>                  
> summary(out)

Causal Mediation Analysis with Treatment Noncompliance

Confidence Intervals Based on Quasi-Bayesian Monte Carlo

                  Estimate 95% CI Lower 95% CI Upper
LACME (control) -0.0369632   -0.1022838    0.0011009
LACME (treated) -0.0429314   -0.0942065   -0.0044397
LANDE (control) -0.0456689   -0.1360691    0.0958424
LANDE (treated) -0.0516371   -0.1502673    0.1095840
LATE            -0.0886003   -0.1673471    0.0390728

Sample Size Used: 899 


Simulations: 50 

> plot(out)
> 
> # Using non-parametric bootstrap
> out.boot <- ivmediate(a, b, c, sims = 50, boot = TRUE, 
+                  enc = "treat", treat = "comply", mediator = "job_dich")
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
>                  
> summary(out.boot)

Causal Mediation Analysis with Treatment Noncompliance

Confidence Intervals Based on Nonparametric Bootstrap

                  Estimate 95% CI Lower 95% CI Upper
LACME (control) -0.0369632   -0.0840587   -0.0049197
LACME (treated) -0.0429314   -0.1056406   -0.0121153
LANDE (control) -0.0456689   -0.2029378    0.0964227
LANDE (treated) -0.0516371   -0.2225634    0.0581617
LATE            -0.0886003   -0.2260737    0.0361057

Sample Size Used: 899 


Simulations: 50 

> plot(out.boot)
> 
> 
> 
> 
> 
> cleanEx()

detaching ‘package:parallel’

> nameEx("mediate")
> ### * mediate
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate
> ### Title: Causal Mediation Analysis
> ### Aliases: mediate
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> 
> data(jobs)
> 
> ####################################################
> # Example 1: Linear Outcome and Mediator Models
> ####################################################
> b <- lm(job_seek ~ treat + econ_hard + sex + age, data=jobs)
> c <- lm(depress2 ~ treat + job_seek + econ_hard + sex + age, data=jobs)
> 
> # Estimation via quasi-Bayesian approximation
> contcont <- mediate(b, c, sims=50, treat="treat", mediator="job_seek")
> summary(contcont)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

                 Estimate 95% CI Lower 95% CI Upper p-value
ACME           -0.0170960   -0.0414679    0.0056191    0.12
ADE            -0.0325338   -0.1228806    0.0516176    0.40
Total Effect   -0.0496298   -0.1322918    0.0286780    0.28
Prop. Mediated  0.2457463   -1.9817832    2.4139863    0.24

Sample Size Used: 899 


Simulations: 50 

> plot(contcont)
> 
> ## Not run: 
> ##D # Estimation via nonparametric bootstrap
> ##D contcont.boot <- mediate(b, c, boot=TRUE, sims=50, treat="treat", mediator="job_seek")
> ##D summary(contcont.boot)
> ## End(Not run)
> 
> # Allowing treatment-mediator interaction
> d <- lm(depress2 ~ treat + job_seek + treat:job_seek + econ_hard + sex + age, data=jobs)
> contcont.int <- mediate(b, d, sims=50, treat="treat", mediator="job_seek")
> summary(contcont.int)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

                            Estimate 95% CI Lower 95% CI Upper p-value
ACME (control)            -0.0155769   -0.0488560    0.0101960    0.40
ACME (treated)            -0.0104401   -0.0399870    0.0065717    0.40
ADE (control)             -0.0481519   -0.1294199    0.0274536    0.28
ADE (treated)             -0.0430151   -0.1281384    0.0303072    0.32
Total Effect              -0.0585920   -0.1368581    0.0088312    0.24
Prop. Mediated (control)   0.1937684  -17.9416371    2.0388482    0.48
Prop. Mediated (treated)   0.1319940  -15.7463654    1.0415551    0.48
ACME (average)            -0.0130085   -0.0445894    0.0083838    0.40
ADE (average)             -0.0455835   -0.1280210    0.0280075    0.32
Prop. Mediated (average)   0.1628812  -16.8440012    1.5328148    0.48

Sample Size Used: 899 


Simulations: 50 

> 
> # Allowing ``moderated mediation'' with respect to age
> b.int <- lm(job_seek ~ treat*age + econ_hard + sex, data=jobs)
> d.int <- lm(depress2 ~ treat*job_seek*age + econ_hard + sex, data=jobs)
> contcont.age20 <- mediate(b.int, d.int, sims=50, treat="treat", mediator="job_seek",
+ 			covariates = list(age = 20))
> contcont.age70 <- mediate(b.int, d.int, sims=50, treat="treat", mediator="job_seek",
+ 			covariates = list(age = 70))
> summary(contcont.age20)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

(Inference Conditional on the Covariate Values Specified in `covariates')

                          Estimate 95% CI Lower 95% CI Upper p-value
ACME (control)           -0.034981    -0.109785     0.018268    0.28
ACME (treated)           -0.027600    -0.078617     0.012282    0.28
ADE (control)            -0.038554    -0.197576     0.107551    0.52
ADE (treated)            -0.031174    -0.198368     0.098870    0.64
Total Effect             -0.066154    -0.215729     0.069073    0.40
Prop. Mediated (control)  0.232444    -2.705918     2.122172    0.60
Prop. Mediated (treated)  0.180803    -1.372202     1.848832    0.60
ACME (average)           -0.031291    -0.092938     0.015777    0.28
ADE (average)            -0.034864    -0.198623     0.100931    0.60
Prop. Mediated (average)  0.206624    -2.007073     1.714848    0.60

Sample Size Used: 899 


Simulations: 50 

> summary(contcont.age70)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

(Inference Conditional on the Covariate Values Specified in `covariates')

                           Estimate 95% CI Lower 95% CI Upper p-value
ACME (control)            0.0129282   -0.0544614    0.0912170    0.72
ACME (treated)            0.0107402   -0.0479561    0.0779679    0.76
ADE (control)            -0.0558924   -0.4581438    0.1940047    0.72
ADE (treated)            -0.0580803   -0.4597007    0.2024265    0.72
Total Effect             -0.0451522   -0.4569273    0.2115047    0.84
Prop. Mediated (control)  0.0392437   -0.7195880    2.4636772    0.84
Prop. Mediated (treated)  0.0085237   -2.5189042    2.0615465    0.88
ACME (average)            0.0118342   -0.0389785    0.0937242    0.72
ADE (average)            -0.0569864   -0.4589222    0.2021849    0.72
Prop. Mediated (average)  0.0238837   -1.5829588    2.2424016    0.84

Sample Size Used: 899 


Simulations: 50 

> 
> # Continuous treatment
> jobs$treat_cont <- jobs$treat + rnorm(nrow(jobs))  # (hypothetical) continuous treatment
> b.contT <- lm(job_seek ~ treat_cont + econ_hard + sex + age, data=jobs)
> c.contT <- lm(depress2 ~ treat_cont + job_seek + econ_hard + sex + age, data=jobs)
> contcont.cont <- mediate(b.contT, c.contT, sims=50, 
+                     treat="treat_cont", mediator="job_seek",
+                     treat.value = 4, control.value = -2)
> summary(contcont.cont)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

                 Estimate 95% CI Lower 95% CI Upper p-value
ACME           -0.0092735   -0.0502228    0.0517800    0.64
ADE            -0.1582751   -0.3199667    0.0479641    0.12
Total Effect   -0.1675486   -0.3245628    0.0259562    0.16
Prop. Mediated  0.0617905   -1.9949668    0.7697114    0.64

Sample Size Used: 899 


Simulations: 50 

> 
> # Categorical treatment 
> ## Not run: 
> ##D b <- lm(job_seek ~ educ + sex, data=jobs)
> ##D c <- lm(depress2 ~ educ + job_seek + sex, data=jobs)
> ##D 
> ##D # compare two categories of educ --- gradwk and somcol
> ##D model.cat <- mediate(b, c, treat="educ", mediator="job_seek", sims=50, 
> ##D                      control.value = "gradwk", treat.value = "somcol")
> ##D summary(model.cat)
> ## End(Not run)
> 
> ######################################################
> # Example 2: Binary Outcome and Ordered Mediator
> ######################################################
> ## Not run: 
> ##D jobs$job_disc <- as.factor(jobs$job_disc)
> ##D b.ord <- polr(job_disc ~ treat + econ_hard + sex + age, data=jobs,
> ##D             method="probit", Hess=TRUE)
> ##D d.bin <- glm(work1 ~ treat + job_disc + econ_hard + sex + age, data=jobs,
> ##D             family=binomial(link="probit"))
> ##D ordbin <- mediate(b.ord, d.bin, sims=50, treat="treat", mediator="job_disc")
> ##D summary(ordbin)
> ##D 
> ##D # Using heteroskedasticity-consistent standard errors
> ##D ordbin.rb <- mediate(b.ord, d.bin, sims=50, treat="treat", mediator="job_disc",
> ##D             robustSE=TRUE)
> ##D summary(ordbin.rb)
> ##D 
> ##D # Using non-parametric bootstrap
> ##D ordbin.boot <- mediate(b.ord, d.bin, sims=50, treat="treat", mediator="job_disc",
> ##D             boot=TRUE)
> ##D summary(ordbin.boot)
> ## End(Not run)
> 
> ######################################################
> # Example 3: Quantile Causal Mediation Effect
> ######################################################
> require(quantreg)
Loading required package: quantreg
Loading required package: SparseM

Attaching package: ‘SparseM’

The following object is masked from ‘package:Matrix’:

    det

> c.quan <- rq(depress2 ~ treat + job_seek + econ_hard + sex + age, data=jobs,
+             tau = 0.5)  # median
> contquan <- mediate(b, c.quan, sims=50, treat="treat", mediator="job_seek")
> summary(contquan)

Causal Mediation Analysis 

Quasi-Bayesian Confidence Intervals

                Estimate 95% CI Lower 95% CI Upper p-value
ACME           -0.018153    -0.051667     0.012224    0.20
ADE            -0.007092    -0.097265     0.088787    0.96
Total Effect   -0.025245    -0.101695     0.086565    0.52
Prop. Mediated  0.327739    -6.884524     2.454386    0.48

Sample Size Used: 899 


Simulations: 50 

> 
> ######################################################
> # Example 4: GAM Outcome
> ######################################################
> ## Not run: 
> ##D require(mgcv)
> ##D c.gam <- gam(depress2 ~ treat + s(job_seek, bs="cr") + 
> ##D             econ_hard + sex + age, data=jobs)
> ##D contgam <- mediate(b, c.gam, sims=10, treat="treat", 
> ##D                 mediator="job_seek", boot=TRUE)
> ##D summary(contgam)
> ##D 
> ##D # With interaction
> ##D d.gam <- gam(depress2 ~ treat + s(job_seek, by = treat) + 
> ##D     s(job_seek, by = control) + econ_hard + sex + age, data=jobs)
> ##D contgam.int <- mediate(b, d.gam, sims=10, treat="treat", mediator="job_seek",
> ##D     control = "control", boot=TRUE)
> ##D summary(contgam.int)
> ## End(Not run)
> ######################################################
> # Example 5: Multilevel Outcome and Mediator Models
> ######################################################
> ## Not run: 
> ##D require(lme4)
> ##D  
> ##D # educ: mediator group
> ##D # occp: outcome group
> ##D 
> ##D # Varying intercept for mediator 
> ##D model.m <- glmer(job_dich ~ treat + econ_hard + (1 | educ), 
> ##D              		     family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Varying intercept and slope for outcome
> ##D model.y <- glmer(work1 ~ treat + job_dich + econ_hard + (1 + treat | occp), 
> ##D                 family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Output based on mediator group ("educ")
> ##D multilevel <- mediate(model.m, model.y, treat = "treat", 
> ##D               mediator = "job_dich", sims=50, group.out="educ")
> ##D 
> ##D # Output based on outcome group ("occp")
> ##D # multilevel <- mediate(model.m, model.y, treat = "treat", 
> ##D               mediator = "job_dich", sims=50) 
> ##D 
> ##D # Group-average effects  
> ##D summary(multilevel)
> ##D 
> ##D # Group-specific effects organized by effect
> ##D summary(multilevel, output="byeffect")
> ##D # plot(multilevel, group.plots=TRUE)
> ##D # See summary.mediate.mer and plot.mediate.mer for detailed explanations 
> ##D 
> ##D # Group-specific effects organized by group
> ##D summary(multilevel, output="bygroup")
> ##D # See summary.mediate.mer for detailed explanations 
> ## End(Not run)
> 
> 
> 
> cleanEx()

detaching ‘package:quantreg’, ‘package:SparseM’

> nameEx("mediate.ced")
> ### * mediate.ced
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate.ced
> ### Title: Estimating Average Causal Mediation Effects under the Crossover
> ###   Encouragement Design
> ### Aliases: mediate.ced
> 
> ### ** Examples
> 
> data(CEDdata)
> 
> res <- mediate.ced("Y2", "M1", "M2", "T1", "Z", CEDdata, sims = 100)
> summary(res)

Design-Based Causal Mediation Analysis

Crossover Encouragement Design 

                        Estimate 95% CI Lower 95% CI Upper
Pliable ACME (control)  0.090694    -0.185553     0.282106
Pliable ACME (treated)  0.119353    -0.065104     0.282523

Sample Size Used:  2000 

> 
> 
> 
> cleanEx()
> nameEx("mediate.pd")
> ### * mediate.pd
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate.pd
> ### Title: Estimating Average Causal Mediation Effects under the Parallel
> ###   Design
> ### Aliases: mediate.pd
> 
> ### ** Examples
> 
> data(boundsdata)
> 
> bound2 <- mediate.pd("out", "med", "ttt", "manip", boundsdata, 
+                   NINT = TRUE, sims = 100, conf.level=.95)
> summary(bound2)

Design-Based Causal Mediation Analysis

Parallel Design (with No Interaction Assumption) 

     Estimate 95% CI Lower 95% CI Upper
ACME  0.32972      0.20284      0.44470

Sample Size Used:  1000 

> 
> bound2.1 <- mediate.pd("out", "med", "ttt", "manip", boundsdata, NINT = FALSE)
> summary(bound2.1)

Design-Based Causal Mediation Analysis

Parallel Design (Interaction Allowed) 

               Lower Bound Upper Bound
ACME (control)    -0.32071     0.33033
ACME (treated)     0.20065     0.76797

Sample Size Used:  1000 

> 
> 
> 
> cleanEx()
> nameEx("mediate.ped")
> ### * mediate.ped
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate.ped
> ### Title: Computing Bounds on Average Causal Mediation Effects under the
> ###   Parallel Encouragement Design
> ### Aliases: mediate.ped
> 
> ### ** Examples
> 
> data(boundsdata)
> 
> bound3 <- mediate.ped("out.enc", "med.enc", "ttt", "enc", boundsdata)
> summary(bound3)

Design-Based Causal Mediation Analysis

Parallel Encouragement Design

                          Lower Bound Upper Bound
Population ACME (control)   -0.434075    0.323651
Complier ACME (control)     -0.146491    0.207748
Population ACME (treated)   -0.020137    0.743392
Complier ACME (treated)      0.011372    0.707211

Sample Size Used:  1000 

> 
> 
> 
> cleanEx()
> nameEx("mediate.sed")
> ### * mediate.sed
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate.sed
> ### Title: Estimating Average Causal Mediation Effects under the Single
> ###   Experiment Design
> ### Aliases: mediate.sed
> 
> ### ** Examples
> 
> # Example 1: Bounds without SI assumption
> 
> data(boundsdata)
> 
> data.SED <- subset(boundsdata, manip == 0)
> bound1 <- mediate.sed("out", "med", "ttt", data.SED, SI=FALSE)
> summary(bound1)

Design-Based Causal Mediation Analysis

Single Experiment Design (without Sequential Ignorability) 

               Lower Bound Upper Bound
ACME (control)    -0.66967     0.33033
ACME (treated)    -0.12418     0.87034

Sample Size Used:  486 

> 
> # Example 2: Nonparametric estimate of ACME under SI assumption
> # Example with JOBS II Field Experiment
> 
> data(jobs)
> 
> foo.1 <- mediate.sed("depress2", "job_disc", "treat", jobs, SI=TRUE)
> summary(foo.1)

Design-Based Causal Mediation Analysis

Single Experiment Design with Sequential Ignorability 

Confidence Intervals Based on Asymptotic Variance

                 Estimate 95% CI Lower 95% CI Upper
ACME (control) -0.0155773   -0.0447470    0.0135924
ACME (treated) -0.0170648   -0.0412068    0.0070772

Sample Size Used:  899 

> 
> foo.2 <- mediate.sed("depress2", "job_disc", "treat", jobs, SI=TRUE, boot=TRUE)
> summary(foo.2)

Design-Based Causal Mediation Analysis

Single Experiment Design with Sequential Ignorability 

Confidence Intervals Based on Nonparametric Bootstrap

                Estimate 95% CI Lower 95% CI Upper
ACME (control) -0.015577    -0.104258     0.066643
ACME (treated) -0.017065    -0.194761     0.149143

Sample Size Used:  899 

> 
> 
> 
> cleanEx()
> nameEx("mediate_tsls")
> ### * mediate_tsls
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediate_tsls
> ### Title: Two-stage Least Squares Estimation of the Average Causal
> ###   Mediation Effects
> ### Aliases: mediate_tsls
> 
> ### ** Examples
> 
> # Generate data. We use TSLS to address unobserved confounding (n).
> set.seed(123)
> sims <- 1000
> dat <- data.frame(z = sample(0:1, sims, replace = TRUE), 
+                   t = sample(0:1, sims, replace = TRUE))
> dat$n <- rnorm(sims, mean = 1)
> dat$m <- rnorm(sims, mean = dat$z * 0.3 + dat$t * 0.2 + dat$n * 0.7, sd = 0.2)
> dat$y <- rnorm(sims, mean = 5 + dat$t + dat$m * (-3) + dat$n, sd = 1)
> model.m <- lm(m ~ t + z, data = dat)
> model.y <- lm(y ~ t + m, data = dat)
> cluster <- factor(sample(1:3, sims, replace = TRUE))
> med <- mediate_tsls(model.m, model.y, cluster = cluster, treat = "t")
> summary(med) 

Causal Mediation Analysis using Two-Stage Least Squares

Two-Stage Least Squares Confidence Intervals

                Estimate 95% CI Lower 95% CI Upper   p-value    
ACME           -0.526823    -0.793276    -0.260370 5.327e-05 ***
ADE             0.875103     0.782406     0.967799 < 2.2e-16 ***
Total Effect    0.348280     0.081432     0.615128  0.005263 ** 
Prop. Mediated -1.512642    -3.405988     0.380704  0.058690 .  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Sample Size Used: 1000 


Simulations: NA 

> 
> 
> 
> cleanEx()
> nameEx("mediations")
> ### * mediations
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: mediations
> ### Title: Causal Mediation Analysis for Multiple
> ###   Outcome/Treatment/Mediator Combinations
> ### Aliases: mediations
> 
> ### ** Examples
> 
>  
> ## Not run: 
> ##D # Hypothetical example
> ##D 
> ##D datasets <- list(T1 = T1, T2 = T2)
> ##D     # List of data frames corresponding to the two different treatment variables 
> ##D     #"T1vsCont" and "T2vsCont". 
> ##D     # Each data set has its respective treatment variable.
> ##D     
> ##D mediators <- c("M1", "M2") 
> ##D     # Vector of mediator names, all included in each data frame.
> ##D 
> ##D outcome <- c("Ycont1","Ycont2")
> ##D     # Vector of outcome variable names, again all included in each data frame.
> ##D     
> ##D treatment <- c("T1vsCont", "T2vsCont")
> ##D     # Vector of treatment variables names; must begin with identical strings with dataset 
> ##D     # names in 'datasets'.
> ##D     
> ##D covariates <- c("X1 + X2")
> ##D     # Set of covariates (in each data set), entered using the standard model formula format.
> ##D 
> ##D x <- mediations(datasets, treatment, mediators, outcome, covariates,
> ##D     families=c("gaussian","gaussian"), interaction=FALSE, 
> ##D     conf.level=.90, sims=50) 
> ##D     # Runs 'mediate' iteratively for each variable combinations, with 'lm' on both mediator 
> ##D     # and outcome model.
> ##D 
> ##D summary(x)  # tabular summary of results for all model combinations
> ##D plot(x)  # graphical summary of results for all model combinations at once
> ##D 
> ##D plot(x$Ycont1.T1vsCont.M1) 
> ##D     # Individual 'mediate' outputs are stored as list elements and can be 
> ##D     # accessed using the usual "$" operator.
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("medsens")
> ### * medsens
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: medsens
> ### Title: Sensitivity Analysis for Causal Mediation Effects
> ### Aliases: medsens
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> 
> data(jobs)
> 
> ####################################################
> # Example 1: Binary treatment 
> ####################################################
> # Fit parametric models
> b <- lm(job_seek ~ treat + econ_hard + sex + age, data=jobs)
> c <- lm(depress2 ~ treat + job_seek + econ_hard + sex + age, data=jobs)
> 
> # Pass model objects through mediate function
> med.cont <- mediate(b, c, treat="treat", mediator="job_seek", sims=50)
> # med.cont <- mediate(b, c, treat="treat", mediator="job_seek", sims=50, robustSE = T)
> # jobs$cluster <- rep(1:30, each = 30)[-1]
> # med.cont <- mediate(b, c, treat="treat", mediator="job_seek", sims=50, cluster = jobs$cluster)
> 
> # Pass mediate output through medsens function
> sens.cont <- medsens(med.cont, rho.by=.1, eps=.01, effect.type="both")
> 
> # Use summary function to display results
> summary(sens.cont)

Mediation Sensitivity Analysis for Average Causal Mediation Effect

Sensitivity Region

       Rho    ACME 95% CI Lower 95% CI Upper R^2_M*R^2_Y* R^2_M~R^2_Y~
 [1,] -0.9  0.0928      -0.0496       0.2353         0.81       0.7044
 [2,] -0.8  0.0555      -0.0297       0.1407         0.64       0.5565
 [3,] -0.7  0.0369      -0.0198       0.0937         0.49       0.4261
 [4,] -0.6  0.0254      -0.0138       0.0646         0.36       0.3130
 [5,] -0.5  0.0160      -0.0088       0.0408         0.25       0.2174
 [6,] -0.4  0.0081      -0.0048       0.0211         0.16       0.1391
 [7,] -0.3  0.0016      -0.0028       0.0060         0.09       0.0783
 [8,] -0.2 -0.0044      -0.0122       0.0033         0.04       0.0348
 [9,] -0.1 -0.0102      -0.0262       0.0059         0.01       0.0087
[10,]  0.0 -0.0157      -0.0402       0.0087         0.00       0.0000
[11,]  0.1 -0.0213      -0.0542       0.0116         0.01       0.0087
[12,]  0.2 -0.0270      -0.0687       0.0146         0.04       0.0348
[13,]  0.3 -0.0331      -0.0840       0.0178         0.09       0.0783
[14,]  0.4 -0.0396      -0.1005       0.0213         0.16       0.1391
[15,]  0.5 -0.0475      -0.1204       0.0254         0.25       0.2174
[16,]  0.6 -0.0569      -0.1443       0.0305         0.36       0.3130
[17,]  0.7 -0.0684      -0.1735       0.0366         0.49       0.4261
[18,]  0.8 -0.0870      -0.2205       0.0465         0.64       0.5565
[19,]  0.9 -0.1243      -0.3150       0.0664         0.81       0.7044

Rho at which ACME = 0: -0.3
R^2_M*R^2_Y* at which ACME = 0: 0.09
R^2_M~R^2_Y~ at which ACME = 0: 0.0783 


Mediation Sensitivity Analysis for Average Direct Effect

Sensitivity Region

       Rho     ADE 95% CI Lower 95% CI Upper R^2_M*R^2_Y* R^2_M~R^2_Y~
 [1,] -0.9 -0.1488      -0.3339       0.0363         0.81       0.7044
 [2,] -0.8 -0.1115      -0.2482       0.0252         0.64       0.5565
 [3,] -0.7 -0.0930      -0.2085       0.0226         0.49       0.4261
 [4,] -0.6 -0.0814      -0.1868       0.0239         0.36       0.3130
 [5,] -0.5 -0.0720      -0.1694       0.0254         0.25       0.2174
 [6,] -0.4 -0.0641      -0.1557       0.0274         0.16       0.1391
 [7,] -0.3 -0.0576      -0.1464       0.0312         0.09       0.0783
 [8,] -0.2 -0.0516      -0.1383       0.0352         0.04       0.0348
 [9,] -0.1 -0.0458      -0.1313       0.0396         0.01       0.0087
[10,]  0.0 -0.0403      -0.1253       0.0448         0.00       0.0000
[11,]  0.1 -0.0347      -0.1202       0.0508         0.01       0.0087
[12,]  0.2 -0.0290      -0.1157       0.0577         0.04       0.0348
[13,]  0.3 -0.0229      -0.1117       0.0658         0.09       0.0783
[14,]  0.4 -0.0164      -0.1080       0.0752         0.16       0.1391
[15,]  0.5 -0.0085      -0.1059       0.0889         0.25       0.2174
[16,]  0.6  0.0009      -0.1044       0.1063         0.36       0.3130
[17,]  0.7  0.0124      -0.1031       0.1280         0.49       0.4261
[18,]  0.8  0.0310      -0.1057       0.1677         0.64       0.5565
[19,]  0.9  0.0683      -0.1168       0.2534         0.81       0.7044

Rho at which ADE = 0: 0.6
R^2_M*R^2_Y* at which ADE = 0: 0.36
R^2_M~R^2_Y~ at which ADE = 0: 0.313 

> 
> # Plot true ACMEs and ADEs as functions of rho
> par.orig <- par(mfrow = c(2,2))
> plot(sens.cont, main="JOBS", ylim=c(-.2,.2))
> 
> # Plot true ACMEs and ADEs as functions of "R square tildes"
> plot(sens.cont, sens.par="R2", r.type="total", sign.prod="positive")
> par(par.orig)
> 
> ####################################################
> # Example 2: Categorical treatment 
> ####################################################
> ## Not run: 
> ##D 
> ##D # Purely for illustration, think of educ as a ``treatment''
> ##D 
> ##D b <- lm(job_seek ~ educ + sex, data=jobs)
> ##D c <- lm(depress2 ~ educ + job_seek + sex, data=jobs)
> ##D 
> ##D # compare two categories of educ --- gradwk and somcol
> ##D med.cont <- mediate(b, c, treat="educ", mediator="job_seek", sims=50, 
> ##D                     control.value = "gradwk", treat.value = "somcol")
> ##D sens.cont <- medsens(med.cont, rho.by=.1, eps=.01, effect.type="both")
> ##D summary(sens.cont)
> ## End(Not run)
> 
> 
> 
> 
> graphics::par(get("par.postscript", pos = 'CheckExEnv'))
> cleanEx()
> nameEx("multimed")
> ### * multimed
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: multimed
> ### Title: Estimation and Sensitivity Analysis for Multiple Causal
> ###   Mechanisms
> ### Aliases: multimed
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Replicates Figure 3 (right column) of Imai and Yamamoto (2012)
> ##D # Note: # of bootstrap samples set low for quick illustration
> ##D 
> ##D data(framing)
> ##D Xnames <- c("age", "educ", "gender", "income")
> ##D res <- multimed("immigr", "emo", "p_harm", "treat", Xnames, 
> ##D                data = framing, design = "single", sims = 10)
> ##D summary(res)
> ##D plot(res, type = "point")
> ##D plot(res, type = c("sigma", "R2-total"), tgroup = "average")
> ##D 
> ##D # Parallel design example using the simulated data of Imai, Tingley and Yamamoto (2012)
> ##D 
> ##D data(boundsdata)
> ##D res.para <- multimed(outcome = "out", med.main = "med", treat = "ttt", experiment = "manip",
> ##D 					 data = boundsdata, design = "parallel", sims = 10)
> ##D summary(res.para)
> ##D plot(res.para, tg = "av")
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("plot.ivmediate")
> ### * plot.ivmediate
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: plot.ivmediate
> ### Title: Plotting Local Indirect, Direct, and Total Effects from
> ###   Mediation Analysis with Treatment Noncompliance
> ### Aliases: plot.ivmediate
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # ** For illustration purposes a small number of simulations are used **
> 
> require(parallel)
Loading required package: parallel
> require(MASS)
> 
> data(jobs)
> 
> a <- lm(comply ~ treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> b <- glm(job_dich ~ comply + treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs, family = binomial)
> c <- lm(depress2 ~ job_dich * (comply + treat) + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> 
> out <- ivmediate(a, b, c, sims = 50, boot = FALSE,
+                  enc = "treat", treat = "comply", mediator = "job_dich")
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
>                  
> summary(out)

Causal Mediation Analysis with Treatment Noncompliance

Confidence Intervals Based on Quasi-Bayesian Monte Carlo

                  Estimate 95% CI Lower 95% CI Upper
LACME (control) -0.0369632   -0.1022838    0.0011009
LACME (treated) -0.0429314   -0.0942065   -0.0044397
LANDE (control) -0.0456689   -0.1360691    0.0958424
LANDE (treated) -0.0516371   -0.1502673    0.1095840
LATE            -0.0886003   -0.1673471    0.0390728

Sample Size Used: 899 


Simulations: 50 

> plot(out)
> 
> 
> 
> 
> cleanEx()

detaching ‘package:parallel’

> nameEx("plot.mediate.mer")
> ### * plot.mediate.mer
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: plot.mediate.mer
> ### Title: Plotting Indirect, Direct, and Total Effects from Mediation
> ###   Analysis of Multilevel Models
> ### Aliases: plot.mediate.mer
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> ## Not run: 
> ##D data(jobs)
> ##D require(lme4)
> ##D 
> ##D # educ: mediator group
> ##D # occp: outcome group
> ##D 
> ##D # Varying intercept for mediator 
> ##D model.m <- glmer(job_dich ~ treat + econ_hard + (1 | educ), 
> ##D              		     family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Varying intercept and slope for outcome
> ##D model.y <- glmer(work1 ~ treat + job_dich + econ_hard + (1 + treat | occp), 
> ##D                 family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Output based on mediator group
> ##D multilevel <- mediate(model.m, model.y, treat = "treat", 
> ##D                       mediator = "job_dich", sims=50, group.out="educ")
> ##D 
> ##D #plot(multilevel, group.plots=TRUE)
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("plot.multimed")
> ### * plot.multimed
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: plot.multimed
> ### Title: Plotting the Results of Causal Mediation Analysis for Multiple
> ###   Mechanisms
> ### Aliases: plot.multimed
> 
> ### ** Examples
> 
> ## Not run: 
> ##D 
> ##D # Replicates Figure 3 (right column) of Imai and Yamamoto (2012)
> ##D # Note: # of bootstrap samples set low for quick illustration
> ##D 
> ##D data(framing)
> ##D Xnames <- c("age", "educ", "gender", "income")
> ##D res <- multimed("immigr", "emo", "p_harm", "treat", Xnames,
> ##D                data = framing, sims = 10)
> ##D summary(res)
> ##D plot(res, type = "point")
> ##D plot(res, type = c("sigma", "R2-total"), tgroup = "average")
> ##D 
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("summary.ivmediate")
> ### * summary.ivmediate
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: summary.ivmediate
> ### Title: Summarizing Output from Mediation Analysis with Treatment
> ###   Noncompliance
> ### Aliases: summary.ivmediate print.summary.ivmediate
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # ** For illustration purposes a small number of simulations are used **
> 
> require(parallel)
Loading required package: parallel
> require(MASS)
> 
> data(jobs)
> 
> a <- lm(comply ~ treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> b <- glm(job_dich ~ comply + treat + sex + age + marital + nonwhite + educ + income, 
+         data = jobs, family = binomial)
> c <- lm(depress2 ~ job_dich * (comply + treat) + sex + age + marital + nonwhite + educ + income, 
+         data = jobs)
> 
> out <- ivmediate(a, b, c, sims = 50, boot = FALSE,
+                  enc = "treat", treat = "comply", mediator = "job_dich")
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.a, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
Warning in formula.character(c("~", paste(labs.y.b, collapse = "+"))) :
  Using formula(x) is deprecated when x is a character vector of length > 1.
  Consider formula(paste(x, collapse = " ")) instead.
>                  
> summary(out)

Causal Mediation Analysis with Treatment Noncompliance

Confidence Intervals Based on Quasi-Bayesian Monte Carlo

                  Estimate 95% CI Lower 95% CI Upper
LACME (control) -0.0369632   -0.1022838    0.0011009
LACME (treated) -0.0429314   -0.0942065   -0.0044397
LANDE (control) -0.0456689   -0.1360691    0.0958424
LANDE (treated) -0.0516371   -0.1502673    0.1095840
LATE            -0.0886003   -0.1673471    0.0390728

Sample Size Used: 899 


Simulations: 50 

> plot(out)
> 
> 
> 
> 
> cleanEx()

detaching ‘package:parallel’

> nameEx("summary.mediate.mer")
> ### * summary.mediate.mer
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: summary.mediate.mer
> ### Title: Summarizing Output from Mediation Analysis of Multilevel Models
> ### Aliases: summary.mediate.mer print.summary.mediate.mer
> ###   print.summary.mediate.mer.2 print.summary.mediate.mer.3
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> ## Not run: 
> ##D data(jobs)
> ##D require(lme4)
> ##D 
> ##D # educ: mediator group
> ##D # occp: outcome group
> ##D 
> ##D # Varying intercept for mediator 
> ##D model.m <- glmer(job_dich ~ treat + econ_hard + (1 | educ), 
> ##D              		     family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Varying intercept and slope for outcome
> ##D model.y <- glmer(work1 ~ treat + job_dich + econ_hard + (1 + treat | occp), 
> ##D                 family = binomial(link = "probit"), data = jobs)
> ##D 
> ##D # Output based on mediator group
> ##D multilevel <- mediate(model.m, model.y, treat = "treat", 
> ##D                       mediator = "job_dich", sims=50, group.out="educ")
> ##D 
> ##D # Group-average effects  
> ##D summary(multilevel)
> ##D 
> ##D # Group-specific effects organized by effect
> ##D summary(multilevel, output="byeffect")
> ##D 
> ##D # Group-specific effects organized by group
> ##D summary(multilevel, output="bygroup")
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("summary.multimed")
> ### * summary.multimed
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: summary.multimed
> ### Title: Summarizing Output from Mediation Analysis with Multiple
> ###   Mechanisms
> ### Aliases: summary.multimed print.summary.multimed
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Replicates Figure 3 (right column) of Imai and Yamamoto (2012)
> ##D # Note: # of bootstrap samples set low for quick illustration
> ##D 
> ##D data(framing)
> ##D Xnames <- c("age", "educ", "gender", "income")
> ##D res <- multimed("immigr", "emo", "p_harm", "treat", Xnames, 
> ##D                data = framing, sims = 10)
> ##D summary(res)
> ##D plot(res, type = "point")
> ##D plot(res, type = c("sigma", "R2-total"), tgroup = "average")
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("test.TMint")
> ### * test.TMint
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: test.TMint
> ### Title: Significance Test for Treatment-Mediator Interaction in Causal
> ###   Mediation Analysis
> ### Aliases: test.TMint test.TMint.default test.TMint.mediate
> ###   test.TMint.mediate.order print.htest.order
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> 
> data(jobs)
> 
> # Fit mediator and outcome models allowing for treatment-mediator interaction
> b <- lm(job_seek ~ treat + econ_hard + sex + age, data=jobs)
> d <- lm(depress2 ~ treat*job_seek + econ_hard + sex + age, data=jobs)
> 
> # Test for significance of interaction
> fit <- mediate(b, d, sims=50, treat="treat", mediator="job_seek")
> test.TMint(fit)

	Test of ACME(1) - ACME(0) = 0

data:  estimates from fit
ACME(1) - ACME(0) = 0.0061678, p-value = 0.24
alternative hypothesis: true ACME(1) - ACME(0) is not equal to 0
95 percent confidence interval:
 -0.00450863  0.02294129

> 
> 
> 
> 
> cleanEx()
> nameEx("test.modmed")
> ### * test.modmed
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: test.modmed
> ### Title: Significance Test for Moderated Mediation
> ### Aliases: test.modmed test.modmed.default test.modmed.mediate
> ###   test.modmed.mediate.order print.test.modmed.mediate
> ###   print.test.modmed.mediate.order
> 
> ### ** Examples
> 
> # Examples with JOBS II Field Experiment
> 
> # **For illustration purposes a small number of simulations are used**
> 
> data(jobs)
> 
> # Fit mediator and outcome models allowing for interaction with moderator
> b.int <- lm(job_seek ~ treat*age + econ_hard + sex, data=jobs)
> d.int <- lm(depress2 ~ treat*job_seek*age + econ_hard + sex, data=jobs)
> 
> # Initial mediate fit
> fit <- mediate(b.int, d.int, sims=50, treat="treat", mediator="job_seek")
> 
> # Test for significance of moderated mediation
> test.modmed(fit, list(age = 20), list(age = 70), sims = 100)

	Test of ACME(1|covariates.1) - ACME(1|covariates.2) = 0

data:  estimates from fit
ACME(1|covariates.1) - ACME(1|covariates.2) = -0.04468, p-value = 0.28
alternative hypothesis: true ACME(1|covariates.1) - ACME(1|covariates.2) is not equal to 0
95 percent confidence interval:
 -0.14042721  0.02687052


	Test of ACME(0|covariates.1) - ACME(0|covariates.2) = 0

data:  estimates from fit
ACME(0|covariates.1) - ACME(0|covariates.2) = -0.065273, p-value = 0.26
alternative hypothesis: true ACME(0|covariates.1) - ACME(0|covariates.2) is not equal to 0
95 percent confidence interval:
 -0.20943763  0.05553717


	Test of ADE(1|covariates.1) - ADE(1|covariates.2) = 0

data:  estimates from fit
ADE(1|covariates.1) - ADE(1|covariates.2) = 0.04676, p-value = 0.84
alternative hypothesis: true ADE(1|covariates.1) - ADE(1|covariates.2) is not equal to 0
95 percent confidence interval:
 -0.3247211  0.3318651


	Test of ADE(0|covariates.1) - ADE(0|covariates.2) = 0

data:  estimates from fit
ADE(0|covariates.1) - ADE(0|covariates.2) = 0.026167, p-value = 0.92
alternative hypothesis: true ADE(0|covariates.1) - ADE(0|covariates.2) is not equal to 0
95 percent confidence interval:
 -0.3285050  0.3632881

> 
> 
> 
> 
> ### * <FOOTER>
> ###
> cleanEx()
> options(digits = 7L)
> base::cat("Time elapsed: ", proc.time() - base::get("ptime", pos = 'CheckExEnv'),"\n")
Time elapsed:  11.789 13.328 10.214 0 0 
> grDevices::dev.off()
null device 
          1 
> ###
> ### Local variables: ***
> ### mode: outline-minor ***
> ### outline-regexp: "\\(> \\)?### [*]+" ***
> ### End: ***
> quit('no')
