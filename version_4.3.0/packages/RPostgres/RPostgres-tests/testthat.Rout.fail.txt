
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # This file is part of the standard setup for testthat.
> # It is recommended that you do not modify it.
> #
> # Where should you do additional test configuration?
> # Learn more about the roles of various files in:
> # * https://r-pkgs.org/tests.html
> # * https://testthat.r-lib.org/reference/test_package.html#special-files
> 
> library(testthat)
> library(RPostgres)
> 
> test_check("RPostgres")
Could not initialise default postgres database. If postgres is running
check that the environment variables PGHOST, PGPORT, 
PGUSER, PGPASSWORD, and PGDATABASE, are defined and
point to your database.
Could not initialise default postgres database. If postgres is running
check that the environment variables PGHOST, PGPORT, 
PGUSER, PGPASSWORD, and PGDATABASE, are defined and
point to your database.
Could not initialise default postgres database. If postgres is running
check that the environment variables PGHOST, PGPORT, 
PGUSER, PGPASSWORD, and PGDATABASE, are defined and
point to your database.
Could not initialise default postgres database. If postgres is running
check that the environment variables PGHOST, PGPORT, 
PGUSER, PGPASSWORD, and PGDATABASE, are defined and
point to your database.
[ FAIL 1 | WARN 0 | SKIP 51 | PASS 11 ]

══ Skipped tests ═══════════════════════════════════════════════════════════════
• On CRAN (17)
• postgresHasDefault() is not TRUE (3)
• Test database not available (31)

══ Failed tests ════════════════════════════════════════════════════════════════
── Error ('test-DBItest.R:3:3'): (code run outside of `test_that()`) ───────────
<Rcpp::exception/C++Error/error/condition>
Error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?

Backtrace:
     ▆
  1. ├─DBItest::test_all() at test-DBItest.R:3:2
  2. │ └─DBItest::test_getting_started(...) at DBItest/R/test-all.R:26:2
  3. │   └─DBItest:::run_tests(...) at DBItest/R/test-getting-started.R:20:2
  4. │     └─DBItest:::local_connection(ctx) at DBItest/R/run.R:29:4
  5. │       └─DBItest:::connect(ctx, ...) at DBItest/R/utils.R:13:2
  6. │         └─rlang::eval_tidy(quo(dbConnect(ctx$cnr, !!!quos))) at DBItest/R/context.R:87:2
  7. ├─DBI::dbConnect(ctx$cnr)
  8. └─DBI::dbConnect(ctx$cnr)
  9.   ├─base::do.call(dbConnect, all_args)
 10.   ├─DBI (local) `<stndrdGn>`(drv = `<PqDriver>`)
 11.   └─RPostgres (local) `<stndrdGn>`(drv = `<PqDriver>`)
 12.     └─RPostgres (local) .local(drv, ...)
 13.       └─RPostgres:::connection_create(names(opts), as.vector(opts), check_interrupts)

[ FAIL 1 | WARN 0 | SKIP 51 | PASS 11 ]
Error: Test failures
Execution halted
