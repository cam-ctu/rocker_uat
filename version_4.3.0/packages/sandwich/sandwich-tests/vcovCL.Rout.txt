
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library("sandwich")
> data("PetersenCL", package = "sandwich")
> m <- lm(y ~ x, data = PetersenCL)
> b <- glm((y > 0) ~ x, data = PetersenCL, family = binomial(link = "logit"))
> 
> options(digits = 4)
> 
> ## various versatile variance flavors
> vcovCL(m, cluster = ~ firm, type = "HC0", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.490e-03 -6.472e-05
x            -6.472e-05  2.559e-03
> vcovCL(m, cluster = ~ firm, type = "HC0", cadjust = FALSE)
            (Intercept)          x
(Intercept)   4.481e-03 -6.459e-05
x            -6.459e-05  2.554e-03
> vcovCL(m, cluster = ~ firm, type = "HC1", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.491e-03 -6.474e-05
x            -6.474e-05  2.560e-03
> vcovCL(m, cluster = ~ firm, type = "HC1", cadjust = FALSE)
            (Intercept)          x
(Intercept)   4.482e-03 -6.461e-05
x            -6.461e-05  2.555e-03
> vcovCL(m, cluster = ~ firm, type = "HC2", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.494e-03 -6.593e-05
x            -6.593e-05  2.568e-03
> vcovCL(m, cluster = ~ firm, type = "HC2", cadjust = FALSE)
            (Intercept)          x
(Intercept)   0.0044855 -0.0000658
x            -0.0000658  0.0025631
> vcovCL(m, cluster = ~ firm, type = "HC3", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.508e-03 -6.728e-05
x            -6.728e-05  2.582e-03
> vcovCL(m, cluster = ~ firm, type = "HC3", cadjust = FALSE)
            (Intercept)          x
(Intercept)   4.499e-03 -6.715e-05
x            -6.715e-05  2.577e-03
> 
> vcovCL(m, cluster = ~ firm + year, type = "HC0", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.232e-03 -2.845e-05
x            -2.845e-05  2.868e-03
> vcovCL(m, cluster = ~ firm + year, type = "HC0", cadjust = FALSE)
            (Intercept)          x
(Intercept)   0.0041690 -0.0000308
x            -0.0000308  0.0027515
> vcovCL(m, cluster = ~ firm + year, type = "HC1", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.233e-03 -2.845e-05
x            -2.845e-05  2.868e-03
> vcovCL(m, cluster = ~ firm + year, type = "HC1", cadjust = FALSE)
            (Intercept)          x
(Intercept)    4.17e-03 -0.0000308
x             -3.08e-05  0.0027520
> vcovCL(m, cluster = ~ firm + year, type = "HC2", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.237e-03 -2.821e-05
x            -2.821e-05  2.877e-03
> vcovCL(m, cluster = ~ firm + year, type = "HC2", cadjust = FALSE)
            (Intercept)         x
(Intercept)   0.0041738 -3.07e-05
x            -0.0000307  2.76e-03
> vcovCL(m, cluster = ~ firm + year, type = "HC3", cadjust = TRUE)
            (Intercept)          x
(Intercept)   4.312e-03 -2.504e-05
x            -2.504e-05  3.015e-03
> vcovCL(m, cluster = ~ firm + year, type = "HC3", cadjust = FALSE)
            (Intercept)          x
(Intercept)   4.242e-03 -2.798e-05
x            -2.798e-05  2.886e-03
> 
> 
> ## comparison with multiwayvcov::cluster.vcov
> if(!require("multiwayvcov")) q()
Loading required package: multiwayvcov
Warning message:
In library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :
  there is no package called ‘multiwayvcov’
