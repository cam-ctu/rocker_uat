
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> stopifnot(require(RUnit, quietly = TRUE))
> stopifnot(require(Rcpp, quietly = TRUE))
> stopifnot(require(RcppParallel, quietly = TRUE))

Attaching package: ‘RcppParallel’

The following object is masked from ‘package:Rcpp’:

    LdFlags

> 
> ## Set a seed to make the test deterministic
> set.seed(42)
> 
> ## Set a default backend
> backend <- Sys.getenv("RCPP_PARALLEL_BACKEND", unset = NA)
> if (is.na(backend))
+    Sys.setenv(RCPP_PARALLEL_BACKEND = "tinythread")
> 
> writeLines(paste("Using backend:", Sys.getenv("RCPP_PARALLEL_BACKEND")))
Using backend: tinythread
> 
> ## Define tests
> suite <- defineTestSuite(
+    name = "RcppParallel Unit Tests",
+    dirs = system.file("tests", package = "RcppParallel")
+ )
> 
> ## Based on practice in Rcpp to avoid some test failures
> Sys.setenv("R_TESTS" = "")
> 
> ## Run tests
> tests <- runTestSuite(suite)
using C++ compiler: ‘g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0’


Executing test function test.distance  ...  done successfully.

using C++ compiler: ‘g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0’


Executing test function test.innerproduct  ...  done successfully.

using C++ compiler: ‘g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0’


Executing test function test.sum  ...  done successfully.

using C++ compiler: ‘g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0’


Executing test function test.transform  ...  done successfully.

Warning messages:
1: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: Marsaglia-Multicarry has poor statistical properties
2: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: severe deviations from normality for Kinderman-Ramage + Marsaglia-Multicarry
3: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: Marsaglia-Multicarry has poor statistical properties
4: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: severe deviations from normality for Kinderman-Ramage + Marsaglia-Multicarry
5: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: Marsaglia-Multicarry has poor statistical properties
6: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: severe deviations from normality for Kinderman-Ramage + Marsaglia-Multicarry
7: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: Marsaglia-Multicarry has poor statistical properties
8: In RNGkind(kind = testSuite$rngKind, normal.kind = testSuite$rngNormalKind) :
  RNGkind: severe deviations from normality for Kinderman-Ramage + Marsaglia-Multicarry
> 
> ## Print results
> printTextProtocol(tests)
RUNIT TEST PROTOCOL -- Mon Jan  6 15:38:26 2025 
*********************************************** 
Number of test functions: 4 
Number of errors: 0 
Number of failures: 0 

 
1 Test Suite : 
RcppParallel Unit Tests - 4 test functions, 0 errors, 0 failures



Details 
*************************** 
Test Suite: RcppParallel Unit Tests 
Test function regexp: ^test.+ 
Test file regexp: ^runit.+\.[rR]$ 
Involved directory: 
/usr/local/lib/R/site-library/RcppParallel/tests 
--------------------------- 
Test file: /usr/local/lib/R/site-library/RcppParallel/tests/runit.distance.R 
test.distance: (1 checks) ... OK (0.19 seconds)
--------------------------- 
Test file: /usr/local/lib/R/site-library/RcppParallel/tests/runit.innerproduct.R 
test.innerproduct: (1 checks) ... OK (0.02 seconds)
--------------------------- 
Test file: /usr/local/lib/R/site-library/RcppParallel/tests/runit.sum.R 
test.sum: (1 checks) ... OK (0.46 seconds)
--------------------------- 
Test file: /usr/local/lib/R/site-library/RcppParallel/tests/runit.transform.R 
test.transform: (1 checks) ... OK (0.04 seconds)
> 
> ## Return success or failure to R CMD CHECK
> if (getErrors(tests)$nFail > 0) {
+    stop("TEST FAILED!")
+ }
> 
> if (getErrors(tests)$nErr > 0) {
+    stop("TEST HAD ERRORS!")
+ }
> 
> if (getErrors(tests)$nTestFunc < 1) {
+    stop("NO TEST FUNCTIONS RUN!")
+ }
> 
