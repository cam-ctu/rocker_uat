
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(processx)
> 
> test_check("processx", reporter = "summary")
assertions: 1234567
chr-io: 89a
cleanup: bc
client-lib: defghij
connections: klm.nopqr
env: stu
err-output: SSSSSSS
errors: vwxy..S
extra-connections: SSS
fifo: SSSS
io: ......zABCDESFGH
kill-tree: SSSSSSS
poll-connections: IJ
poll-curl: SSS
poll-stress: S
poll: KLMN
poll2: OPQRS
poll3: TUV
print: ..
process: WX..........S
ps-methods: ..............
pty: SSSS
run: ......................................................................S...........
set-std: ............................
sigchld: SSSSSSSS
standalone-errors: .................................................................................S...S...SSSSSS....S..S
stdin: SSSSSS
stress: SSS
unix-sockets: SSSSSSSSSS
utf8: SSSSSSS
utils: SS..........................................
wait: S.......S

══ Skipped ═════════════════════════════════════════════════════════════════════
1. simple error ('test-err-output.R:8:3') - Reason: On CRAN

2. simple error with cli ('test-err-output.R:25:3') - Reason: On CRAN

3. simple error with cli and colors ('test-err-output.R:44:3') - Reason: On CRAN

4. chain_error ('test-err-output.R:78:3') - Reason: On CRAN

5. chain_error with stop() ('test-err-output.R:124:3') - Reason: On CRAN

6. chain_error with rlang::abort() ('test-err-output.R:157:3') - Reason: On CRAN

7. full parent error is printed in non-interactive mode ('test-err-output.R:178:3') - Reason: On CRAN

8. output from error ('test-errors.R:71:3') - Reason: On CRAN

9. writing to extra connection ('test-extra-connections.R:4:3') - Reason: On CRAN

10. reading from extra connection ('test-extra-connections.R:28:3') - Reason: On CRAN

11. reading and writing to extra connection ('test-extra-connections.R:57:3') - Reason: On CRAN

12. read end first ('test-fifo.R:3:3') - Reason: On CRAN

13. write end first ('test-fifo.R:49:3') - Reason: On CRAN

14. write end first 2 ('test-fifo.R:96:3') - Reason: On CRAN

15. errors ('test-fifo.R:130:3') - Reason: On CRAN

16. readChar on IO, windows ('test-io.R:133:3') - Reason: only run it on windows

17. tree ids are inherited ('test-kill-tree.R:3:3') - Reason: On CRAN

18. tree ids are inherited if env is specified ('test-kill-tree.R:33:3') - Reason: On CRAN

19. kill_tree ('test-kill-tree.R:65:3') - Reason: On CRAN

20. kill_tree with children ('test-kill-tree.R:83:3') - Reason: On CRAN

21. kill_tree and orphaned children ('test-kill-tree.R:112:3') - Reason: On CRAN

22. cleanup_tree option ('test-kill-tree.R:148:3') - Reason: On CRAN

23. cleanup_tree stress test ('test-kill-tree.R:168:3') - Reason: On CRAN

24. curl fds ('test-poll-curl.R:3:3') - Reason: On CRAN

25. curl fds before others ('test-poll-curl.R:52:3') - Reason: On CRAN

26. process fd before curl fd ('test-poll-curl.R:83:3') - Reason: On CRAN

27. many processes ('test-poll-stress.R:3:3') - Reason: On CRAN

28. R process is installed with a SIGTERM cleanup handler ('test-process.R:102:3') - Reason: On CRAN

29. fails in windows ('test-pty.R:3:3') - Reason: only run it on windows

30. pty works ('test-pty.R:11:3') - Reason: On CRAN

31. pty echo ('test-pty.R:31:3') - Reason: On CRAN

32. read_output_lines() fails for pty ('test-pty.R:57:3') - Reason: On CRAN

33. condition on interrupt ('test-run.R:99:3') - Reason: On CRAN

34. is_alive() ('test-sigchld.R:4:3') - Reason: On CRAN

35. finalizer ('test-sigchld.R:32:3') - Reason: On CRAN

36. get_exit_status ('test-sigchld.R:58:3') - Reason: On CRAN

37. signal ('test-sigchld.R:84:3') - Reason: On CRAN

38. kill ('test-sigchld.R:117:3') - Reason: On CRAN

39. SIGCHLD handler ('test-sigchld.R:147:3') - Reason: On CRAN

40. Notify old signal handler ('test-sigchld.R:180:3') - Reason: On CRAN

41. it is ok if parallel has no active cluster ('test-sigchld.R:218:3') - Reason: On CRAN

42. un-caught condition has trace ('test-standalone-errors.R:81:3') - Reason: On CRAN

43. errors from subprocess ('test-standalone-errors.R:128:3') - Reason: only with callr 3.7.0

44. error trace from subprocess ('test-standalone-errors.R:148:3') - Reason: On CRAN

45. error trace from subprocess ('test-standalone-errors.R:185:3') - Reason: On CRAN

46. error trace from throw() in subprocess ('test-standalone-errors.R:216:3') - Reason: On CRAN

47. error trace from throw() in subprocess ('test-standalone-errors.R:253:3') - Reason: On CRAN

48. trace is not overwritten ('test-standalone-errors.R:284:3') - Reason: On CRAN

49. error is printed on error ('test-standalone-errors.R:294:3') - Reason: On CRAN

50. can pass frame as error call in `new_error()` ('test-standalone-errors.R:364:3') - Reason: On CRAN

51. can pass frame as error call in `throw()` ('test-standalone-errors.R:380:3') - Reason: On CRAN

52. stdin ('test-stdin.R:4:3') - Reason: On CRAN

53. stdin & stdout ('test-stdin.R:26:3') - Reason: On CRAN

54. stdin buffer full ('test-stdin.R:48:3') - Reason: On CRAN

55. file as stdin ('test-stdin.R:64:3') - Reason: On CRAN

56. large file as stdin ('test-stdin.R:83:3') - Reason: On CRAN

57. writing raw ('test-stdin.R:101:3') - Reason: On CRAN

58. can start 100 processes quickly ('test-stress.R:3:3') - Reason: On CRAN

59. run() a lot of times, with small timeouts ('test-stress.R:10:3') - Reason: On CRAN

60. run() and kill while polling ('test-stress.R:25:3') - Reason: On CRAN

61. CRUD ('test-unix-sockets.R:3:3') - Reason: On CRAN

62. client can read / write before accept ('test-unix-sockets.R:63:3') - Reason: On CRAN

63. poll returns connect ('test-unix-sockets.R:84:3') - Reason: On CRAN

64. poll returns connect even if pipes are connected ('test-unix-sockets.R:100:3') - Reason: On CRAN

65. reading unaccepted server socket is error ('test-unix-sockets.R:116:3') - Reason: On CRAN

66. writing unaccepted server socket is error ('test-unix-sockets.R:137:3') - Reason: On CRAN

67. here is no extra ready for poll(), without data ('test-unix-sockets.R:158:3') - Reason: On CRAN

68. closing the other end finishes `poll()`, on macOS ('test-unix-sockets.R:182:3') - Reason: On CRAN

69. errors ('test-unix-sockets.R:224:3') - Reason: On CRAN

70. unix-sockets.h ('test-unix-sockets.R:240:3') - Reason: On CRAN

71. UTF-8 executable name ('test-utf8.R:3:3') - Reason: On CRAN

72. UTF-8 directory name ('test-utf8.R:18:3') - Reason: On CRAN

73. UTF-8 argument ('test-utf8.R:44:3') - Reason: only run it on windows

74. native program name is converted to UTF-8 ('test-utf8.R:54:3') - Reason: only run it on windows

75. native args are converted to UTF-8 ('test-utf8.R:64:3') - Reason: only run it on windows

76. UTF-8 in stdout ('test-utf8.R:85:3') - Reason: On CRAN

77. UTF-8 in stderr ('test-utf8.R:93:3') - Reason: On CRAN

78. full_path gives correct values ('test-utils.R:4:3') - Reason: On CRAN

79. full_path gives correct values, windows ('test-utils.R:40:3') - Reason: only run it on windows

80. no deadlock when no stdout + wait ('test-wait.R:4:3') - Reason: failure would freeze

81. no fd leak on unix ('test-wait.R:48:3') - Reason: On CRAN

══ Failed ══════════════════════════════════════════════════════════════════════
── 1. Error ('test-assertions.R:8:5'): is_string ───────────────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_string(p))
       at test-assertions.R:8:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 2. Error ('test-assertions.R:20:5'): is_string_or_null ──────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_string_or_null(p))
       at test-assertions.R:20:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 3. Error ('test-assertions.R:43:5'): is_flag ────────────────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_flag(p))
       at test-assertions.R:43:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 4. Error ('test-assertions.R:59:5'): is_integerish_scalar ───────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_integerish_scalar(p))
       at test-assertions.R:59:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 5. Error ('test-assertions.R:74:5'): is_pid ─────────────────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_pid(p))
       at test-assertions.R:74:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 6. Error ('test-assertions.R:86:5'): is_flag_or_string ──────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_true(is_flag_or_string(p))
       at test-assertions.R:86:5
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 7. Error ('test-assertions.R:101:3'): is_existing_file ──────────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_false(is_existing_file(tempfile()))
       at test-assertions.R:101:3
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 8. Error ('test-chr-io.R:9:3'): Can read last line without trailing newline ─
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_equal(out, "foobar")
       at test-chr-io.R:9:3
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 9. Error ('test-chr-io.R:21:3'): Can read single characters ─────────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_equal(p$read_output(1), "1")
       at test-chr-io.R:21:3
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)

── 10. Error ('test-chr-io.R:37:3'): Can read multiple characters ──────────────
Error in `get(genname, envir = envir)`: object 'compare_proxy' not found
Backtrace:
  1. testthat::expect_equal(p$read_output(3), "123")
       at test-chr-io.R:37:3
  4. base::loadNamespace(x)
  7. base::loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
  8. base::registerS3methods(nsInfo$S3methods, package, env)
  9. base (local) register_S3_method_delayed(pkg, gen, cls, fun)
 10. base::registerS3method(gen, cls, fun, envir = asNamespace(pkg))
 11. base::get(genname, envir = envir)
  ... and 49 more


Maximum number of 10 failures reached, some test results may be missing.

══ DONE ════════════════════════════════════════════════════════════════════════
Error: Test failures
No deferred expressions to run
Execution halted
