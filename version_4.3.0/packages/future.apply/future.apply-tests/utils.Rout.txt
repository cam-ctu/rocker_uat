
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> source("incl/start,load-only.R")
[16:11:29.636] Set package option ‘parallelly.availableCores.methods’
[16:11:29.637] Environment variable ‘R_PARALLELLY_AVAILABLECORES_METHODS’ not set
[16:11:29.637] Set package option ‘parallelly.availableCores.fallback’
[16:11:29.637] Environment variable ‘R_PARALLELLY_AVAILABLECORES_FALLBACK’ not set
[16:11:29.638] Set package option ‘parallelly.availableCores.min’
[16:11:29.638] Environment variable ‘R_PARALLELLY_AVAILABLECORES_MIN’ not set
[16:11:29.638] Set package option ‘parallelly.availableCores.system’
[16:11:29.638] Environment variable ‘R_PARALLELLY_AVAILABLECORES_SYSTEM’ not set
[16:11:29.638] Set package option ‘parallelly.availableCores.logical’
[16:11:29.639] Environment variable ‘R_PARALLELLY_AVAILABLECORES_LOGICAL’ not set
[16:11:29.639] Set package option ‘parallelly.availableCores.omit’
[16:11:29.639] Environment variable ‘R_PARALLELLY_AVAILABLECORES_OMIT’ not set
[16:11:29.639] Set package option ‘parallelly.availableWorkers.methods’
[16:11:29.643] Environment variable ‘R_PARALLELLY_AVAILABLEWORKERS_METHODS’ not set
[16:11:29.643] Set package option ‘parallelly.fork.enable’
[16:11:29.643] Environment variable ‘R_PARALLELLY_FORK_ENABLE’ not set
[16:11:29.644] Set package option ‘parallelly.supportsMulticore.disableOn’
[16:11:29.644] Environment variable ‘R_PARALLELLY_SUPPORTSMULTICORE_DISABLEON’ not set
[16:11:29.644] Set package option ‘parallelly.supportsMulticore.unstable’
[16:11:29.644] Environment variable ‘R_PARALLELLY_SUPPORTSMULTICORE_UNSTABLE’ not set
[16:11:29.644] Set package option ‘parallelly.makeNodePSOCK.setup_strategy’
[16:11:29.645] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_SETUP_STRATEGY’ not set
[16:11:29.645] Set package option ‘parallelly.makeNodePSOCK.validate’
[16:11:29.645] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_VALIDATE’ not set
[16:11:29.645] Set package option ‘parallelly.makeNodePSOCK.connectTimeout’
[16:11:29.645] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_CONNECTTIMEOUT’ not set
[16:11:29.645] Set package option ‘parallelly.makeNodePSOCK.timeout’
[16:11:29.646] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_TIMEOUT’ not set
[16:11:29.646] Set package option ‘parallelly.makeNodePSOCK.useXDR’
[16:11:29.646] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_USEXDR’ not set
[16:11:29.646] Set package option ‘parallelly.makeNodePSOCK.socketOptions’
[16:11:29.646] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_SOCKETOPTIONS’ not set
[16:11:29.646] Set package option ‘parallelly.makeNodePSOCK.rshcmd’
[16:11:29.647] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_RSHCMD’ not set
[16:11:29.647] Set package option ‘parallelly.makeNodePSOCK.rshopts’
[16:11:29.647] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_RSHOPTS’ not set
[16:11:29.647] Set package option ‘parallelly.makeNodePSOCK.tries’
[16:11:29.647] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_TRIES’ not set
[16:11:29.647] Set package option ‘parallelly.makeNodePSOCK.tries.delay’
[16:11:29.648] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_TRIES_DELAY’ not set
[16:11:29.648] Set package option ‘parallelly.makeNodePSOCK.rscript_label’
[16:11:29.648] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_RSCRIPT_LABEL’ not set
[16:11:29.648] Set package option ‘parallelly.makeNodePSOCK.sessionInfo.pkgs’
[16:11:29.648] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_SESSIONINFO_PKGS’ not set
[16:11:29.648] Set package option ‘parallelly.makeNodePSOCK.autoKill’
[16:11:29.649] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_AUTOKILL’ not set
[16:11:29.649] Set package option ‘parallelly.makeNodePSOCK.master.localhost.hostname’
[16:11:29.649] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_MASTER_LOCALHOST_HOSTNAME’ not set
[16:11:29.649] Set package option ‘parallelly.makeNodePSOCK.port.increment’
[16:11:29.649] Environment variable ‘R_PARALLELLY_MAKENODEPSOCK_PORT_INCREMENT’ not set
[16:11:29.650] parallelly-specific environment variables:
[16:11:29.656] Future-specific environment variables:
[16:11:29.656] Environment variable ‘R_FUTURE_DEMO_MANDELBROT_REGION’ not set
[16:11:29.656] Environment variable ‘R_FUTURE_DEMO_MANDELBROT_NROW’ not set
[16:11:29.656] Environment variable ‘R_FUTURE_DEPRECATED_IGNORE’ not set
[16:11:29.656] Environment variable ‘R_FUTURE_DEPRECATED_DEFUNCT’ not set
[16:11:29.656] Environment variable ‘R_FUTURE_FORK_MULTITHREADING_ENABLE’ not set
[16:11:29.656] Environment variable ‘R_FUTURE_GLOBALS_MAXSIZE’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_GLOBALS_ONMISSING’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_GLOBALS_ONREFERENCE’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_GLOBALS_METHOD’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_GLOBALS_RESOLVE’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_LAZY_ASSERTOWNER’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_PLAN’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_PLAN_DISALLOW’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_PSOCK_RELAY_IMMEDIATE’ not set
[16:11:29.657] Environment variable ‘R_FUTURE_RELAY_IMMEDIATE’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_RESOLVE_RECURSIVE’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_RESOLVED_TIMEOUT’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_CLUSTER_RESOLVED_TIMEOUT’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_MULTICORE_RESOLVED_TIMEOUT’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_ONFUTURECONDITION_KEEPFUTURE’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_RNG_ONMISUSE’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_GLOBALENV_ONMISUSE’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_WAIT_TIMEOUT’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_WAIT_INTERVAL’ not set
[16:11:29.658] Environment variable ‘R_FUTURE_WAIT_ALPHA’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_ASSIGN_GLOBALS_EXCLUDE’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_OUTPUT_WINDOWS_REENCODE’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_GLOBALS_GLOBALSOF_LOCALS’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_GLOBALS_KEEPWHERE’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_STATE_ONINVALID’ not set
[16:11:29.659] Environment variable ‘R_FUTURE_JOURNAL’ not set
[16:11:29.660] R process uuid: 7be00b53-f5cc-8b8e-891b-9bab94dbfcb9
[16:11:29.660] Setting plan('default')
[16:11:29.661] plan(): Setting new future strategy stack:
[16:11:29.661] List of future strategies:
[16:11:29.661] 1. sequential:
[16:11:29.661]    - args: function (..., envir = parent.frame())
[16:11:29.661]    - tweaked: FALSE
[16:11:29.661]    - call: NULL
[16:11:29.680] plan(): nbrOfWorkers() = 1
[16:11:29.694] plan(): Setting new future strategy stack:
[16:11:29.694] List of future strategies:
[16:11:29.694] 1. sequential:
[16:11:29.694]    - args: function (..., envir = parent.frame())
[16:11:29.694]    - tweaked: FALSE
[16:11:29.694]    - call: future::plan("sequential")
[16:11:29.704] plan(): nbrOfWorkers() = 1
> stop_if_not <- future.apply:::stop_if_not
> 
> message("*** utils ...")
*** utils ...
> 
> message("*** hpaste() ...")
*** hpaste() ...
> 
> # Some vectors
> x <- 1:6
> y <- 10:1
> z <- LETTERS[x]
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # Abbreviation of output vector
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> printf("x = %s.\n", hpaste(x))
x = 1, 2, 3, 4, 5, 6.
> ## x = 1, 2, 3, ..., 6.
> 
> printf("x = %s.\n", hpaste(x, maxHead = 2))
x = 1, 2, ..., 6.
> ## x = 1, 2, ..., 6.
> 
> printf("x = %s.\n", hpaste(x, maxHead = 3)) # Default
x = 1, 2, 3, ..., 6.
> ## x = 1, 2, 3, ..., 6.
> 
> # It will never output 1, 2, 3, 4, ..., 6
> printf("x = %s.\n", hpaste(x, maxHead = 4))
x = 1, 2, 3, 4, 5, 6.
> ## x = 1, 2, 3, 4, 5 and 6.
> 
> # Showing the tail
> printf("x = %s.\n", hpaste(x, maxHead = 1, maxTail = 2))
x = 1, ..., 5, 6.
> ## x = 1, ..., 5, 6.
> 
> # Turning off abbreviation
> printf("y = %s.\n", hpaste(y, maxHead = Inf))
y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1.
> ## y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
> 
> ## ...or simply
> printf("y = %s.\n", paste(y, collapse = ", "))
y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1.
> ## y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
> 
> # Change last separator
> printf("x = %s.\n", hpaste(x, lastCollapse = " and "))
x = 1, 2, 3, 4, 5 and 6.
> ## x = 1, 2, 3, 4, 5 and 6.
> 
> # No collapse
> stopifnot(all(hpaste(x, collapse = NULL) == x))
> 
> # Empty input
> stopifnot(identical(hpaste(character(0)), character(0)))
> 
> message("*** hpaste() ...")
*** hpaste() ...
> 
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # debug()
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> message("*** mdebug() ...")
*** mdebug() ...
> 
> mdebug("Hello #", 1)
[16:11:29.718] Hello #1
> mdebugf("Hello #%d", 1)
[16:11:29.718] Hello #1
> options(future.debug = TRUE)
> 
> mdebug("Hello #", 2)
[16:11:29.718] Hello #2
> mdebugf("Hello #%d", 2)
[16:11:29.718] Hello #2
> options(future.debug = FALSE)
> 
> mdebug("Hello #", 3)
NULL
> mdebugf("Hello #%d", 3)
NULL
> 
> message("*** mdebug() ... DONE")
*** mdebug() ... DONE
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # import_from()
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> message("*** import_from() ...")
*** import_from() ...
> 
> obj <- import_from("non-existing-fcn", default = NA, package = "future")
> stopifnot(identical(obj, NA))
> 
> res <- tryCatch({
+   obj <- import_from("non-existing-fcn", package = "future")
+ }, error = identity)
> print(res)
<simpleError: No such 'future' function: non-existing-fcn()>
> stopifnot(inherits(res, "simpleError"))
> 
> message("*** import_from() ... DONE")
*** import_from() ... DONE
> 
> 
> message("*** stop_if_not() ...")
*** stop_if_not() ...
> 
> stop_if_not(TRUE)
NULL
> stop_if_not(TRUE, TRUE)
NULL
> res <- tryCatch({
+   stop_if_not(FALSE)
+ }, error = identity)
> stopifnot(inherits(res, "simpleError"))
> res <- tryCatch({
+   stop_if_not(list(TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE))
+ }, error = identity)
> stopifnot(inherits(res, "simpleError"))
> 
> message("*** stop_if_not() ... DONE")
*** stop_if_not() ... DONE
> 
> 
> message("*** assert_values2() ...")
*** assert_values2() ...
> 
> assert_values2 <- future.apply:::assert_values2
> assert_values2(nX = 2L, values2 = as.list(1:2))
> res <- tryCatch({
+   assert_values2(nX = 1L, values = as.list(1:2), values2 = as.list(1:2), fcn = "tests", debug = TRUE)
+ }, error = identity)
> stopifnot(inherits(res, "FutureError"))
> 
> message("*** assert_values2() ... DONE")
*** assert_values2() ... DONE
> 
> 
> message("*** utils ... DONE")
*** utils ... DONE
> 
> source("incl/end.R")
> 
