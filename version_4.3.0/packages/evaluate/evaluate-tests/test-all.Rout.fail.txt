
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(evaluate)
> 
> if (require("testthat", quietly = TRUE)) test_check("evaluate")

Attaching package: ‘testthat’

The following object is masked from ‘package:evaluate’:

    local_reproducible_output

[ FAIL 32 | WARN 1 | SKIP 1 | PASS 35 ]

══ Skipped tests ═══════════════════════════════════════════════════════════════
• On CRAN (1)

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-eval.R:9:3'): log_echo causes output to be immediately written to stderr() ──
`out` (`actual`) not equal to "f()" (`expected`).

`actual`:   "f()" ""
`expected`: "f()"   
── Failure ('test-eval.R:13:3'): log_echo causes output to be immediately written to stderr() ──
res[[1]]$src (`actual`) not equal to "f()" (`expected`).

`lines(actual)`:   "f()" ""
`lines(expected)`: "f()"   
── Failure ('test-eval.R:24:3'): log_warning causes warnings to be immediately written to stderr() ──
`out` (`actual`) not equal to "Warning in f(): Hi!" (`expected`).

`actual`:                        
`expected`: "Warning in f(): Hi!"
── Failure ('test-eval.R:28:3'): log_warning causes warnings to be immediately written to stderr() ──
res[[1]]$src (`actual`) not equal to "f()" (`expected`).

`lines(actual)`:   "f()" ""
`lines(expected)`: "f()"   
── Error ('test-eval.R:34:3'): show_warning handles different types of warning ──
`{ ... }` threw an unexpected error.
Message: could not find function "format_warning"
Class:   simpleError/error/condition
── Error ('test-evaluate.R:5:3'): file with only comments runs ─────────────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c("source", "source")) at test-evaluate.R:5:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:47:3'): options(warn = -1) suppresses warnings ──────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), "source") at test-evaluate.R:47:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:52:3'): options(warn = 0) and options(warn = 1) produces warnings ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c("source", "simpleWarning")) at test-evaluate.R:52:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:66:3'): output and plots interleaved correctly ──────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-evaluate.R:66:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:81:3'): return value of value handler inserted directly in output list ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-evaluate.R:81:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:92:3'): invisible values can also be saved if value handler has two arguments ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c("source", "integer")) at test-evaluate.R:92:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-evaluate.R:97:3'): multiple expressions on one line can get printed as expected ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-evaluate.R:97:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:4:3'): single plot is captured ──────────────────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c("source", "recordedplot")) at test-graphics.R:4:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:12:3'): ggplot is captured ──────────────────────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c("source", "source", "recordedplot")) at test-graphics.R:12:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:19:3'): plot additions are captured ─────────────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:19:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:29:3'): blank plots by plot.new() are preserved ─────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:29:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Failure ('test-graphics.R:37:3'): base plots in a single expression are captured ──
`ev` has length 5, not length 4.
── Error ('test-graphics.R:39:3'): base plots in a single expression are captured ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:39:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Failure ('test-graphics.R:46:3'): ggplot2 plots in a single expression are captured ──
`ev` has length 5, not length 4.
── Error ('test-graphics.R:48:3'): ggplot2 plots in a single expression are captured ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:48:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:54:3'): Empty ggplot should not be recorded ─────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_identical(...) at test-graphics.R:54:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:65:3'): multirow graphics are captured only when complete ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c(rep("source", 5), "recordedplot")) at test-graphics.R:65:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:71:3'): multirow graphics are captured on close ─────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(classes(ev), c(rep("source", 4), "recordedplot")) at test-graphics.R:71:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:76:3'): plots are captured in a non-rectangular layout ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:76:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:84:3'): changes in parameters don't generate new plots ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:84:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:92:3'): plots in a loop are captured even the changes seem to be from par only ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:92:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:97:3'): strwidth()/strheight() should not produce new plots ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:97:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:102:3'): clip() does not produce new plots ──────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:102:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:107:3'): perspective plots are captured ─────────────
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:107:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-graphics.R:112:3'): an incomplete plot with a comment in the end is also captured ──
Error in `classes(ev)`: could not find function "classes"
Backtrace:
    ▆
 1. └─testthat::expect_equal(...) at test-graphics.R:112:3
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Failure ('test-parse.R:23:5'): double quotes in Chinese characters not destroyed ──
parse_all(c("1+1", "\"你好\""))[2, 1] (`actual`) not identical to "\"你好\"" (`expected`).

`lines(actual)`:   "\"你好\"" ""
`lines(expected)`: "\"你好\""   
── Error ('test-parse.R:28:5'): multibyte characters are parsed correct ────────
Error in `append_break(code)`: could not find function "append_break"
Backtrace:
    ▆
 1. └─testthat::expect_identical(parse_all(code)$src, append_break(code)) at test-parse.R:28:5
 2.   └─testthat::quasi_label(enquo(expected), expected.label, arg = "expected")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))

[ FAIL 32 | WARN 1 | SKIP 1 | PASS 35 ]
Error: Test failures
No deferred expressions to run
Execution halted
