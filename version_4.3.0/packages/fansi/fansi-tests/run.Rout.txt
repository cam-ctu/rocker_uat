
R version 4.3.0 (2023-04-21) -- "Already Tomorrow"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # to avoid variability on terminals with different capabilities
> # plus generally random options being set
> 
> if(getRversion() < "3.2.2") {
+   warning("Cannot run tests with R version less than 3.2.2.")
+ } else if(!suppressWarnings(require('fansi'))) {
+   # this is to avoid accidentally running tests under valgrind without fansi
+   # installed... (no, we've never done this...)
+   warning("Cannot run tests without package `fansi`")
+ } else if(!suppressWarnings(require('unitizer'))) {
+   warning("Cannot run tests without package `unitizer`")
+ } else {
+   old.opt <- options(
+     fansi.tabs.as.spaces=FALSE,
+     fansi.tab.stops=8L,
+     fansi.warn=TRUE,
+     fansi.term.cap=c('bright', '256')
+     # warnPartialMatchArgs = TRUE,
+     # warnPartialMatchAttr = TRUE,
+     # warnPartialMatchDollar = TRUE
+   )
+   on.exit(old.opt)
+   pat.all <- "^[^.].*\\.[Rr]$"
+   pattern <- pat.all
+   # pattern <- "over"
+   unitize_dir(
+     'unitizer',
+     pattern=pattern,
+     state='suggested'
+   )
+   # we skip utf8 tests on solaris due to the problems with deparse (and maybe
+   # others, don't have a solaris system handy for testing).
+   if(
+     !grepl("solaris|sun", Sys.info()[['sysname']], ignore.case=TRUE) &&
+     identical(pattern, pat.all)
+   ) {
+     unitize('special/utf8.R', state='suggested')
+   }
+   # UCD 12.1 update in 4.0.4 produces correct widths for emoji
+   if(getRversion() >= "4.0.4" && identical(pattern, pat.all))
+     unitize('special/emo-graph.R', state='suggested')
+ }
Loading required package: fansi
Loading required package: unitizer
Warning message:
Cannot run tests without package `unitizer` 
> 
