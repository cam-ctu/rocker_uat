
R version 4.4.0 (2024-04-24) -- "Puppy Cup"
Copyright (C) 2024 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(pkgbuild)
> 
> test_check("pkgbuild")
[ FAIL 4 | WARN 0 | SKIP 14 | PASS 121 ]

══ Skipped tests (14) ══════════════════════════════════════════════════════════
• is_windows() && !is.null(scan_path_for_rtools()) is not TRUE (1):
  'test-rtools.R:3:3'
• is_windows() is not TRUE (1): 'test-rtools.R:28:3'
• On CRAN (12): 'test-build-process.R:23:3', 'test-build-process.R:43:3',
  'test-build.R:192:5', 'test-compiler.R:38:7', 'test-exclude.R:11:3',
  'test-exclude.R:66:3', 'test-exclude.R:110:3', 'test-exclude.R:125:3',
  'test-exclude.R:134:3', 'test-exclude.R:156:3', 'test-style.R:3:3',
  'test-utils.R:115:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Error ('test-compiler-flags.R:3:3'): has_compiler_colored_diagnostics ───────
<packageNotFoundError/error/condition>
Error in `loadNamespace(x)`: there is no package called 'mockery'
Backtrace:
    ▆
 1. └─base::loadNamespace(x) at test-compiler-flags.R:3:3
 2.   └─base::withRestarts(stop(cond), retry_loadNamespace = function() NULL)
 3.     └─base (local) withOneRestart(expr, restarts[[1L]])
 4.       └─base (local) doWithOneRestart(return(expr), restart)
── Error ('test-exclude.R:73:3'): get_copy_method ──────────────────────────────
<packageNotFoundError/error/condition>
Error in `loadNamespace(x)`: there is no package called 'mockery'
Backtrace:
    ▆
 1. └─base::loadNamespace(x) at test-exclude.R:73:3
 2.   └─base::withRestarts(stop(cond), retry_loadNamespace = function() NULL)
 3.     └─base (local) withOneRestart(expr, restarts[[1L]])
 4.       └─base (local) doWithOneRestart(return(expr), restart)
── Error ('test-exclude.R:138:3'): detect_cp_args ──────────────────────────────
<packageNotFoundError/error/condition>
Error in `loadNamespace(x)`: there is no package called 'mockery'
Backtrace:
    ▆
 1. └─base::loadNamespace(x) at test-exclude.R:138:3
 2.   └─base::withRestarts(stop(cond), retry_loadNamespace = function() NULL)
 3.     └─base (local) withOneRestart(expr, restarts[[1L]])
 4.       └─base (local) doWithOneRestart(return(expr), restart)
── Error ('test-utils.R:41:3'): should_add_compiler_flags ──────────────────────
<packageNotFoundError/error/condition>
Error in `loadNamespace(x)`: there is no package called 'mockery'
Backtrace:
    ▆
 1. └─base::loadNamespace(x) at test-utils.R:41:3
 2.   └─base::withRestarts(stop(cond), retry_loadNamespace = function() NULL)
 3.     └─base (local) withOneRestart(expr, restarts[[1L]])
 4.       └─base (local) doWithOneRestart(return(expr), restart)

[ FAIL 4 | WARN 0 | SKIP 14 | PASS 121 ]
Error: Test failures
Execution halted
