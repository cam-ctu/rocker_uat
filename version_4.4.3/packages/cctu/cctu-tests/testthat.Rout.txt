
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(cctu)

Attaching package: ‘cctu’

The following object is masked from ‘package:base’:

    source

> library(readxl)
> library(magrittr)

Attaching package: ‘magrittr’

The following objects are masked from ‘package:testthat’:

    equals, is_less_than, not

> library(xml2)
> library(dplyr)

Attaching package: ‘dplyr’

The following object is masked from ‘package:testthat’:

    matches

The following objects are masked from ‘package:stats’:

    filter, lag

The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

> test_check("cctu")
'envir' chosen:<environment: 0x5649ab274720>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 1 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print("hello world")
[1] "hello world"
curr.fun: symbol print
 .. after 'expression(print("hello world"))'
now dyn.load("/usr/local/lib/R/library/tools/libs/tools.so") ...
. given clean namessafety environment created in  
full environment created in  
data frames removed from  : data 
safety attached containing: data 
now dyn.load("/usr/local/lib/R/site-library/systemfonts/libs/systemfonts.so") ...
now dyn.load("/usr/local/lib/R/site-library/textshaping/libs/textshaping.so") ...
now dyn.load("/usr/local/lib/R/site-library/ragg/libs/ragg.so") ...
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.1_1.png created.

 Output/Core/table_1.1.xml created.

Objects removed: X 
safety detached containing: data 
full attached containing: data 
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.1.1_1.png created.

 Output/Core/table_1.1.1.xml created.

Objects removed: X 
full detached containing: data 
safety attached containing: data 
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.10_1.png created.
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.10_2.png created.

Objects removed: args_list clean_up directory dpi footnote format graphics_args height number plot units verbose width 
safety detached containing: data 

 Output/Figures/fig_1.10.png created.
'envir' chosen:<environment: 0x5649aaee7b78>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 19 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> attach_pop(1.1)
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop(1.1))’

>>>> eval(expression_nr. 2 )
		 =================

> X <- sumby(endpoint, rx, data = data)
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.1_1.png created.
curr.fun: symbol <-
 .. after ‘expression(X <- sumby(endpoint, rx, data = data))’

>>>> eval(expression_nr. 3 )
		 =================

> write_table(X, directory = test_path("Output/Core"))

 Output/Core/table_1.1.xml created.

Objects removed: fig X 
safety detached containing: data 
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, directory = test_path("Output/Core")))’

>>>> eval(expression_nr. 4 )
		 =================

> attach_pop("1.1.1", verbose = TRUE)
full attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("1.1.1", verbose = TRUE))’

>>>> eval(expression_nr. 5 )
		 =================

> X <- sumby(endpoint, rx, data = data)
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.1.1_1.png created.
curr.fun: symbol <-
 .. after ‘expression(X <- sumby(endpoint, rx, data = data))’

>>>> eval(expression_nr. 6 )
		 =================

> write_table(X, clean_up = FALSE, heading = c("Variable", 
+     "Statistics with a long line of text to check folding", "A", 
+     "B", "Total"))

 Output/Core/table_1.1.1.xml created.
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, clean_up = FALSE, heading = c("Variable", ’‘    "Statistics with a long line of text to check folding", "A", ’‘    "B", "Total")))’

>>>> eval(expression_nr. 7 )
		 =================

> meta_table <- get_meta_table()
curr.fun: symbol <-
 .. after ‘expression(meta_table <- get_meta_table())’

>>>> eval(expression_nr. 8 )
		 =================

> meta_table[2, "subtitle"] <- ""
curr.fun: symbol <-
 .. after ‘expression(meta_table[2, "subtitle"] <- "")’

>>>> eval(expression_nr. 9 )
		 =================

> ntabs <- nrow(meta_table)
curr.fun: symbol <-
 .. after ‘expression(ntabs <- nrow(meta_table))’

>>>> eval(expression_nr. 10 )
		 =================

> meta_table[ntabs + 1, "number"] <- "1.1.2"
curr.fun: symbol <-
 .. after ‘expression(meta_table[ntabs + 1, "number"] <- "1.1.2")’

>>>> eval(expression_nr. 11 )
		 =================

> meta_table[ntabs + 1, "population"] <- " "
curr.fun: symbol <-
 .. after ‘expression(meta_table[ntabs + 1, "population"] <- " ")’

>>>> eval(expression_nr. 12 )
		 =================

> set_meta_table(meta_table)
curr.fun: symbol set_meta_table
 .. after ‘expression(set_meta_table(meta_table))’

>>>> eval(expression_nr. 13 )
		 =================

> write_table(X, number = "1.1.2")

 Output/Core/table_1.1.2.xml created.

Objects removed: ntabs X 
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, number = "1.1.2"))’

>>>> eval(expression_nr. 14 )
		 =================

> attach_pop("1.10")
full detached.
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("1.10"))’

>>>> eval(expression_nr. 15 )
		 =================

> sumby(response, rx, data = data)
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.10_1.png created.
curr.fun: symbol sumby
     Variable   Statistics A             B             Total         
[1,] "Response" "Fail"     "25/50 (50%)" "25/50 (50%)" "50/100 (50%)"
[2,] ""         "Respond"  "25/50 (50%)" "25/50 (50%)" "50/100 (50%)"
attr(,"fig")
 .. after ‘expression(sumby(response, rx, data = data))’

>>>> eval(expression_nr. 16 )
		 =================

> fig <- sumby(response, rx, data = data) %>% attr("fig")
Saving 7 x 7 in image
Output/Figures/sumby_fig_1.10_2.png created.
curr.fun: symbol <-
 .. after ‘expression(fig <- sumby(response, rx, data = data) %>% attr("fig"))’

>>>> eval(expression_nr. 17 )
		 =================

> write_ggplot(fig, format = "png")

Objects removed: args_list clean_up directory dpi footnote format graphics_args height number plot units verbose width 
safety detached containing: data 

 Output/Figures/fig_1.10.png created.
curr.fun: symbol write_ggplot
 .. after ‘expression(write_ggplot(fig, format = "png"))’

>>>> eval(expression_nr. 18 )
		 =================

> attach_pop("2.1")
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("2.1"))’

>>>> eval(expression_nr. 19 )
		 =================

> write_text("There were no deaths")

 Output/Core/text_2.1.xml created.

Objects removed: fig 
safety detached containing: data 
curr.fun: symbol write_text
 .. after ‘expression(write_text("There were no deaths"))’
now dyn.load("/usr/local/lib/R/site-library/png/libs/png.so") ...
now dyn.load("/usr/local/lib/R/site-library/base64enc/libs/base64enc.so") ...
Output/Reports/Report2.doc created.
Output/Reports/Report_final.docx created.
now dyn.load("/usr/local/lib/R/site-library/vdiffr/libs/vdiffr.so") ...
now dyn.load("/usr/local/lib/R/site-library/igraph/libs/igraph.so") ...
NULL
                                                             parent
1 /__w/rocker_uat/rocker_uat/packages/cctu/cctu-tests/testthat/ROOT
                                                                    child
1 /__w/rocker_uat/rocker_uat/packages/cctu/cctu-tests/testthat/analysis.R
[1] "fig_1.10.png"
[1] "sumby_fig_1.1.1_1.png"
[1] "sumby_fig_1.10_1.png"
[1] "sumby_fig_1.10_2.png"
[1] "sumby_fig_1.1_1.png"
character(0)
 [1] "_snaps"                     "analysis_interactive.R"    
 [3] "analysis.R"                 "analysisB.R"               
 [5] "batch_test.csv"             "check_loging.R"            
 [7] "container.R"                "data"                      
 [9] "fig_1.10.eps"               "fig_1.10.png"              
[11] "fig_1.10.postscript"        "fixtures"                  
[13] "hello_world.R"              "helper.R"                  
[15] "increment.R"                "interactive_sumby.R"       
[17] "nested_run_batch.R"         "ref"                       
[19] "Rplots.pdf"                 "script_to_test_run_batch.R"
[21] "source_myself.R"            "table_1.10.xml"            
[23] "test_1.R"                   "test_attach_pop.R"         
[25] "test_cctu_initiaize.R"      "test_clean_meta_table.R"   
[27] "test_clean_names.R"         "test_create_word_xml.R"    
[29] "test_get_obj.R"             "test_km_plot.R"            
[31] "test_options2.R"            "test_order_dewey.R"        
[33] "test_propercase.R"          "test_rbind_space.R"        
[35] "test_read_data.R"           "test_regression_table.R"   
[37] "test_remove_rows_cols.R"    "test_rm_envir.R"           
[39] "test_run_batch.R"           "test_source.R"             
[41] "test_sumby.R"               "test_utf8.R"               
[43] "test_write_ggplot.R"        "test_write_table_text.R"   
[45] "test-cttab.R"               "test-format_digits.R"      
[47] "test-is_empty.R"            "test-labels.R"             
[49] "test-macro_utils.R"         "test-merge-data.r"         
[51] "test-p_format.R"            "test-render_stat.R"        
[53] "test-to_factor.R"           "test-utils.R"              
[55] "testthat-problems.rds"     
[1] "Maybe set up a Project in Rstudio and a git repository?\nCopy across or install packages in the project library, set .libPaths()?"
[1] "/usr/local/lib/R/site-library/cctu/scripts/main.R"
 [1] "Output"                     "Progs"                     
 [3] "Rplots.pdf"                 "_snaps"                    
 [5] "analysis.R"                 "analysisB.R"               
 [7] "analysis_interactive.R"     "batch_test.csv"            
 [9] "check_loging.R"             "container.R"               
[11] "data"                       "fig_1.10.eps"              
[13] "fig_1.10.png"               "fig_1.10.postscript"       
[15] "fixtures"                   "hello_world.R"             
[17] "helper.R"                   "increment.R"               
[19] "interactive_sumby.R"        "library"                   
[21] "main.R"                     "nested_run_batch.R"        
[23] "ref"                        "script_to_test_run_batch.R"
[25] "source_myself.R"            "table_1.10.xml"            
[27] "test-cttab.R"               "test-format_digits.R"      
[29] "test-is_empty.R"            "test-labels.R"             
[31] "test-macro_utils.R"         "test-merge-data.r"         
[33] "test-p_format.R"            "test-render_stat.R"        
[35] "test-to_factor.R"           "test-utils.R"              
[37] "test_1.R"                   "test_attach_pop.R"         
[39] "test_cctu_initiaize.R"      "test_clean_meta_table.R"   
[41] "test_clean_names.R"         "test_create_word_xml.R"    
[43] "test_get_obj.R"             "test_km_plot.R"            
[45] "test_options2.R"            "test_order_dewey.R"        
[47] "test_propercase.R"          "test_rbind_space.R"        
[49] "test_read_data.R"           "test_regression_table.R"   
[51] "test_remove_rows_cols.R"    "test_rm_envir.R"           
[53] "test_run_batch.R"           "test_source.R"             
[55] "test_sumby.R"               "test_utf8.R"               
[57] "test_write_ggplot.R"        "test_write_table_text.R"   
[59] "testthat-problems.rds"     
 [1] "Output"                     "Rplots.pdf"                
 [3] "_snaps"                     "analysis.R"                
 [5] "analysisB.R"                "analysis_interactive.R"    
 [7] "batch_test.csv"             "check_loging.R"            
 [9] "container.R"                "data"                      
[11] "fig_1.10.eps"               "fig_1.10.png"              
[13] "fig_1.10.postscript"        "fixtures"                  
[15] "hello_world.R"              "helper.R"                  
[17] "increment.R"                "interactive_sumby.R"       
[19] "nested_run_batch.R"         "nonroot"                   
[21] "ref"                        "script_to_test_run_batch.R"
[23] "source_myself.R"            "table_1.10.xml"            
[25] "test-cttab.R"               "test-format_digits.R"      
[27] "test-is_empty.R"            "test-labels.R"             
[29] "test-macro_utils.R"         "test-merge-data.r"         
[31] "test-p_format.R"            "test-render_stat.R"        
[33] "test-to_factor.R"           "test-utils.R"              
[35] "test_1.R"                   "test_attach_pop.R"         
[37] "test_cctu_initiaize.R"      "test_clean_meta_table.R"   
[39] "test_clean_names.R"         "test_create_word_xml.R"    
[41] "test_get_obj.R"             "test_km_plot.R"            
[43] "test_options2.R"            "test_order_dewey.R"        
[45] "test_propercase.R"          "test_rbind_space.R"        
[47] "test_read_data.R"           "test_regression_table.R"   
[49] "test_remove_rows_cols.R"    "test_rm_envir.R"           
[51] "test_run_batch.R"           "test_source.R"             
[53] "test_sumby.R"               "test_utf8.R"               
[55] "test_write_ggplot.R"        "test_write_table_text.R"   
[57] "testthat-problems.rds"     
[1] "nonroot"                "nonroot/Output"         "nonroot/Output/Core"   
[4] "nonroot/Output/Figures" "nonroot/Output/Reports"
. given clean namessafety environment created in  
full environment created in  
data frames removed from  : data 
safety attached containing: data 
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.1_1.png created.

 Output_other/Core/table_1.1.xml created.

Objects removed: opts X 
safety detached containing: data 
full attached containing: data 
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.1.1_1.png created.

 Output_other/Core/table_1.1.1.xml created.

Objects removed: X 
full detached containing: data 
safety attached containing: data 
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.10_1.png created.
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.10_2.png created.

Objects removed: args_list clean_up directory dpi footnote format graphics_args height number plot units verbose width 
safety detached containing: data 

 Output_other/Figures/fig_1.10.png created.
'envir' chosen:<environment: 0x5649ac5a4388>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 19 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> attach_pop(1.1)
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop(1.1))’

>>>> eval(expression_nr. 2 )
		 =================

> X <- sumby(endpoint, rx, data = data)
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.1_1.png created.
curr.fun: symbol <-
 .. after ‘expression(X <- sumby(endpoint, rx, data = data))’

>>>> eval(expression_nr. 3 )
		 =================

> write_table(X, directory = test_path("Output/Core"))

 Output/Core/table_1.1.xml created.

Objects removed: fig X 
safety detached containing: data 
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, directory = test_path("Output/Core")))’

>>>> eval(expression_nr. 4 )
		 =================

> attach_pop("1.1.1", verbose = TRUE)
full attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("1.1.1", verbose = TRUE))’

>>>> eval(expression_nr. 5 )
		 =================

> X <- sumby(endpoint, rx, data = data)
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.1.1_1.png created.
curr.fun: symbol <-
 .. after ‘expression(X <- sumby(endpoint, rx, data = data))’

>>>> eval(expression_nr. 6 )
		 =================

> write_table(X, clean_up = FALSE, heading = c("Variable", 
+     "Statistics with a long line of text to check folding", "A", 
+     "B", "Total"))

 Output_other/Core/table_1.1.1.xml created.
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, clean_up = FALSE, heading = c("Variable", ’‘    "Statistics with a long line of text to check folding", "A", ’‘    "B", "Total")))’

>>>> eval(expression_nr. 7 )
		 =================

> meta_table <- get_meta_table()
curr.fun: symbol <-
 .. after ‘expression(meta_table <- get_meta_table())’

>>>> eval(expression_nr. 8 )
		 =================

> meta_table[2, "subtitle"] <- ""
curr.fun: symbol <-
 .. after ‘expression(meta_table[2, "subtitle"] <- "")’

>>>> eval(expression_nr. 9 )
		 =================

> ntabs <- nrow(meta_table)
curr.fun: symbol <-
 .. after ‘expression(ntabs <- nrow(meta_table))’

>>>> eval(expression_nr. 10 )
		 =================

> meta_table[ntabs + 1, "number"] <- "1.1.2"
curr.fun: symbol <-
 .. after ‘expression(meta_table[ntabs + 1, "number"] <- "1.1.2")’

>>>> eval(expression_nr. 11 )
		 =================

> meta_table[ntabs + 1, "population"] <- " "
curr.fun: symbol <-
 .. after ‘expression(meta_table[ntabs + 1, "population"] <- " ")’

>>>> eval(expression_nr. 12 )
		 =================

> set_meta_table(meta_table)
curr.fun: symbol set_meta_table
 .. after ‘expression(set_meta_table(meta_table))’

>>>> eval(expression_nr. 13 )
		 =================

> write_table(X, number = "1.1.2")

 Output_other/Core/table_1.1.2.xml created.

Objects removed: ntabs X 
curr.fun: symbol write_table
 .. after ‘expression(write_table(X, number = "1.1.2"))’

>>>> eval(expression_nr. 14 )
		 =================

> attach_pop("1.10")
full detached.
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("1.10"))’

>>>> eval(expression_nr. 15 )
		 =================

> sumby(response, rx, data = data)
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.10_1.png created.
curr.fun: symbol sumby
     Variable   Statistics A             B             Total         
[1,] "Response" "Fail"     "25/50 (50%)" "25/50 (50%)" "50/100 (50%)"
[2,] ""         "Respond"  "25/50 (50%)" "25/50 (50%)" "50/100 (50%)"
attr(,"fig")
 .. after ‘expression(sumby(response, rx, data = data))’

>>>> eval(expression_nr. 16 )
		 =================

> fig <- sumby(response, rx, data = data) %>% attr("fig")
Saving 7 x 7 in image
Output_other/Figures/sumby_fig_1.10_2.png created.
curr.fun: symbol <-
 .. after ‘expression(fig <- sumby(response, rx, data = data) %>% attr("fig"))’

>>>> eval(expression_nr. 17 )
		 =================

> write_ggplot(fig, format = "png")

Objects removed: args_list clean_up directory dpi footnote format graphics_args height number plot units verbose width 
safety detached containing: data 

 Output_other/Figures/fig_1.10.png created.
curr.fun: symbol write_ggplot
 .. after ‘expression(write_ggplot(fig, format = "png"))’

>>>> eval(expression_nr. 18 )
		 =================

> attach_pop("2.1")
safety attached containing: data 
curr.fun: symbol attach_pop
 .. after ‘expression(attach_pop("2.1"))’

>>>> eval(expression_nr. 19 )
		 =================

> write_text("There were no deaths")

 Output_other/Core/text_2.1.xml created.

Objects removed: fig 
safety detached containing: data 
curr.fun: symbol write_text
 .. after ‘expression(write_text("There were no deaths"))’
Output_other/Reports/Report.doc created.
Output_other/Reports/Report.docx created.
object created in : dirtydata
object created in : meta
object created in : dirtydata
object created in : meta
[1] "dirtydata.csv"
object created in : dt
object created in : dlu
object created in : clu
output given clean namesobject created in : dt
output given clean namesobject created in : dlu
output given clean namesobject created in : clu
Waiting for profiling to be done...
now dyn.load("/usr/local/lib/R/library/cluster/libs/cluster.so") ...
now dyn.load("/usr/local/lib/R/library/foreign/libs/foreign.so") ...
now dyn.load("/usr/local/lib/R/library/nnet/libs/nnet.so") ...
now dyn.load("/usr/local/lib/R/library/rpart/libs/rpart.so") ...
now dyn.load("/usr/local/lib/R/site-library/checkmate/libs/checkmate.so") ...
now dyn.load("/usr/local/lib/R/site-library/backports/libs/backports.so") ...
now dyn.load("/usr/local/lib/R/site-library/digest/libs/digest.so") ...
now dyn.load("/usr/local/lib/R/site-library/fastmap/libs/fastmap.so") ...
now dyn.load("/usr/local/lib/R/site-library/htmltools/libs/htmltools.so") ...
now dyn.load("/usr/local/lib/R/site-library/xfun/libs/xfun.so") ...
now dyn.load("/usr/local/lib/R/site-library/stringi/libs/stringi.so") ...
now dyn.load("/usr/local/lib/R/site-library/Hmisc/libs/Hmisc.so") ...
now dyn.load("/usr/local/lib/R/site-library/SparseM/libs/SparseM.so") ...
now dyn.load("/usr/local/lib/R/library/MASS/libs/MASS.so") ...
now dyn.load("/usr/local/lib/R/site-library/quantreg/libs/quantreg.so") ...
now dyn.load("/usr/local/lib/R/library/nlme/libs/nlme.so") ...
now dyn.load("/usr/local/lib/R/site-library/polspline/libs/polspline.so") ...
now dyn.load("/usr/local/lib/R/site-library/zoo/libs/zoo.so") ...
now dyn.load("/usr/local/lib/R/site-library/mvtnorm/libs/mvtnorm.so") ...
now dyn.load("/usr/local/lib/R/site-library/rms/libs/rms.so") ...
now dyn.load("/usr/local/lib/R/site-library/minqa/libs/minqa.so") ...
now dyn.load("/usr/local/lib/R/site-library/nloptr/libs/nloptr.so") ...
now dyn.load("/usr/local/lib/R/site-library/rbibutils/libs/rbibutils.so") ...
now dyn.load("/usr/local/lib/R/site-library/lme4/libs/lme4.so") ...
now dyn.load("/usr/local/lib/R/site-library/gee/libs/gee.so") ...
Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27
running glm to get initial regression estimate
          (Intercept)   rms::rcs(age, 4)age  rms::rcs(age, 4)age' 
          -0.38104013            0.00189902           -0.00533899 
rms::rcs(age, 4)age''           log(height)          log(abdomen) 
           0.01983507           -0.43566037            0.61280658 
Waiting for profiling to be done...
dirty modified with blanks removed.
newenvir detached.
package:datasets detached.
[1] "test1"
'envir' chosen:<environment: 0x5649aec61f90>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: 0x5649aec61f90>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 1
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
[1] "test2"
'envir' chosen:<environment: 0x5649aec61f90>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: 0x5649aec61f90>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 2
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
[1] "test3"
[1] "test4"
[1] "test4"
<environment: 0x5649ae9e7800>
'envir' chosen:<environment: 0x5649aec61f90>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: 0x5649aec61f90>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 3
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
[1] "test5"
<environment: 0x5649ad5846d0>
'envir' chosen:<environment: 0x5649ad5846d0>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: 0x5649ad5846d0>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 1
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
[1] "test6"
<environment: 0x5649a803f9c8>
'envir' chosen:<environment: R_GlobalEnv>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: R_GlobalEnv>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 3
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
[1] "test7"
<environment: 0x5649ad2a5eb0>
'envir' chosen:<environment: 0x5649ad2a5eb0>
encoding = "native.enc" chosen
 --> from_file='TRUE'
 lines:function (x, ...)  
--> parsed 3 expressions; now eval(.)ing them:

>>>> eval(expression_nr. 1 )
		 =================

> print(environment())
<environment: 0x5649ad2a5eb0>
curr.fun: symbol print
 .. after 'expression(print(environment()))'

>>>> eval(expression_nr. 2 )
		 =================

> print(x)
[1] 1
curr.fun: symbol print
 .. after 'expression(print(x))'

>>>> eval(expression_nr. 3 )
		 =================

> x <- x + 1
curr.fun: symbol <-
 .. after 'expression(x <- x + 1)'
Saving 7 x 7 in image
Output/Figures/sumby_fig_0_1.png created.

R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> fig_file="/tmp/RtmpIvhC79/fig_file.pdf"
> # need to define fig_file="...." outside this script
> library(cctu)

Attaching package: ‘cctu’

The following object is masked from ‘package:base’:

    source

> library(magrittr)
> n <- 10
> df <- data.frame(
+   arm = rep(c("A", "B"), rep(n, 2)),
+   age = rnorm(2 * n, mean = 40, sd = 10) %>% round(1),
+   gender = sample(c("Male", "Female"), 2 * n, replace = TRUE)
+ )
> 
  > pdf(file = fig_file)
> sumby(gender, arm, data = df)
Saving 7 x 7 in image
     Variable Statistics A            B            Total        
[1,] "Gender" "Female"   "8/10 (80%)" "6/10 (60%)" "14/20 (70%)"
[2,] ""       "Male"     "2/10 (20%)" "4/10 (40%)" "6/20 (30%)" 
attr(,"fig")
> dev.off()
null device 
          1 
> 
Saving 7 x 7 in image
Output/Figures/sumby_fig_0_2.png created.
Saving 7 x 7 in image
Output/Figures/sumby_fig_0_3.png created.
     Variable Statistics  A type        B type        Total        
[1,] "Age"    "n"         "20"          "20"          "40"         
[2,] ""       "Mean (SD)" "37.6 (10.6)" "38.7 (10.8)" "38.1 (10.6)"
[3,] ""       "Median"    "35.75"       "39.3"        "38"         
[4,] ""       "Min, Max"  "17.9, 57.5"  "16.3, 58.2"  "16.3, 58.2" 
attr(,"fig")
[1] "matrix" "array" 
[1] "Variable"   "Statistics" "A type"     "B type"     "Total"     
Saving 7 x 7 in image
Output/Figures/sumby_fig_0_4.png created.

 Output/Core/table_1.10.xml created.

Objects removed:  

Objects removed: args_list clean_up directory dpi footnote format graphics_args height number plot units verbose width 

 ./fig_1.10.png created.

 ./fig_1.10.eps created.

 Output/Figures/fig_1.10.png created.

 Output/Figures/fig_1.10.png created.

 Output/Figures/fig_1.10.png created.

 Output/Figures/fig_1.10.png created.

Objects removed: X fig fig0 fit new_plot 

 Output/Figures/fig_1.10.png created.

 Output/Core/table_1.10.xml created.

 /tmp/RtmpIvhC79/table_1.1.xml created.

 /tmp/RtmpIvhC79/table_1.1.xml created.

 /tmp/RtmpIvhC79/table_1.1.xml created.

 Output/Core/table_1.1.xml created.

Objects removed: X dir1 dir2 dir3 fig 
/tmp/RtmpIvhC79/reporta89f3b0419b9.doc created.
Source files are stored at:
 /tmp/RtmpIvhC79The XML file stored at:
 /tmp/RtmpIvhC79/filea89f467a7916.xml/tmp/RtmpIvhC79/reporta89f232d6914.docx created.

 Output/Core/table_1.10.xml created.

Objects removed: X filetemp mt_tab 

 Output/Core/text_1.10.xml created.

Objects removed:  

 ./table_1.10.xml created.

Objects removed:  

 ./table_1.10.xml created.

Objects removed: X 

 ./table_1.10.xml created.

Objects removed: X 

 ./table_1.10.xml created.

Objects removed: X 
safety environment created in  
data frames removed from  : dt 
safety attached containing: dt 
┌───────────────────┬─────────────────┬─────────────────┬─────────────────┐
|                   │     Placebo     │    Research     │      Total      |
├───────────────────┴─────────────────┴─────────────────┴─────────────────┤
|Observation        │       48        │       52        │       100       |
├───────────────────┬─────────────────┬─────────────────┬─────────────────┤
├───────────────────┴─────────────────┴─────────────────┴─────────────────┤
|Age                                                                      |
├───────────────────┬─────────────────┬─────────────────┬─────────────────┤
|  Valid Obs.       │       48        │       52        │       100       |
|  Mean (SD)        │   75.5 (7.86)   │   74.8 (8.04)   │   75.1 (7.93)   |
|  Median [Min, Max]│78.0 [57.0, 88.0]│77.0 [56.0, 88.0]│77.0 [56.0, 88.0]|
├───────────────────┴─────────────────┴─────────────────┴─────────────────┤
|Sex                                                                      |
├───────────────────┬─────────────────┬─────────────────┬─────────────────┤
|  Female           │  26/48 (54.2%)  │  25/52 (48.1%)  │ 51/100 (51.0%)  |
|  Male             │  22/48 (45.8%)  │  27/52 (51.9%)  │ 49/100 (49.0%)  |
├───────────────────┴─────────────────┴─────────────────┴─────────────────┤
|Baseline BMI (kg/m^2)                                                    |
├───────────────────┬─────────────────┬─────────────────┬─────────────────┤
|  Valid Obs.       │        5        │        5        │       10        |
|  Mean (SD)        │   27.8 (3.98)   │   24.5 (3.96)   │   26.2 (4.11)   |
|  Median [Min, Max]│27.9 [23.4, 32.8]│23.0 [21.3, 31.4]│24.2 [21.3, 32.8]|
|  Missing          │                 │    1 (16.7%)    │    1 (9.1%)     |
└───────────────────┴─────────────────┴─────────────────┴─────────────────┘

 /tmp/RtmpIvhC79/table_1.1.xml created.

Objects removed:  
safety detached containing: dt 
safety attached containing: dt 

 /tmp/RtmpIvhC79/table_1.1.xml created.
safety detached.
safety attached containing: dt 

 /tmp/RtmpIvhC79/table_1.10.xml created.

Objects removed:  
safety detached containing: dt 
safety attached containing: dt 

 /tmp/RtmpIvhC79/table_1.10.xml created.

Objects removed:  
safety detached containing: dt 
safety attached containing: dt 

 /tmp/RtmpIvhC79/table_1.1.xml created.

Objects removed:  
safety detached containing: dt 
safety attached containing: dt 
now dyn.load("/usr/local/lib/R/site-library/diffobj/libs/diffobj.so") ...
name=mtcars:	 found in Rdata.rds
name=mtcars:	 found in Rdata.rds
The conversion of the following variables to dates failed and no action was taken:
mdy, dmy_part, time
name=mtcars:	 found in Rdata.rds
name=mtcars:	 found in Rdata.rds
[ FAIL 0 | WARN 148 | SKIP 5 | PASS 362 ]

══ Skipped tests (5) ═══════════════════════════════════════════════════════════
• empty test (1): 'test_write_ggplot.R:41:1'
• On CI (1): 'test_write_table_text.R:158:3'
• On CRAN (3): 'test_1.R:227:3', 'test_1.R:233:3', 'test_km_plot.R:6:3'

[ FAIL 0 | WARN 148 | SKIP 5 | PASS 362 ]
> 
> # desiderata
> 
> # check of using nonstandard paths for output.
> 
