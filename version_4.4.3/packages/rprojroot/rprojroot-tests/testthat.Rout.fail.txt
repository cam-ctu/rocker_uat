
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(rprojroot)
> 
> test_check("rprojroot")
[ FAIL 9 | WARN 0 | SKIP 4 | PASS 46 ]

══ Skipped tests (4) ═══════════════════════════════════════════════════════════
• On CRAN (4): 'test-root.R:25:3', 'test-root.R:39:3', 'test-root.R:308:3',
  'test-testthat.R:2:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Error ('test-file.R:10:3'): has_file ────────────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-file.R:10:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:56:3'): has_file ────────────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:56:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:98:3'): has_file_pattern ────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:98:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:145:3'): has_dir ────────────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:145:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:173:3'): has_basename ───────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:173:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:203:3'): concrete criteria ──────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:203:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:225:3'): is_svn_root ────────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:225:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:268:3'): is_git_root ────────────────────────────────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:268:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)
── Error ('test-root.R:290:3'): is_git_root for separated git directory ────────
Error in `check_mock(name, env)`: is_root not found in environment rprojroot.
Backtrace:
    ▆
 1. └─mockr::with_mock(...) at test-root.R:290:3
 2.   └─mockr:::create_mock_env(mock_funs, .env = .env, .parent = .parent)
 3.     └─mockr:::extract_new_funcs(dots, .env)
 4.       └─mockr:::extract_mocks(dots = dots, env = .env)
 5.         └─base::lapply(...)
 6.           └─mockr (local) FUN(X[[i]], ...)
 7.             └─mockr:::extract_mock(qual_name, dots[[qual_name]], env)
 8.               └─mockr:::check_mock(name, env)
 9.                 └─rlang::abort(...)

[ FAIL 9 | WARN 0 | SKIP 4 | PASS 46 ]
Error: Test failures
Execution halted
