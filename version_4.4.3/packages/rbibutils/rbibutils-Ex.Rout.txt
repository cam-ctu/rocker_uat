
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "rbibutils"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> library('rbibutils')
> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> base::assign(".old_wd", base::getwd(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("bibConvert")
> ### * bibConvert
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: bibConvert
> ### Title: Convert between bibliography formats
> ### Aliases: bibConvert
> ### Keywords: documentation
> 
> ### ** Examples
> 
> fn_biblatex <- system.file("bib", "ex0.biblatex",  package = "rbibutils")
> fn_biblatex
[1] "/usr/local/lib/R/site-library/rbibutils/bib/ex0.biblatex"
> ## file.show(fn_biblatex)
> 
> ## convert a biblatex file to xml
> modl <- tempfile(fileext = ".xml")
> bibConvert(infile = fn_biblatex, outfile = modl, informat = "biblatex", outformat = "xml")
$infile
[1] "/usr/local/lib/R/site-library/rbibutils/bib/ex0.biblatex"

$outfile
[1] "/tmp/RtmpkO5if6/file1bf2a3dc2aee8.xml"

$nref_in
[1] 3

$nref_out
[1] 3

> ## file.show(modl)
> 
> ## convert a biblatex file to bibtex
> bib <- tempfile(fileext = ".bib")
> bib2 <- tempfile(fileext = ".bib")
> bibConvert(infile = fn_biblatex, outfile = bib, informat = "biblatex", outformat = "bib")
$infile
[1] "/usr/local/lib/R/site-library/rbibutils/bib/ex0.biblatex"

$outfile
[1] "/tmp/RtmpkO5if6/file1bf2a4cc32251.bib"

$nref_in
[1] 3

$nref_out
[1] 3

> ## file.show(bib)
> 
> ## convert a biblatex file to bibentry
> rds <- tempfile(fileext = ".rds")
> fn_biblatex
[1] "/usr/local/lib/R/site-library/rbibutils/bib/ex0.biblatex"
> rds
[1] "/tmp/RtmpkO5if6/file1bf2a7451bf15.rds"
> be <- bibConvert(fn_biblatex, rds, "biblatex", "bibentry")
> bea <- bibConvert(fn_biblatex, rds, "biblatex") # same
> readRDS(rds)
Beach CM, Davidson R (1983). “Distribution-free statistical inference
with Lorenz curves and income shares.” _Review of Economic Studies_,
*50*, 723-735.

Beach CM, Kaliski SF (1986). “Lorenz curve inference with sample
weights: an application to the distribution of unemployment
experience.” _Appl. Statist._, *35*, 38-45.

Lambert PJ (1993). _The distribution and redistribution of income. A
mathematical analysis_, 2 edition. Manchester University Press,
Manchester.
> 
> ## convert to R source file
> r <- tempfile(fileext = ".R")
> bibConvert(fn_biblatex, r, "biblatex")
$infile
[1] "/usr/local/lib/R/site-library/rbibutils/bib/ex0.biblatex"

$outfile
[1] "/tmp/RtmpkO5if6/file1bf2a7e9a6e0a.R"

$nref_in
[1] 3

$nref_out
[1] 3

$bib
Beach CM, Davidson R (1983). “Distribution-free statistical inference
with Lorenz curves and income shares.” _Review of Economic Studies_,
*50*, 723-735.

Beach CM, Kaliski SF (1986). “Lorenz curve inference with sample
weights: an application to the distribution of unemployment
experience.” _Appl. Statist._, *35*, 38-45.

Lambert PJ (1993). _The distribution and redistribution of income. A
mathematical analysis_, 2 edition. Manchester University Press,
Manchester.

> ## file.show(r)
> cat(readLines(r), sep = "\n")
bibentry(bibtype = "Article",
         key = "beachanddavidson1983",
         author = c(person(given = c("Charles", "M"),
                           family = "Beach"),
                    person(given = "Russell",
                           family = "Davidson")),
         title = "Distribution-free statistical inference with Lorenz curves and income shares",
         journal = "Review of Economic Studies",
         year = "1983",
         month = "Feb",
         volume = "50",
         pages = "723--735")

bibentry(bibtype = "Article",
         key = "beachandkaliski1986a",
         author = c(person(given = c("C", "M"),
                           family = "Beach"),
                    person(given = c("S", "F"),
                           family = "Kaliski")),
         title = "Lorenz curve inference with sample weights: an application to the distribution of unemployment experience",
         journal = "Appl. Statist.",
         year = "1986",
         volume = "35",
         pages = "38--45")

bibentry(bibtype = "Book",
         key = "lambert1993",
         author = person(given = c("Peter", "J"),
                         family = "Lambert"),
         title = "The distribution and redistribution of income. A mathematical analysis",
         year = "1993",
         edition = "2",
         publisher = "Manchester University Press",
         address = "Manchester")
> 
> fn_cyr_utf8 <- system.file("bib", "cyr_utf8.bib",  package = "rbibutils")
> 
> ## Can't have files with different encodings in the package, so below
> ## first convert a UTF-8 file to something else.
> ##
> ## input here contains cyrillic (UTF-8) output to Windows Cyrillic,
> ## notice the "no_latex" option
> a <- bibConvert(fn_cyr_utf8, bib, encoding = c("utf8", "cp1251"), tex = "no_latex")
> 
> ## now take the bib file and convert it to UTF-8
> bibConvert(bib, bib2, encoding = c("cp1251", "utf8"))
$infile
[1] "/tmp/RtmpkO5if6/file1bf2a4cc32251.bib"

$outfile
[1] "/tmp/RtmpkO5if6/file1bf2a33cd06c4.bib"

$nref_in
[1] 2

$nref_out
[1] 2

> 
> 
> unlink(c(modl, bib, bib2, r, rds))
> 
> 
> 
> cleanEx()
> nameEx("bibentryExtra")
> ### * bibentryExtra
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: bibentryExtra
> ### Title: Work with 'bibentryExtra' objects
> ### Aliases: bibentryExtra as.bibentryExtra names.bibentryExtra names
> ###   [[.bibentryExtra [.bibentryExtra $<-.bibentryExtra [[<-.bibentryExtra
> 
> ### ** Examples
> 
> ## example bib from ?bibentry
> bref <- c(
+     bibentry(
+         bibtype = "Manual",
+         title = "boot: Bootstrap R (S-PLUS) Functions",
+         author = c(
+             person("Angelo", "Canty", role = "aut",
+                    comment = "S original"),
+             person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
+                    comment = "R port, author of parallel support",
+                    email = "ripley@stats.ox.ac.uk")
+         ),
+         year = "2012",
+         note = "R package version 1.3-4",
+         url = "https://CRAN.R-project.org/package=boot",
+         key = "boot-package"
+     ),
+  
+     bibentry(
+         bibtype = "Book",
+         title = "Bootstrap Methods and Their Applications",
+         author = as.person("Anthony C. Davison [aut], David V. Hinkley [aut]"),
+         year = "1997",
+         publisher = "Cambridge University Press",
+         address = "Cambridge",
+         isbn = "0-521-57391-2",
+         url = "http://statwww.epfl.ch/davison/BMA/",
+         key = "boot-book"
+     )
+   )
> 
> brefExtra <- as.bibentryExtra(bref)
> 
> ## error: j is present, so i must have length 1:
> ## brefExtra[[1:2, "title"]]
> 
> ## the returned list doesn't have attributes:
>                                   brefExtra[[1, c("title", "author")]] # drop = TRUE by default
$title
[1] "boot: Bootstrap R (S-PLUS) Functions"

$author
[1] "Angelo Canty [aut] (S original)"                                                             
[2] "Brian D. Ripley <ripley@stats.ox.ac.uk> [aut, trl, cre] (R port, author of parallel support)"

> 
> ## now it does:
> brefExtra[[1, "title", drop = FALSE]]
$title
[1] "boot: Bootstrap R (S-PLUS) Functions"

attr(,"bibtype")
[1] "Manual"
attr(,"key")
[1] "boot-package"
> brefExtra[["boot-package", "title", drop = FALSE]]
$title
[1] "boot: Bootstrap R (S-PLUS) Functions"

attr(,"bibtype")
[1] "Manual"
attr(,"key")
[1] "boot-package"
> 
> brefExtra[["boot-book", ]]
$title
[1] "Bootstrap Methods and Their Applications"

$author
[1] "Anthony C. Davison [aut]" "David V. Hinkley [aut]"  

$year
[1] "1997"

$publisher
[1] "Cambridge University Press"

$address
[1] "Cambridge"

$isbn
[1] "0-521-57391-2"

$url
[1] "http://statwww.epfl.ch/davison/BMA/"

attr(,"bibtype")
[1] "Book"
attr(,"key")
[1] "boot-book"
> brefExtra[["boot-book"]]
Davison AC, Hinkley DV (1997). _Bootstrap Methods and Their
Applications_. Cambridge University Press, Cambridge. ISBN
0-521-57391-2, <http://statwww.epfl.ch/davison/BMA/>.
> 
> 
> ## assignment "[[<-"
> b2 <- brefExtra
> b2
Canty A, Ripley BD (2012). _boot: Bootstrap R (S-PLUS) Functions_. R
package version 1.3-4, <https://CRAN.R-project.org/package=boot>.

Davison AC, Hinkley DV (1997). _Bootstrap Methods and Their
Applications_. Cambridge University Press, Cambridge. ISBN
0-521-57391-2, <http://statwww.epfl.ch/davison/BMA/>.
> 
> ## use all elements of 'value'
> b2[[list(1, "*")]] <- list(title = "New title", note = "a new note")
> 
> ## replace title
> b2[[list(1, "title")]] <- list(title = "New title A")
> b2
Canty A, Ripley BD (2012). _New title A_. a new note,
<https://CRAN.R-project.org/package=boot>.

Davison AC, Hinkley DV (1997). _Bootstrap Methods and Their
Applications_. Cambridge University Press, Cambridge. ISBN
0-521-57391-2, <http://statwww.epfl.ch/davison/BMA/>.
> 
> ## no change,'year' is not in 'value'
> b2[[list(1, "year")]] <- list(title = "New title A2") 
> b2
Canty A, Ripley BD (2012). _New title A_. a new note,
<https://CRAN.R-project.org/package=boot>.

Davison AC, Hinkley DV (1997). _Bootstrap Methods and Their
Applications_. Cambridge University Press, Cambridge. ISBN
0-521-57391-2, <http://statwww.epfl.ch/davison/BMA/>.
> 
> ## remove 'year'
> b2[[list(1, "year")]] <- list(title = "New title A", year = NULL) ## removes 'year'
> b2
Canty A, Ripley BD (????). _New title A_. a new note,
<https://CRAN.R-project.org/package=boot>.

Davison AC, Hinkley DV (1997). _Bootstrap Methods and Their
Applications_. Cambridge University Press, Cambridge. ISBN
0-521-57391-2, <http://statwww.epfl.ch/davison/BMA/>.
> 
> ## a bibentry 'value'
> b2[[2]] <- bibentry(bibtype = "Misc", title = "Dummy title",
+                     author = "A A Dummy", organization = "none")
> b2
Canty A, Ripley BD (????). _New title A_. a new note,
<https://CRAN.R-project.org/package=boot>.

Dummy AA (????). “Dummy title.”
> 
> 
> 
> cleanEx()
> nameEx("rbibutils_formats")
> ### * rbibutils_formats
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rbibutils_formats
> ### Title: Supported bibliography formats
> ### Aliases: rbibutils_formats
> ### Keywords: datasets
> 
> ### ** Examples
> 
> rbibutils_formats
   Abbreviation  FileExt Input Output
1           ads      ads FALSE   TRUE
2           bib      bib  TRUE   TRUE
3        bibtex   bibtex  TRUE   TRUE
4      biblatex biblatex  TRUE   TRUE
5         copac    copac  TRUE  FALSE
6           ebi      ebi  TRUE  FALSE
7           end      end  TRUE   TRUE
8          endx     endx  TRUE  FALSE
9           isi      isi  TRUE   TRUE
10          med      med  TRUE  FALSE
11         nbib     nbib  TRUE   TRUE
12          ris      ris  TRUE   TRUE
13 R, r, Rstyle        R  TRUE   TRUE
14          rds      rds  TRUE   TRUE
15          xml      xml  TRUE   TRUE
16      wordbib  wordbib  TRUE   TRUE
                                             Description
1                                   ADS reference format
2                                                 BibTeX
3                                                 BibTeX
4                                               BibLaTeX
5                                COPAC format references
6                                                EBI XML
7                                 EndNote (Refer format)
8                                            EndNote XML
9                                     ISI web of science
10                                 Pubmed XML references
11       Pubmed/National Library of Medicine nbib format
12                                            RIS format
13            R source file containing bibentry commands
14 bibentry object in a binary file created by saveRDS()
15                                 MODS XML intermediate
16                         Word 2007 bibliography format
> 
> 
> 
> cleanEx()
> nameEx("readBib")
> ### * readBib
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: readBib
> ### Title: Read and write bibtex files
> ### Aliases: readBib writeBib charToBib
> 
> ### ** Examples
> 
> ## create a bibentry object
> bibs <- readBib(system.file("REFERENCES.bib", package = "rbibutils"),
+                 encoding = "UTF-8")
> ## write bibs to a file
> fn <- tempfile(fileext = ".bib")
> writeBib(bibs, fn)
> 
> ## see the contents of the file
> readLines(fn) # or: file.show(fn)
 [1] "@Manual{Rpackage:bibtex,"                                                               
 [2] "  author = {Romain Francois},"                                                          
 [3] "  title = {bibtex: bibtex parser},"                                                     
 [4] "  year = {2014},"                                                                       
 [5] "  note = {R package version 0.4.0},"                                                    
 [6] "}"                                                                                      
 [7] ""                                                                                       
 [8] "@Misc{Rpackage:Rdpack,"                                                                 
 [9] "  author = {Georgi N Boshnakov},"                                                       
[10] "  title = {{\\{}Rdpack{\\}}: Update and Manipulate Rd Documentation Objects},"          
[11] "  year = {2020},"                                                                       
[12] "  note = {R package version 2.0.0},"                                                    
[13] "  doi = {10.5281/zenodo.3925612},"                                                      
[14] "  url = {https://doi.org/10.5281/zenodo.3925612},"                                      
[15] "}"                                                                                      
[16] ""                                                                                       
[17] "@Article{Rpackage:RefManageR,"                                                          
[18] "  author = {Mathew William McLean},"                                                    
[19] "  title = {RefManageR: Import and Manage BibTeX and BibLaTeX References in R},"         
[20] "  journal = {The Journal of Open Source Software},"                                     
[21] "  year = {2017},"                                                                       
[22] "  doi = {10.21105/joss.00338},"                                                         
[23] "  url = {https://doi.org/10.21105/joss.00338},"                                         
[24] "}"                                                                                      
[25] ""                                                                                       
[26] "@Misc{bibutils6.10,"                                                                    
[27] "  author = {Chris Putnam},"                                                             
[28] "  title = {Library bibutils, version 6.10},"                                            
[29] "  year = {2020},"                                                                       
[30] "  url = {https://sourceforge.net/projects/bibutils/},"                                  
[31] "}"                                                                                      
[32] ""                                                                                       
[33] "@Misc{Rpackage:easyPubMed,"                                                             
[34] "  author = {Damiano Fantini},"                                                          
[35] "  title = {easyPubMed: Search and Retrieve Scientific Publication Records from PubMed},"
[36] "  year = {2019},"                                                                       
[37] "  note = {R package version 2.13},"                                                     
[38] "  url = {https://CRAN.R-project.org/package=easyPubMed},"                               
[39] "}"                                                                                      
> 
> ## import a bib file containing Chineese characters encoded with UTF-8:
> ch_bib <- readBib(system.file("bib/xeCJK_utf8.bib", package = "rbibutils"))
> ch_bib
陈骁, 黄声华, 万山明, 庞珽 (2012).
“基于电无级变速器的内燃机最优控制策略及整车能量管理.” _电工技术学报_,
*27*(2), 133-138.
> print(ch_bib, style = "R")
bibentry(bibtype = "Article",
         key = "chen2012",
         author = c(person(family = "陈骁"),
                    person(family = "黄声华"),
                    person(family = "万山明"),
                    person(family = "庞珽")),
         title = "基于电无级变速器的内燃机最优控制策略及整车能量管理",
         journal = "电工技术学报",
         year = "2012",
         volume = "27",
         number = "2",
         pages = "133--138")
> 
> ## import a bib file encoded with the official Chineese encoding:
> ch_bib2 <- readBib(system.file("bib/xeCJK_gb18030.bib", package = "rbibutils"),
+                    encoding = "gb18030")
> 
> 
> ## a dummy reference with accented characters
> ## (in the file some are utf8, others are TeX escapes)
> bibacc <- system.file("bib/latin1accents_utf8.bib", package = "rbibutils")
> 
> ## export as UTF-8 characters
> ## this will print as true characters in suitable locale:
> be <- readBib(bibacc, direct = TRUE, texChars = "convert")
> print(be, style = "R")
bibentry(bibtype = "Article",
         key = "test1",
         author = person(given = "Kàrè",
                         family = "Lêáé"),
         title = "Kàrè üä Łłêáé",
         journal = "Latin-1 accents",
         year = "2020",
         note = "Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\\tan(\\alpha)$, $\\sin(\\delta)/\\delta \\to 1$, $\\sqrt{x}$.")
> print(be, style = "bibtex")
@Article{test1,
  author = {Kàrè Lêáé},
  title = {Kàrè üä Łłêáé},
  journal = {Latin-1 accents},
  year = {2020},
  note = {Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\tan(\alpha)$, $\sin(\delta)/\delta \to 1$, $\sqrt{x}$.},
}
> ## compare to the input file:
> readLines(bibacc)
[1] "   @ARTICLE{test1,"                                                                             
[2] "     AUTHOR = {Kàrè Lêáé},"                                                                     
[3] "     TITLE = {Kàrè \\\"u\\\"a \\L\\lêáé},"                                                      
[4] "     JOURNAL = {Latin-1 accents},"                                                              
[5] "     YEAR = {2020},"                                                                            
[6] "     NOTE = {Having the similar title and author is helpful for debugging since authors are"    
[7] "                  processed differently from other fields. Here is a formula: $\\tan(\\alpha)$,"
[8] "                  $\\sin(\\delta)/\\delta \\to 1$, $\\sqrt{x}$.}"                               
[9] "}"                                                                                              
> 
> 
> be1 <- readBib(bibacc, direct = TRUE)
> be1a <- readBib(bibacc, direct = TRUE, texChars = "keep") # same
> be1
Lêáé K (2020). “Kàrè üä Łłêáé.” _Latin-1 accents_. Having the similar
title and author is helpful for debugging since authors are processed
differently from other fields. Here is a formula: $\tan(\alpha)$,
$\sin(\delta)/\delta\to1$, $\sqrt{x}$.
> print(be1, style = "R")
bibentry(bibtype = "Article",
         key = "test1",
         author = person(given = "Kàrè",
                         family = "Lêáé"),
         title = "Kàrè \\\"u\\\"a \\L\\lêáé",
         journal = "Latin-1 accents",
         year = "2020",
         note = "Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\\tan(\\alpha)$, $\\sin(\\delta)/\\delta \\to 1$, $\\sqrt{x}$.")
> print(be1, style = "bibtex")
@Article{test1,
  author = {Kàrè Lêáé},
  title = {Kàrè \"u\"a \L\lêáé},
  journal = {Latin-1 accents},
  year = {2020},
  note = {Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\tan(\alpha)$, $\sin(\delta)/\delta \to 1$, $\sqrt{x}$.},
}
> 
> ## export as TeX escapes, when possible
> be2 <- readBib(bibacc, direct = TRUE, texChars = "export") ## same
> be2
Lêáé K (2020). “Kàrè üä Łłêáé.” _Latin-1 accents_. Having the similar
title and author is helpful for debugging since authors are processed
differently from other fields. Here is a formula: $\tan(\alpha)$,
$\sin(\delta)/\delta\to1$, $\sqrt{x}$.
> print(be2, style = "R")
bibentry(bibtype = "Article",
         key = "test1",
         author = person(given = "K{\\`a}r{\\`e}",
                         family = "L{\\^e}{\\'a}{\\'e}"),
         title = "K{\\`a}r{\\`e} \\\"u\\\"a \\L\\l{\\^e}{\\'a}{\\'e}",
         journal = "Latin-1 accents",
         year = "2020",
         note = "Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\\tan(\\alpha)$, $\\sin(\\delta)/\\delta \\to 1$, $\\sqrt{x}$.")
> print(be2, style = "bibtex")
@Article{test1,
  author = {K{\`a}r{\`e} L{\^e}{\'a}{\'e}},
  title = {K{\`a}r{\`e} \"u\"a \L\l{\^e}{\'a}{\'e}},
  journal = {Latin-1 accents},
  year = {2020},
  note = {Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\tan(\alpha)$, $\sin(\delta)/\delta \to 1$, $\sqrt{x}$.},
}
> 
> ## in older versions (up to 2.2.4) of rbibutils, "convert" converted
> ##     a lot of TeX commands representing symbols  to characters.
> ## This is no longer the case:
> be3 <- readBib(bibacc, direct = TRUE, texChars = "convert")
> ## be3
> print(be3, style = "R")
bibentry(bibtype = "Article",
         key = "test1",
         author = person(given = "Kàrè",
                         family = "Lêáé"),
         title = "Kàrè üä Łłêáé",
         journal = "Latin-1 accents",
         year = "2020",
         note = "Having the similar title and author is helpful for debugging since authors are processed differently from other fields. Here is a formula: $\\tan(\\alpha)$, $\\sin(\\delta)/\\delta \\to 1$, $\\sqrt{x}$.")
> ## print(be3, style = "bibtex")
> 
> ## charToBib
> ##
> ## get a bibtex reference for R
> Rcore <- format(citation(), style = "bibtex")
> ## add a citation key
> Rcore <- sub("@Manual{", "@Manual{Rcore", Rcore, fixed = TRUE)
> cat(Rcore, sep = "\n")
@Manual{Rcore,
  title = {R: A Language and Environment for Statistical Computing},
  author = {{R Core Team}},
  organization = {R Foundation for Statistical Computing},
  address = {Vienna, Austria},
  year = {2025},
  url = {https://www.R-project.org/},
}
> beRcore <- charToBib(Rcore)
> beRcore
R Core Team (2025). _R: A Language and Environment for Statistical
Computing_. <https://www.R-project.org/>.
> class(beRcore)
[1] "bibentryExtra" "bibentry"     
> print(beRcore, style = "R")
bibentry(bibtype = "Manual",
         key = "Rcore",
         author = person(family = "R Core Team"),
         title = "R: A Language and Environment for Statistical Computing",
         year = "2025",
         publisher = "R Foundation for Statistical Computing",
         address = "Vienna, Austria",
         url = "https://www.R-project.org/")
> 
> ## bibtex entries generated by citation() don't have cite keys.
> ## this sets the key to 'Rcore'
> beRcore <- charToBib(toBibtex(citation()), key = "Rcore")
> beRcore$key == "Rcore"  # TRUE
[1] TRUE
> 
> ## this sets two keys
> bemore <- charToBib(toBibtex( c(citation(), citation("rbibutils"))),
+     key = c("Rcore", "Rpackage:rbibutils"))
> all.equal(names(bemore), c("Rcore", "Rpackage:rbibutils"))
[1] TRUE
> 
> 
> ## a large example with several files - needs internet access;
> ## it is better to clone repository https://github.com/iridia-ulb/references
> ## and work on local files
> ##
> ## iridia_mac <- c("abbrev.bib", "authors.bib", "journals.bib", "crossref.bib")
> ## iridia_biblio <- "biblio.bib"
> ## 
> ## iridia_raw_url <- "https://raw.githubusercontent.com/iridia-ulb/references/master"
> ## iridia_mac_url <- file.path(iridia_raw_url, iridia_mac)
> ## iridia_biblio_url <- file.path(iridia_raw_url, iridia_biblio)
> ## 
> ## bibdir <- tempdir()
> ## iridia_mac_loc <- file.path(bibdir, iridia_mac)
> ## iridia_biblio_loc <- file.path(bibdir, iridia_biblio)
> ## 
> ## ## download the files to bibdir
> ## sapply(c(iridia_biblio_url, iridia_mac_url),
> ##        function(x) download.file(x, file.path(bibdir, basename(x))))
> ## 
> ## iridia <- readBib(iridia_biblio_loc, direct = TRUE, macros = iridia_mac_loc)
> ## iridia[1]
> ## print(iridia[1], style = "R")
> ## toBibtex(iridia[1])  # or: print(iridia[1], style = "bibtex")
> ## length(iridia)  # 2576 at the time of writing
> 
> unlink(fn)
> 
> 
> 
> cleanEx()
> nameEx("readBibentry")
> ### * readBibentry
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: readBibentry
> ### Title: Read and write bibentry files
> ### Aliases: readBibentry writeBibentry
> 
> ### ** Examples
> 
> bibs <- readBib(system.file("REFERENCES.bib", package = "rbibutils"),
+                 encoding = "UTF-8")
> fn <- tempfile(fileext = ".bib")
> 
> writeBibentry(bibs, file = fn) # style = "Rstyle" (default)
> cat(readLines(fn), sep = "\n")
c(
  bibentry(bibtype = "Manual",
         key = "Rpackage:bibtex",
         author = person(given = "Romain",
                         family = "Francois"),
         title = "bibtex: bibtex parser",
         year = "2014",
         note = "R package version 0.4.0"),

  bibentry(bibtype = "Misc",
         key = "Rpackage:Rdpack",
         author = person(given = c("Georgi", "N"),
                         family = "Boshnakov"),
         title = "{\\{}Rdpack{\\}}: Update and Manipulate Rd Documentation Objects",
         year = "2020",
         note = "R package version 2.0.0",
         doi = "10.5281/zenodo.3925612",
         url = "https://doi.org/10.5281/zenodo.3925612"),

  bibentry(bibtype = "Article",
         key = "Rpackage:RefManageR",
         author = person(given = c("Mathew", "William"),
                         family = "McLean"),
         title = "RefManageR: Import and Manage BibTeX and BibLaTeX References in R",
         journal = "The Journal of Open Source Software",
         year = "2017",
         doi = "10.21105/joss.00338",
         url = "https://doi.org/10.21105/joss.00338"),

  bibentry(bibtype = "Misc",
         key = "bibutils6.10",
         author = person(given = "Chris",
                         family = "Putnam"),
         title = "Library bibutils, version 6.10",
         year = "2020",
         url = "https://sourceforge.net/projects/bibutils/"),

  bibentry(bibtype = "Misc",
         key = "Rpackage:easyPubMed",
         author = person(given = "Damiano",
                         family = "Fantini"),
         title = "easyPubMed: Search and Retrieve Scientific Publication Records from PubMed",
         year = "2019",
         note = "R package version 2.13",
         url = "https://CRAN.R-project.org/package=easyPubMed")
)

> 
> writeBibentry(bibs, file = fn, style = "loose")
> cat(readLines(fn), sep = "\n")
bibentry(bibtype = "Manual",
         key = "Rpackage:bibtex",
         author = person(given = "Romain",
                         family = "Francois"),
         title = "bibtex: bibtex parser",
         year = "2014",
         note = "R package version 0.4.0")

bibentry(bibtype = "Misc",
         key = "Rpackage:Rdpack",
         author = person(given = c("Georgi", "N"),
                         family = "Boshnakov"),
         title = "{\\{}Rdpack{\\}}: Update and Manipulate Rd Documentation Objects",
         year = "2020",
         note = "R package version 2.0.0",
         doi = "10.5281/zenodo.3925612",
         url = "https://doi.org/10.5281/zenodo.3925612")

bibentry(bibtype = "Article",
         key = "Rpackage:RefManageR",
         author = person(given = c("Mathew", "William"),
                         family = "McLean"),
         title = "RefManageR: Import and Manage BibTeX and BibLaTeX References in R",
         journal = "The Journal of Open Source Software",
         year = "2017",
         doi = "10.21105/joss.00338",
         url = "https://doi.org/10.21105/joss.00338")

bibentry(bibtype = "Misc",
         key = "bibutils6.10",
         author = person(given = "Chris",
                         family = "Putnam"),
         title = "Library bibutils, version 6.10",
         year = "2020",
         url = "https://sourceforge.net/projects/bibutils/")

bibentry(bibtype = "Misc",
         key = "Rpackage:easyPubMed",
         author = person(given = "Damiano",
                         family = "Fantini"),
         title = "easyPubMed: Search and Retrieve Scientific Publication Records from PubMed",
         year = "2019",
         note = "R package version 2.13",
         url = "https://CRAN.R-project.org/package=easyPubMed")
> 
> unlink(fn)
> 
> 
> 
> cleanEx()
> nameEx("register_JSSextra")
> ### * register_JSSextra
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: register_JSSextra
> ### Title: Create and register bibstyle JSSextra
> ### Aliases: register_JSSextra
> ### Keywords: documentation
> 
> ### ** Examples
> 
> ## current default style
> tools::getBibstyle()
[1] "JSSextra"
> tools::getBibstyle(TRUE)  # all styles, currently "JSS" only
[1] "JSS"      "JSSextra"
> 
> register_JSSextra()       # register "JSSextra"
<environment: 0x560792d3b360>
> tools::getBibstyle(TRUE)  # now it is available
[1] "JSS"      "JSSextra"
> tools::getBibstyle()      # ... but not default
[1] "JSSextra"
> 
> register_JSSextra(TRUE)  # this makes it default
<environment: 0x560792d3b360>
> tools::getBibstyle()
[1] "JSSextra"
> 
> ## setting default style with bibstyle():
> tools::bibstyle("JSS", .default = TRUE)
<environment: 0x560792d3b360>
> tools::getBibstyle()
[1] "JSS"
> 
> 
> 
> ### * <FOOTER>
> ###
> cleanEx()
> options(digits = 7L)
> base::cat("Time elapsed: ", proc.time() - base::get("ptime", pos = 'CheckExEnv'),"\n")
Time elapsed:  0.209 0.025 0.236 0 0 
> grDevices::dev.off()
null device 
          1 
> ###
> ### Local variables: ***
> ### mode: outline-minor ***
> ### outline-regexp: "\\(> \\)?### [*]+" ***
> ### End: ***
> quit('no')
