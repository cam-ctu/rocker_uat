
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> source("incl/start,load-only.R")
[08:26:50.608] Future-specific environment variables:
[08:26:50.608] Environment variable ‘R_FUTURE_DEMO_MANDELBROT_REGION’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_DEMO_MANDELBROT_NROW’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_DEPRECATED_IGNORE’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_DEPRECATED_DEFUNCT’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_FORK_MULTITHREADING_ENABLE’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_GLOBALS_MAXSIZE’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_GLOBALS_ONMISSING’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_GLOBALS_ONREFERENCE’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_GLOBALS_METHOD’ not set
[08:26:50.609] Environment variable ‘R_FUTURE_GLOBALS_RESOLVE’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_LAZY_ASSERTOWNER’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_PLAN’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_PLAN_DISALLOW’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_PSOCK_RELAY_IMMEDIATE’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_RELAY_IMMEDIATE’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_RESOLVE_RECURSIVE’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_ALIVE_TIMEOUT’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_RESOLVED_TIMEOUT’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_CLUSTER_RESOLVED_TIMEOUT’ not set
[08:26:50.610] Environment variable ‘R_FUTURE_MULTICORE_RESOLVED_TIMEOUT’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_ONFUTURECONDITION_KEEPFUTURE’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_RNG_ONMISUSE’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_GLOBALENV_ONMISUSE’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_WAIT_TIMEOUT’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_WAIT_INTERVAL’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_WAIT_ALPHA’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_ASSIGN_GLOBALS_EXCLUDE’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_OUTPUT_WINDOWS_REENCODE’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_GLOBALS_GLOBALSOF_LOCALS’ not set
[08:26:50.611] Environment variable ‘R_FUTURE_STATE_ONINVALID’ not set
[08:26:50.612] Environment variable ‘R_FUTURE_JOURNAL’ not set
[08:26:50.612] Environment variable ‘R_FUTURE_GLOBALS_KEEPWHERE’ not set
[08:26:50.612] Environment variable ‘R_FUTURE_GLOBALS_OBJECTSIZE_METHOD’ not set
[08:26:50.612] Environment variable ‘R_FUTURE_PLAN_CLEANUP_LEGACY’ not set
[08:26:50.613] R process uuid: 153c8744-25df-9fc0-9f24-44f9996f0bcf
[08:26:50.613] Setting plan('default')
[08:26:50.613] plan(): Setting new future strategy stack:
[08:26:50.613] List of future strategies:
[08:26:50.613] 1. sequential:
[08:26:50.613]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[08:26:50.613]    - tweaked: FALSE
[08:26:50.613]    - call: NULL
[08:26:50.614] plan(): nbrOfWorkers() = 1
[08:26:50.636] plan(): Setting new future strategy stack:
[08:26:50.636] List of future strategies:
[08:26:50.636] 1. sequential:
[08:26:50.636]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[08:26:50.636]    - tweaked: FALSE
[08:26:50.636]    - call: future::plan("sequential")
[08:26:50.652] plan(): nbrOfWorkers() = 1
> stop_if_not <- future.apply:::stop_if_not
> 
> message("*** utils ...")
*** utils ...
> 
> message("*** hpaste() ...")
*** hpaste() ...
> 
> # Some vectors
> x <- 1:6
> y <- 10:1
> z <- LETTERS[x]
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # Abbreviation of output vector
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> printf("x = %s.\n", hpaste(x))
x = 1, 2, 3, 4, 5, 6.
> ## x = 1, 2, 3, ..., 6.
> 
> printf("x = %s.\n", hpaste(x, maxHead = 2))
x = 1, 2, ..., 6.
> ## x = 1, 2, ..., 6.
> 
> printf("x = %s.\n", hpaste(x, maxHead = 3)) # Default
x = 1, 2, 3, ..., 6.
> ## x = 1, 2, 3, ..., 6.
> 
> # It will never output 1, 2, 3, 4, ..., 6
> printf("x = %s.\n", hpaste(x, maxHead = 4))
x = 1, 2, 3, 4, 5, 6.
> ## x = 1, 2, 3, 4, 5 and 6.
> 
> # Showing the tail
> printf("x = %s.\n", hpaste(x, maxHead = 1, maxTail = 2))
x = 1, ..., 5, 6.
> ## x = 1, ..., 5, 6.
> 
> # Turning off abbreviation
> printf("y = %s.\n", hpaste(y, maxHead = Inf))
y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1.
> ## y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
> 
> ## ...or simply
> printf("y = %s.\n", paste(y, collapse = ", "))
y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1.
> ## y = 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
> 
> # Change last separator
> printf("x = %s.\n", hpaste(x, lastCollapse = " and "))
x = 1, 2, 3, 4, 5 and 6.
> ## x = 1, 2, 3, 4, 5 and 6.
> 
> # No collapse
> stopifnot(all(hpaste(x, collapse = NULL) == x))
> 
> # Empty input
> stopifnot(identical(hpaste(character(0)), character(0)))
> 
> message("*** hpaste() ...")
*** hpaste() ...
> 
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # debug()
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> message("*** mdebug() ...")
*** mdebug() ...
> 
> mdebug("Hello #", 1)
[08:26:50.675] Hello #1
> mdebugf("Hello #%d", 1)
[08:26:50.675] Hello #1
> options(future.debug = TRUE)
> 
> mdebug("Hello #", 2)
[08:26:50.675] Hello #2
> mdebugf("Hello #%d", 2)
[08:26:50.675] Hello #2
> options(future.debug = FALSE)
> 
> mdebug("Hello #", 3)
NULL
> mdebugf("Hello #%d", 3)
NULL
> 
> message("*** mdebug() ... DONE")
*** mdebug() ... DONE
> 
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> # import_from()
> # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> message("*** import_from() ...")
*** import_from() ...
> 
> obj <- import_from("non-existing-fcn", default = NA, package = "future")
> stopifnot(identical(obj, NA))
> 
> res <- tryCatch({
+   obj <- import_from("non-existing-fcn", package = "future")
+ }, error = identity)
> print(res)
<simpleError: No such 'future' function: non-existing-fcn()>
> stopifnot(inherits(res, "simpleError"))
> 
> message("*** import_from() ... DONE")
*** import_from() ... DONE
> 
> 
> message("*** stop_if_not() ...")
*** stop_if_not() ...
> 
> stop_if_not(TRUE)
NULL
> stop_if_not(TRUE, TRUE)
NULL
> res <- tryCatch({
+   stop_if_not(FALSE)
+ }, error = identity)
> stopifnot(inherits(res, "simpleError"))
> res <- tryCatch({
+   stop_if_not(list(TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE))
+ }, error = identity)
> stopifnot(inherits(res, "simpleError"))
> 
> message("*** stop_if_not() ... DONE")
*** stop_if_not() ... DONE
> 
> 
> message("*** assert_values2() ...")
*** assert_values2() ...
> 
> assert_values2 <- future.apply:::assert_values2
> assert_values2(nX = 2L, values2 = as.list(1:2))
> res <- tryCatch({
+   assert_values2(nX = 1L, values = as.list(1:2), values2 = as.list(1:2), fcn = "tests", debug = TRUE)
+ }, error = identity)
> stopifnot(inherits(res, "FutureError"))
> 
> message("*** assert_values2() ... DONE")
*** assert_values2() ... DONE
> 
> 
> message("*** utils ... DONE")
*** utils ... DONE
> 
> source("incl/end.R")
> 
