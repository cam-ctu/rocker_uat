
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library("R.methodsS3")
R.methodsS3 v1.8.2 (2022-06-13 22:00:14 UTC) successfully loaded. See ?R.methodsS3 for help.
> 
> message("TESTING: setGenericS3()...")
TESTING: setGenericS3()...
> 
> myCat.matrix <- function(..., sep=", ") {
+   cat("A matrix:\n")
+   cat(..., sep=sep)
+   cat("\n")
+ }
> 
> myCat.default <- function(..., sep=", ") {
+   cat(..., sep=sep)
+   cat("\n")
+ }
> 
> setGenericS3("myCat")
> 
> myCat(1:10)
1, 2, 3, 4, 5, 6, 7, 8, 9, 10
> mat <- matrix(1:10, ncol=5)
> myCat(mat)
A matrix:
1, 2, 3, 4, 5, 6, 7, 8, 9, 10
> 
> setGenericS3("foo", validators=list(R.methodsS3:::rccValidateSetGenericS3))
> setGenericS3("foo<-")
> 
> bar.default <- function(...) cat("bar.default\n")
> bar <- function(...) cat("bar\n")
> res <- tryCatch(setGenericS3("bar"), error = identity)
> stopifnot(inherits(res, "error"))
> 
> print(getGenericS3("print"))
function (x, ...) 
UseMethod("print")
<bytecode: 0x55623f8bce78>
<environment: namespace:base>
> 
> 
> # Your definition will redefine bar() above to bar.default().
> foobar <- function() print("foobar()")
> setGenericS3("foobar")
Warning message:
In setGenericS3.default("foobar") :
  Renamed the preexisting function foobar to foobar.default, which was defined in environment R_GlobalEnv.
> 
> 
> # Cleanup
> rm(list=ls())
> 
> message("TESTING: setGenericS3()...DONE")
TESTING: setGenericS3()...DONE
> 
