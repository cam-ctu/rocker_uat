
R version 4.4.3 (2025-02-28) -- "Trophy Case"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> source("incl/start.R")
[10:21:05.678] plan(): Setting new future strategy stack:
[10:21:05.679] List of future strategies:
[10:21:05.679] 1. sequential:
[10:21:05.679]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:05.679]    - tweaked: FALSE
[10:21:05.679]    - call: future::plan("sequential")
[10:21:05.693] plan(): nbrOfWorkers() = 1
> 
> message("*** Future class ...")
*** Future class ...
> 
> message("*** Future class - exception ...")
*** Future class - exception ...
> 
> f <- Future()
[10:21:05.709] getGlobalsAndPackages() ...
[10:21:05.709] 
[10:21:05.709] - globals: [0] <none>
[10:21:05.709] getGlobalsAndPackages() ... DONE
> print(f)
Future:
Label: ‘<none>’
Expression:
NULL
Lazy evaluation: FALSE
Asynchronous evaluation: TRUE
Local evaluation: TRUE
Environment: R_GlobalEnv
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘nothing’)
Globals: <none>
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Resolved: FALSE
Value: <not collected>
Conditions captured: <none>
Early signaling: FALSE
Owner process: 014a5710-fb08-919b-71a1-2d15a8c67adf
Class: ‘Future’, ‘environment’
> 
> res <- tryCatch(value(f), error = identity)
[10:21:05.711] run() for ‘Future’ ...
[10:21:05.711] - state: ‘created’
[10:21:05.711] run() for ‘Future’ ... done
> print(res)
<simpleError: ‘future$lazy’ is not TRUE>
> stopifnot(inherits(res, "error"))
> 
> ## Invalid seed
> res <- tryCatch(f <- Future(42, seed = 1:2), error = identity)
> stopifnot(inherits(res, "error"))
> 
> ## When no packages are exported
> foo <- structure(function(...) { Future(1) }, class = "future")
> plan(foo)
[10:21:05.713] plan(): Setting new future strategy stack:
[10:21:05.713] List of future strategies:
[10:21:05.713] 1. future:
[10:21:05.713]    - args: function (..., workers = "<NULL>")
[10:21:05.713]    - tweaked: FALSE
[10:21:05.713]    - call: plan(foo)
[10:21:05.725] plan(): nbrOfWorkers() = Inf
> f <- Future()
[10:21:05.725] getGlobalsAndPackages() ...
[10:21:05.725] 
[10:21:05.725] - globals: [0] <none>
[10:21:05.725] getGlobalsAndPackages() ... DONE
> expr <- getExpression(f)
[10:21:05.726] Packages needed by the future expression (n = 0): <none>
[10:21:05.726] Packages needed by future strategies (n = 0): <none>
[10:21:05.727] {
[10:21:05.727]     {
[10:21:05.727]         {
[10:21:05.727]             ...future.startTime <- base::Sys.time()
[10:21:05.727]             {
[10:21:05.727]                 {
[10:21:05.727]                   {
[10:21:05.727]                     base::local({
[10:21:05.727]                       has_future <- base::requireNamespace("future", 
[10:21:05.727]                         quietly = TRUE)
[10:21:05.727]                       if (has_future) {
[10:21:05.727]                         ns <- base::getNamespace("future")
[10:21:05.727]                         version <- ns[[".package"]][["version"]]
[10:21:05.727]                         if (is.null(version)) 
[10:21:05.727]                           version <- utils::packageVersion("future")
[10:21:05.727]                       }
[10:21:05.727]                       else {
[10:21:05.727]                         version <- NULL
[10:21:05.727]                       }
[10:21:05.727]                       if (!has_future || version < "1.8.0") {
[10:21:05.727]                         info <- base::c(r_version = base::gsub("R version ", 
[10:21:05.727]                           "", base::R.version$version.string), 
[10:21:05.727]                           platform = base::sprintf("%s (%s-bit)", 
[10:21:05.727]                             base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:05.727]                           os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:05.727]                             "release", "version")], collapse = " "), 
[10:21:05.727]                           hostname = base::Sys.info()[["nodename"]])
[10:21:05.727]                         info <- base::sprintf("%s: %s", base::names(info), 
[10:21:05.727]                           info)
[10:21:05.727]                         info <- base::paste(info, collapse = "; ")
[10:21:05.727]                         if (!has_future) {
[10:21:05.727]                           msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:05.727]                             info)
[10:21:05.727]                         }
[10:21:05.727]                         else {
[10:21:05.727]                           msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:05.727]                             info, version)
[10:21:05.727]                         }
[10:21:05.727]                         base::stop(msg)
[10:21:05.727]                       }
[10:21:05.727]                     })
[10:21:05.727]                   }
[10:21:05.727]                   ...future.strategy.old <- future::plan("list")
[10:21:05.727]                   options(future.plan = NULL)
[10:21:05.727]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.727]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:05.727]                 }
[10:21:05.727]                 ...future.workdir <- getwd()
[10:21:05.727]             }
[10:21:05.727]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:05.727]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:05.727]         }
[10:21:05.727]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:05.727]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:05.727]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:05.727]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:05.727]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:05.727]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:05.727]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:05.727]             base::names(...future.oldOptions))
[10:21:05.727]     }
[10:21:05.727]     if (FALSE) {
[10:21:05.727]     }
[10:21:05.727]     else {
[10:21:05.727]         if (TRUE) {
[10:21:05.727]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:05.727]                 open = "w")
[10:21:05.727]         }
[10:21:05.727]         else {
[10:21:05.727]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:05.727]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:05.727]         }
[10:21:05.727]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:05.727]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:05.727]             base::sink(type = "output", split = FALSE)
[10:21:05.727]             base::close(...future.stdout)
[10:21:05.727]         }, add = TRUE)
[10:21:05.727]     }
[10:21:05.727]     ...future.frame <- base::sys.nframe()
[10:21:05.727]     ...future.conditions <- base::list()
[10:21:05.727]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:05.727]     if (FALSE) {
[10:21:05.727]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:05.727]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:05.727]     }
[10:21:05.727]     ...future.result <- base::tryCatch({
[10:21:05.727]         base::withCallingHandlers({
[10:21:05.727]             ...future.value <- base::withVisible(base::local(NULL))
[10:21:05.727]             future::FutureResult(value = ...future.value$value, 
[10:21:05.727]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.727]                   ...future.rng), globalenv = if (FALSE) 
[10:21:05.727]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:05.727]                     ...future.globalenv.names))
[10:21:05.727]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:05.727]         }, condition = base::local({
[10:21:05.727]             c <- base::c
[10:21:05.727]             inherits <- base::inherits
[10:21:05.727]             invokeRestart <- base::invokeRestart
[10:21:05.727]             length <- base::length
[10:21:05.727]             list <- base::list
[10:21:05.727]             seq.int <- base::seq.int
[10:21:05.727]             signalCondition <- base::signalCondition
[10:21:05.727]             sys.calls <- base::sys.calls
[10:21:05.727]             `[[` <- base::`[[`
[10:21:05.727]             `+` <- base::`+`
[10:21:05.727]             `<<-` <- base::`<<-`
[10:21:05.727]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:05.727]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:05.727]                   3L)]
[10:21:05.727]             }
[10:21:05.727]             function(cond) {
[10:21:05.727]                 is_error <- inherits(cond, "error")
[10:21:05.727]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:05.727]                   NULL)
[10:21:05.727]                 if (is_error) {
[10:21:05.727]                   sessionInformation <- function() {
[10:21:05.727]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:05.727]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:05.727]                       search = base::search(), system = base::Sys.info())
[10:21:05.727]                   }
[10:21:05.727]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.727]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:05.727]                     cond$call), session = sessionInformation(), 
[10:21:05.727]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:05.727]                   signalCondition(cond)
[10:21:05.727]                 }
[10:21:05.727]                 else if (!ignore && TRUE && inherits(cond, "condition")) {
[10:21:05.727]                   signal <- FALSE && inherits(cond, character(0))
[10:21:05.727]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.727]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:05.727]                   if (FALSE && !signal) {
[10:21:05.727]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.727]                     {
[10:21:05.727]                       inherits <- base::inherits
[10:21:05.727]                       invokeRestart <- base::invokeRestart
[10:21:05.727]                       is.null <- base::is.null
[10:21:05.727]                       muffled <- FALSE
[10:21:05.727]                       if (inherits(cond, "message")) {
[10:21:05.727]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.727]                         if (muffled) 
[10:21:05.727]                           invokeRestart("muffleMessage")
[10:21:05.727]                       }
[10:21:05.727]                       else if (inherits(cond, "warning")) {
[10:21:05.727]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.727]                         if (muffled) 
[10:21:05.727]                           invokeRestart("muffleWarning")
[10:21:05.727]                       }
[10:21:05.727]                       else if (inherits(cond, "condition")) {
[10:21:05.727]                         if (!is.null(pattern)) {
[10:21:05.727]                           computeRestarts <- base::computeRestarts
[10:21:05.727]                           grepl <- base::grepl
[10:21:05.727]                           restarts <- computeRestarts(cond)
[10:21:05.727]                           for (restart in restarts) {
[10:21:05.727]                             name <- restart$name
[10:21:05.727]                             if (is.null(name)) 
[10:21:05.727]                               next
[10:21:05.727]                             if (!grepl(pattern, name)) 
[10:21:05.727]                               next
[10:21:05.727]                             invokeRestart(restart)
[10:21:05.727]                             muffled <- TRUE
[10:21:05.727]                             break
[10:21:05.727]                           }
[10:21:05.727]                         }
[10:21:05.727]                       }
[10:21:05.727]                       invisible(muffled)
[10:21:05.727]                     }
[10:21:05.727]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.727]                   }
[10:21:05.727]                 }
[10:21:05.727]                 else {
[10:21:05.727]                   if (TRUE) {
[10:21:05.727]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.727]                     {
[10:21:05.727]                       inherits <- base::inherits
[10:21:05.727]                       invokeRestart <- base::invokeRestart
[10:21:05.727]                       is.null <- base::is.null
[10:21:05.727]                       muffled <- FALSE
[10:21:05.727]                       if (inherits(cond, "message")) {
[10:21:05.727]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.727]                         if (muffled) 
[10:21:05.727]                           invokeRestart("muffleMessage")
[10:21:05.727]                       }
[10:21:05.727]                       else if (inherits(cond, "warning")) {
[10:21:05.727]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.727]                         if (muffled) 
[10:21:05.727]                           invokeRestart("muffleWarning")
[10:21:05.727]                       }
[10:21:05.727]                       else if (inherits(cond, "condition")) {
[10:21:05.727]                         if (!is.null(pattern)) {
[10:21:05.727]                           computeRestarts <- base::computeRestarts
[10:21:05.727]                           grepl <- base::grepl
[10:21:05.727]                           restarts <- computeRestarts(cond)
[10:21:05.727]                           for (restart in restarts) {
[10:21:05.727]                             name <- restart$name
[10:21:05.727]                             if (is.null(name)) 
[10:21:05.727]                               next
[10:21:05.727]                             if (!grepl(pattern, name)) 
[10:21:05.727]                               next
[10:21:05.727]                             invokeRestart(restart)
[10:21:05.727]                             muffled <- TRUE
[10:21:05.727]                             break
[10:21:05.727]                           }
[10:21:05.727]                         }
[10:21:05.727]                       }
[10:21:05.727]                       invisible(muffled)
[10:21:05.727]                     }
[10:21:05.727]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.727]                   }
[10:21:05.727]                 }
[10:21:05.727]             }
[10:21:05.727]         }))
[10:21:05.727]     }, error = function(ex) {
[10:21:05.727]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:05.727]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.727]                 ...future.rng), started = ...future.startTime, 
[10:21:05.727]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:05.727]             version = "1.8"), class = "FutureResult")
[10:21:05.727]     }, finally = {
[10:21:05.727]         if (!identical(...future.workdir, getwd())) 
[10:21:05.727]             setwd(...future.workdir)
[10:21:05.727]         {
[10:21:05.727]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:05.727]                 ...future.oldOptions$nwarnings <- NULL
[10:21:05.727]             }
[10:21:05.727]             base::options(...future.oldOptions)
[10:21:05.727]             if (.Platform$OS.type == "windows") {
[10:21:05.727]                 old_names <- names(...future.oldEnvVars)
[10:21:05.727]                 envs <- base::Sys.getenv()
[10:21:05.727]                 names <- names(envs)
[10:21:05.727]                 common <- intersect(names, old_names)
[10:21:05.727]                 added <- setdiff(names, old_names)
[10:21:05.727]                 removed <- setdiff(old_names, names)
[10:21:05.727]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:05.727]                   envs[common]]
[10:21:05.727]                 NAMES <- toupper(changed)
[10:21:05.727]                 args <- list()
[10:21:05.727]                 for (kk in seq_along(NAMES)) {
[10:21:05.727]                   name <- changed[[kk]]
[10:21:05.727]                   NAME <- NAMES[[kk]]
[10:21:05.727]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.727]                     next
[10:21:05.727]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.727]                 }
[10:21:05.727]                 NAMES <- toupper(added)
[10:21:05.727]                 for (kk in seq_along(NAMES)) {
[10:21:05.727]                   name <- added[[kk]]
[10:21:05.727]                   NAME <- NAMES[[kk]]
[10:21:05.727]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.727]                     next
[10:21:05.727]                   args[[name]] <- ""
[10:21:05.727]                 }
[10:21:05.727]                 NAMES <- toupper(removed)
[10:21:05.727]                 for (kk in seq_along(NAMES)) {
[10:21:05.727]                   name <- removed[[kk]]
[10:21:05.727]                   NAME <- NAMES[[kk]]
[10:21:05.727]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.727]                     next
[10:21:05.727]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.727]                 }
[10:21:05.727]                 if (length(args) > 0) 
[10:21:05.727]                   base::do.call(base::Sys.setenv, args = args)
[10:21:05.727]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:05.727]             }
[10:21:05.727]             else {
[10:21:05.727]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:05.727]             }
[10:21:05.727]             {
[10:21:05.727]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:05.727]                   0L) {
[10:21:05.727]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:05.727]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:05.727]                   base::options(opts)
[10:21:05.727]                 }
[10:21:05.727]                 {
[10:21:05.727]                   NULL
[10:21:05.727]                   options(future.plan = NULL)
[10:21:05.727]                   if (is.na(NA_character_)) 
[10:21:05.727]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.727]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:05.727]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:05.727]                     .init = FALSE)
[10:21:05.727]                 }
[10:21:05.727]             }
[10:21:05.727]         }
[10:21:05.727]     })
[10:21:05.727]     if (TRUE) {
[10:21:05.727]         base::sink(type = "output", split = FALSE)
[10:21:05.727]         if (TRUE) {
[10:21:05.727]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:05.727]         }
[10:21:05.727]         else {
[10:21:05.727]             ...future.result["stdout"] <- base::list(NULL)
[10:21:05.727]         }
[10:21:05.727]         base::close(...future.stdout)
[10:21:05.727]         ...future.stdout <- NULL
[10:21:05.727]     }
[10:21:05.727]     ...future.result$conditions <- ...future.conditions
[10:21:05.727]     ...future.result$finished <- base::Sys.time()
[10:21:05.727]     ...future.result
[10:21:05.727] }
> print(expr)
{
    {
        {
            ...future.startTime <- base::Sys.time()
            {
                {
                  {
                    base::local({
                      has_future <- base::requireNamespace("future", 
                        quietly = TRUE)
                      if (has_future) {
                        ns <- base::getNamespace("future")
                        version <- ns[[".package"]][["version"]]
                        if (is.null(version)) 
                          version <- utils::packageVersion("future")
                      }
                      else {
                        version <- NULL
                      }
                      if (!has_future || version < "1.8.0") {
                        info <- base::c(r_version = base::gsub("R version ", 
                          "", base::R.version$version.string), 
                          platform = base::sprintf("%s (%s-bit)", 
                            base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
                          os = base::paste(base::Sys.info()[base::c("sysname", 
                            "release", "version")], collapse = " "), 
                          hostname = base::Sys.info()[["nodename"]])
                        info <- base::sprintf("%s: %s", base::names(info), 
                          info)
                        info <- base::paste(info, collapse = "; ")
                        if (!has_future) {
                          msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
                            info)
                        }
                        else {
                          msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
                            info, version)
                        }
                        base::stop(msg)
                      }
                    })
                  }
                  ...future.strategy.old <- future::plan("list")
                  options(future.plan = NULL)
                  Sys.unsetenv("R_FUTURE_PLAN")
                  future::plan("default", .cleanup = FALSE, .init = FALSE)
                }
                ...future.workdir <- getwd()
            }
            ...future.oldOptions <- base::as.list(base::.Options)
            ...future.oldEnvVars <- base::Sys.getenv()
        }
        base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
            future.globals.maxSize = NULL, future.globals.method = NULL, 
            future.globals.onMissing = NULL, future.globals.onReference = NULL, 
            future.globals.resolve = NULL, future.resolve.recursive = NULL, 
            future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
            future.stdout.windows.reencode = NULL, width = 80L)
        ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
            base::names(...future.oldOptions))
    }
    if (FALSE) {
    }
    else {
        if (TRUE) {
            ...future.stdout <- base::rawConnection(base::raw(0L), 
                open = "w")
        }
        else {
            ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
                windows = "NUL", "/dev/null"), open = "w")
        }
        base::sink(...future.stdout, type = "output", split = FALSE)
        base::on.exit(if (!base::is.null(...future.stdout)) {
            base::sink(type = "output", split = FALSE)
            base::close(...future.stdout)
        }, add = TRUE)
    }
    ...future.frame <- base::sys.nframe()
    ...future.conditions <- base::list()
    ...future.rng <- base::globalenv()$.Random.seed
    if (FALSE) {
        ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
            "...future.value", "...future.globalenv.names", ".Random.seed")
    }
    ...future.result <- base::tryCatch({
        base::withCallingHandlers({
            ...future.value <- base::withVisible(base::local(NULL))
            future::FutureResult(value = ...future.value$value, 
                visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
                  ...future.rng), globalenv = if (FALSE) 
                  list(added = base::setdiff(base::names(base::.GlobalEnv), 
                    ...future.globalenv.names))
                else NULL, started = ...future.startTime, version = "1.8")
        }, condition = base::local({
            c <- base::c
            inherits <- base::inherits
            invokeRestart <- base::invokeRestart
            length <- base::length
            list <- base::list
            seq.int <- base::seq.int
            signalCondition <- base::signalCondition
            sys.calls <- base::sys.calls
            `[[` <- base::`[[`
            `+` <- base::`+`
            `<<-` <- base::`<<-`
            sysCalls <- function(calls = sys.calls(), from = 1L) {
                calls[seq.int(from = from + 12L, to = length(calls) - 
                  3L)]
            }
            function(cond) {
                is_error <- inherits(cond, "error")
                ignore <- !is_error && !is.null(NULL) && inherits(cond, 
                  NULL)
                if (is_error) {
                  sessionInformation <- function() {
                    list(r = base::R.Version(), locale = base::Sys.getlocale(), 
                      rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
                      search = base::search(), system = base::Sys.info())
                  }
                  ...future.conditions[[length(...future.conditions) + 
                    1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
                    cond$call), session = sessionInformation(), 
                    timestamp = base::Sys.time(), signaled = 0L)
                  signalCondition(cond)
                }
                else if (!ignore && TRUE && inherits(cond, "condition")) {
                  signal <- FALSE && inherits(cond, character(0))
                  ...future.conditions[[length(...future.conditions) + 
                    1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
                  if (FALSE && !signal) {
                    muffleCondition <- function (cond, pattern = "^muffle") 
                    {
                      inherits <- base::inherits
                      invokeRestart <- base::invokeRestart
                      is.null <- base::is.null
                      muffled <- FALSE
                      if (inherits(cond, "message")) {
                        muffled <- grepl(pattern, "muffleMessage")
                        if (muffled) 
                          invokeRestart("muffleMessage")
                      }
                      else if (inherits(cond, "warning")) {
                        muffled <- grepl(pattern, "muffleWarning")
                        if (muffled) 
                          invokeRestart("muffleWarning")
                      }
                      else if (inherits(cond, "condition")) {
                        if (!is.null(pattern)) {
                          computeRestarts <- base::computeRestarts
                          grepl <- base::grepl
                          restarts <- computeRestarts(cond)
                          for (restart in restarts) {
                            name <- restart$name
                            if (is.null(name)) 
                              next
                            if (!grepl(pattern, name)) 
                              next
                            invokeRestart(restart)
                            muffled <- TRUE
                            break
                          }
                        }
                      }
                      invisible(muffled)
                    }
                    muffleCondition(cond, pattern = "^muffle")
                  }
                }
                else {
                  if (TRUE) {
                    muffleCondition <- function (cond, pattern = "^muffle") 
                    {
                      inherits <- base::inherits
                      invokeRestart <- base::invokeRestart
                      is.null <- base::is.null
                      muffled <- FALSE
                      if (inherits(cond, "message")) {
                        muffled <- grepl(pattern, "muffleMessage")
                        if (muffled) 
                          invokeRestart("muffleMessage")
                      }
                      else if (inherits(cond, "warning")) {
                        muffled <- grepl(pattern, "muffleWarning")
                        if (muffled) 
                          invokeRestart("muffleWarning")
                      }
                      else if (inherits(cond, "condition")) {
                        if (!is.null(pattern)) {
                          computeRestarts <- base::computeRestarts
                          grepl <- base::grepl
                          restarts <- computeRestarts(cond)
                          for (restart in restarts) {
                            name <- restart$name
                            if (is.null(name)) 
                              next
                            if (!grepl(pattern, name)) 
                              next
                            invokeRestart(restart)
                            muffled <- TRUE
                            break
                          }
                        }
                      }
                      invisible(muffled)
                    }
                    muffleCondition(cond, pattern = "^muffle")
                  }
                }
            }
        }))
    }, error = function(ex) {
        base::structure(base::list(value = NULL, visible = NULL, 
            conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
                ...future.rng), started = ...future.startTime, 
            finished = Sys.time(), session_uuid = NA_character_, 
            version = "1.8"), class = "FutureResult")
    }, finally = {
        if (!identical(...future.workdir, getwd())) 
            setwd(...future.workdir)
        {
            if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
                ...future.oldOptions$nwarnings <- NULL
            }
            base::options(...future.oldOptions)
            if (.Platform$OS.type == "windows") {
                old_names <- names(...future.oldEnvVars)
                envs <- base::Sys.getenv()
                names <- names(envs)
                common <- intersect(names, old_names)
                added <- setdiff(names, old_names)
                removed <- setdiff(old_names, names)
                changed <- common[...future.oldEnvVars[common] != 
                  envs[common]]
                NAMES <- toupper(changed)
                args <- list()
                for (kk in seq_along(NAMES)) {
                  name <- changed[[kk]]
                  NAME <- NAMES[[kk]]
                  if (name != NAME && is.element(NAME, old_names)) 
                    next
                  args[[name]] <- ...future.oldEnvVars[[name]]
                }
                NAMES <- toupper(added)
                for (kk in seq_along(NAMES)) {
                  name <- added[[kk]]
                  NAME <- NAMES[[kk]]
                  if (name != NAME && is.element(NAME, old_names)) 
                    next
                  args[[name]] <- ""
                }
                NAMES <- toupper(removed)
                for (kk in seq_along(NAMES)) {
                  name <- removed[[kk]]
                  NAME <- NAMES[[kk]]
                  if (name != NAME && is.element(NAME, old_names)) 
                    next
                  args[[name]] <- ...future.oldEnvVars[[name]]
                }
                if (length(args) > 0) 
                  base::do.call(base::Sys.setenv, args = args)
                args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
            }
            else {
                base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
            }
            {
                if (base::length(...future.futureOptionsAdded) > 
                  0L) {
                  opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
                  base::names(opts) <- ...future.futureOptionsAdded
                  base::options(opts)
                }
                {
                  NULL
                  options(future.plan = NULL)
                  if (is.na(NA_character_)) 
                    Sys.unsetenv("R_FUTURE_PLAN")
                  else Sys.setenv(R_FUTURE_PLAN = NA_character_)
                  future::plan(...future.strategy.old, .cleanup = FALSE, 
                    .init = FALSE)
                }
            }
        }
    })
    if (TRUE) {
        base::sink(type = "output", split = FALSE)
        if (TRUE) {
            ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
        }
        else {
            ...future.result["stdout"] <- base::list(NULL)
        }
        base::close(...future.stdout)
        ...future.stdout <- NULL
    }
    ...future.result$conditions <- ...future.conditions
    ...future.result$finished <- base::Sys.time()
    ...future.result
}
> stopifnot(is.call(expr))
> 
> clazzes <- list(
+   sequential = SequentialFuture,
+   multisession = function(...) MultisessionFuture(..., workers = I(1L)),
+   sequential = SequentialFuture
+ )
> if (supportsMulticore()) {
+   clazzes$multicore = function(...) MulticoreFuture(..., workers = I(1L))
+ }
> 
> for (clazz in clazzes) {
+   ## Calling run() more than once
+   f <- clazz({ 42L })
+   print(f)
+   run(f)
+   res <- tryCatch(run(f), error = identity)
+   stopifnot(inherits(res, "error"))
+   v <- value(f)
+   print(v)
+   stopifnot(v == 42L)
+ 
+   ## Call value() without run()
+   f <- clazz({ 42L })
+   v <- value(f)
+   print(v)
+   stopifnot(v == 42L)
+   
+   ## To avoid 'multisession' from leaving stray workers behind
+   ClusterRegistry(action = "stop")
+ }
[10:21:05.739] getGlobalsAndPackages() ...
[10:21:05.739] Searching for globals...
[10:21:05.742] - globals found: [1] ‘{’
[10:21:05.742] Searching for globals ... DONE
[10:21:05.742] Resolving globals: FALSE
[10:21:05.742] 
[10:21:05.742] 
[10:21:05.743] getGlobalsAndPackages() ... DONE
SequentialFuture:
Label: ‘<none>’
Expression:
{
    42L
}
Lazy evaluation: FALSE
Asynchronous evaluation: FALSE
Local evaluation: TRUE
Environment: R_GlobalEnv
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘nothing’)
Globals: <none>
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Resolved: FALSE
Value: <not collected>
Conditions captured: <none>
Early signaling: FALSE
Owner process: 014a5710-fb08-919b-71a1-2d15a8c67adf
Class: ‘SequentialFuture’, ‘UniprocessFuture’, ‘Future’, ‘environment’
[10:21:05.743] Packages needed by the future expression (n = 0): <none>
[10:21:05.744] Packages needed by future strategies (n = 0): <none>
[10:21:05.744] {
[10:21:05.744]     {
[10:21:05.744]         {
[10:21:05.744]             ...future.startTime <- base::Sys.time()
[10:21:05.744]             {
[10:21:05.744]                 {
[10:21:05.744]                   {
[10:21:05.744]                     base::local({
[10:21:05.744]                       has_future <- base::requireNamespace("future", 
[10:21:05.744]                         quietly = TRUE)
[10:21:05.744]                       if (has_future) {
[10:21:05.744]                         ns <- base::getNamespace("future")
[10:21:05.744]                         version <- ns[[".package"]][["version"]]
[10:21:05.744]                         if (is.null(version)) 
[10:21:05.744]                           version <- utils::packageVersion("future")
[10:21:05.744]                       }
[10:21:05.744]                       else {
[10:21:05.744]                         version <- NULL
[10:21:05.744]                       }
[10:21:05.744]                       if (!has_future || version < "1.8.0") {
[10:21:05.744]                         info <- base::c(r_version = base::gsub("R version ", 
[10:21:05.744]                           "", base::R.version$version.string), 
[10:21:05.744]                           platform = base::sprintf("%s (%s-bit)", 
[10:21:05.744]                             base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:05.744]                           os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:05.744]                             "release", "version")], collapse = " "), 
[10:21:05.744]                           hostname = base::Sys.info()[["nodename"]])
[10:21:05.744]                         info <- base::sprintf("%s: %s", base::names(info), 
[10:21:05.744]                           info)
[10:21:05.744]                         info <- base::paste(info, collapse = "; ")
[10:21:05.744]                         if (!has_future) {
[10:21:05.744]                           msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:05.744]                             info)
[10:21:05.744]                         }
[10:21:05.744]                         else {
[10:21:05.744]                           msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:05.744]                             info, version)
[10:21:05.744]                         }
[10:21:05.744]                         base::stop(msg)
[10:21:05.744]                       }
[10:21:05.744]                     })
[10:21:05.744]                   }
[10:21:05.744]                   ...future.strategy.old <- future::plan("list")
[10:21:05.744]                   options(future.plan = NULL)
[10:21:05.744]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.744]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:05.744]                 }
[10:21:05.744]                 ...future.workdir <- getwd()
[10:21:05.744]             }
[10:21:05.744]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:05.744]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:05.744]         }
[10:21:05.744]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:05.744]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:05.744]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:05.744]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:05.744]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:05.744]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:05.744]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:05.744]             base::names(...future.oldOptions))
[10:21:05.744]     }
[10:21:05.744]     if (FALSE) {
[10:21:05.744]     }
[10:21:05.744]     else {
[10:21:05.744]         if (TRUE) {
[10:21:05.744]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:05.744]                 open = "w")
[10:21:05.744]         }
[10:21:05.744]         else {
[10:21:05.744]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:05.744]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:05.744]         }
[10:21:05.744]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:05.744]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:05.744]             base::sink(type = "output", split = FALSE)
[10:21:05.744]             base::close(...future.stdout)
[10:21:05.744]         }, add = TRUE)
[10:21:05.744]     }
[10:21:05.744]     ...future.frame <- base::sys.nframe()
[10:21:05.744]     ...future.conditions <- base::list()
[10:21:05.744]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:05.744]     if (FALSE) {
[10:21:05.744]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:05.744]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:05.744]     }
[10:21:05.744]     ...future.result <- base::tryCatch({
[10:21:05.744]         base::withCallingHandlers({
[10:21:05.744]             ...future.value <- base::withVisible(base::local({
[10:21:05.744]                 42L
[10:21:05.744]             }))
[10:21:05.744]             future::FutureResult(value = ...future.value$value, 
[10:21:05.744]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.744]                   ...future.rng), globalenv = if (FALSE) 
[10:21:05.744]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:05.744]                     ...future.globalenv.names))
[10:21:05.744]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:05.744]         }, condition = base::local({
[10:21:05.744]             c <- base::c
[10:21:05.744]             inherits <- base::inherits
[10:21:05.744]             invokeRestart <- base::invokeRestart
[10:21:05.744]             length <- base::length
[10:21:05.744]             list <- base::list
[10:21:05.744]             seq.int <- base::seq.int
[10:21:05.744]             signalCondition <- base::signalCondition
[10:21:05.744]             sys.calls <- base::sys.calls
[10:21:05.744]             `[[` <- base::`[[`
[10:21:05.744]             `+` <- base::`+`
[10:21:05.744]             `<<-` <- base::`<<-`
[10:21:05.744]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:05.744]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:05.744]                   3L)]
[10:21:05.744]             }
[10:21:05.744]             function(cond) {
[10:21:05.744]                 is_error <- inherits(cond, "error")
[10:21:05.744]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:05.744]                   NULL)
[10:21:05.744]                 if (is_error) {
[10:21:05.744]                   sessionInformation <- function() {
[10:21:05.744]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:05.744]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:05.744]                       search = base::search(), system = base::Sys.info())
[10:21:05.744]                   }
[10:21:05.744]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.744]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:05.744]                     cond$call), session = sessionInformation(), 
[10:21:05.744]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:05.744]                   signalCondition(cond)
[10:21:05.744]                 }
[10:21:05.744]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:05.744]                 "immediateCondition"))) {
[10:21:05.744]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:05.744]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.744]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:05.744]                   if (TRUE && !signal) {
[10:21:05.744]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.744]                     {
[10:21:05.744]                       inherits <- base::inherits
[10:21:05.744]                       invokeRestart <- base::invokeRestart
[10:21:05.744]                       is.null <- base::is.null
[10:21:05.744]                       muffled <- FALSE
[10:21:05.744]                       if (inherits(cond, "message")) {
[10:21:05.744]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.744]                         if (muffled) 
[10:21:05.744]                           invokeRestart("muffleMessage")
[10:21:05.744]                       }
[10:21:05.744]                       else if (inherits(cond, "warning")) {
[10:21:05.744]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.744]                         if (muffled) 
[10:21:05.744]                           invokeRestart("muffleWarning")
[10:21:05.744]                       }
[10:21:05.744]                       else if (inherits(cond, "condition")) {
[10:21:05.744]                         if (!is.null(pattern)) {
[10:21:05.744]                           computeRestarts <- base::computeRestarts
[10:21:05.744]                           grepl <- base::grepl
[10:21:05.744]                           restarts <- computeRestarts(cond)
[10:21:05.744]                           for (restart in restarts) {
[10:21:05.744]                             name <- restart$name
[10:21:05.744]                             if (is.null(name)) 
[10:21:05.744]                               next
[10:21:05.744]                             if (!grepl(pattern, name)) 
[10:21:05.744]                               next
[10:21:05.744]                             invokeRestart(restart)
[10:21:05.744]                             muffled <- TRUE
[10:21:05.744]                             break
[10:21:05.744]                           }
[10:21:05.744]                         }
[10:21:05.744]                       }
[10:21:05.744]                       invisible(muffled)
[10:21:05.744]                     }
[10:21:05.744]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.744]                   }
[10:21:05.744]                 }
[10:21:05.744]                 else {
[10:21:05.744]                   if (TRUE) {
[10:21:05.744]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.744]                     {
[10:21:05.744]                       inherits <- base::inherits
[10:21:05.744]                       invokeRestart <- base::invokeRestart
[10:21:05.744]                       is.null <- base::is.null
[10:21:05.744]                       muffled <- FALSE
[10:21:05.744]                       if (inherits(cond, "message")) {
[10:21:05.744]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.744]                         if (muffled) 
[10:21:05.744]                           invokeRestart("muffleMessage")
[10:21:05.744]                       }
[10:21:05.744]                       else if (inherits(cond, "warning")) {
[10:21:05.744]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.744]                         if (muffled) 
[10:21:05.744]                           invokeRestart("muffleWarning")
[10:21:05.744]                       }
[10:21:05.744]                       else if (inherits(cond, "condition")) {
[10:21:05.744]                         if (!is.null(pattern)) {
[10:21:05.744]                           computeRestarts <- base::computeRestarts
[10:21:05.744]                           grepl <- base::grepl
[10:21:05.744]                           restarts <- computeRestarts(cond)
[10:21:05.744]                           for (restart in restarts) {
[10:21:05.744]                             name <- restart$name
[10:21:05.744]                             if (is.null(name)) 
[10:21:05.744]                               next
[10:21:05.744]                             if (!grepl(pattern, name)) 
[10:21:05.744]                               next
[10:21:05.744]                             invokeRestart(restart)
[10:21:05.744]                             muffled <- TRUE
[10:21:05.744]                             break
[10:21:05.744]                           }
[10:21:05.744]                         }
[10:21:05.744]                       }
[10:21:05.744]                       invisible(muffled)
[10:21:05.744]                     }
[10:21:05.744]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.744]                   }
[10:21:05.744]                 }
[10:21:05.744]             }
[10:21:05.744]         }))
[10:21:05.744]     }, error = function(ex) {
[10:21:05.744]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:05.744]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.744]                 ...future.rng), started = ...future.startTime, 
[10:21:05.744]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:05.744]             version = "1.8"), class = "FutureResult")
[10:21:05.744]     }, finally = {
[10:21:05.744]         if (!identical(...future.workdir, getwd())) 
[10:21:05.744]             setwd(...future.workdir)
[10:21:05.744]         {
[10:21:05.744]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:05.744]                 ...future.oldOptions$nwarnings <- NULL
[10:21:05.744]             }
[10:21:05.744]             base::options(...future.oldOptions)
[10:21:05.744]             if (.Platform$OS.type == "windows") {
[10:21:05.744]                 old_names <- names(...future.oldEnvVars)
[10:21:05.744]                 envs <- base::Sys.getenv()
[10:21:05.744]                 names <- names(envs)
[10:21:05.744]                 common <- intersect(names, old_names)
[10:21:05.744]                 added <- setdiff(names, old_names)
[10:21:05.744]                 removed <- setdiff(old_names, names)
[10:21:05.744]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:05.744]                   envs[common]]
[10:21:05.744]                 NAMES <- toupper(changed)
[10:21:05.744]                 args <- list()
[10:21:05.744]                 for (kk in seq_along(NAMES)) {
[10:21:05.744]                   name <- changed[[kk]]
[10:21:05.744]                   NAME <- NAMES[[kk]]
[10:21:05.744]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.744]                     next
[10:21:05.744]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.744]                 }
[10:21:05.744]                 NAMES <- toupper(added)
[10:21:05.744]                 for (kk in seq_along(NAMES)) {
[10:21:05.744]                   name <- added[[kk]]
[10:21:05.744]                   NAME <- NAMES[[kk]]
[10:21:05.744]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.744]                     next
[10:21:05.744]                   args[[name]] <- ""
[10:21:05.744]                 }
[10:21:05.744]                 NAMES <- toupper(removed)
[10:21:05.744]                 for (kk in seq_along(NAMES)) {
[10:21:05.744]                   name <- removed[[kk]]
[10:21:05.744]                   NAME <- NAMES[[kk]]
[10:21:05.744]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.744]                     next
[10:21:05.744]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.744]                 }
[10:21:05.744]                 if (length(args) > 0) 
[10:21:05.744]                   base::do.call(base::Sys.setenv, args = args)
[10:21:05.744]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:05.744]             }
[10:21:05.744]             else {
[10:21:05.744]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:05.744]             }
[10:21:05.744]             {
[10:21:05.744]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:05.744]                   0L) {
[10:21:05.744]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:05.744]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:05.744]                   base::options(opts)
[10:21:05.744]                 }
[10:21:05.744]                 {
[10:21:05.744]                   {
[10:21:05.744]                     NULL
[10:21:05.744]                     RNGkind("Mersenne-Twister")
[10:21:05.744]                     base::rm(list = ".Random.seed", envir = base::globalenv(), 
[10:21:05.744]                       inherits = FALSE)
[10:21:05.744]                   }
[10:21:05.744]                   options(future.plan = NULL)
[10:21:05.744]                   if (is.na(NA_character_)) 
[10:21:05.744]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.744]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:05.744]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:05.744]                     .init = FALSE)
[10:21:05.744]                 }
[10:21:05.744]             }
[10:21:05.744]         }
[10:21:05.744]     })
[10:21:05.744]     if (TRUE) {
[10:21:05.744]         base::sink(type = "output", split = FALSE)
[10:21:05.744]         if (TRUE) {
[10:21:05.744]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:05.744]         }
[10:21:05.744]         else {
[10:21:05.744]             ...future.result["stdout"] <- base::list(NULL)
[10:21:05.744]         }
[10:21:05.744]         base::close(...future.stdout)
[10:21:05.744]         ...future.stdout <- NULL
[10:21:05.744]     }
[10:21:05.744]     ...future.result$conditions <- ...future.conditions
[10:21:05.744]     ...future.result$finished <- base::Sys.time()
[10:21:05.744]     ...future.result
[10:21:05.744] }
[10:21:05.746] plan(): Setting new future strategy stack:
[10:21:05.746] List of future strategies:
[10:21:05.746] 1. sequential:
[10:21:05.746]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:05.746]    - tweaked: FALSE
[10:21:05.746]    - call: NULL
[10:21:05.746] plan(): nbrOfWorkers() = 1
[10:21:05.747] plan(): Setting new future strategy stack:
[10:21:05.748] List of future strategies:
[10:21:05.748] 1. future:
[10:21:05.748]    - args: function (..., workers = "<NULL>")
[10:21:05.748]    - tweaked: FALSE
[10:21:05.748]    - call: plan(foo)
[10:21:05.748] plan(): nbrOfWorkers() = Inf
[10:21:05.748] SequentialFuture started (and completed)
[1] 42
[10:21:05.749] getGlobalsAndPackages() ...
[10:21:05.749] Searching for globals...
[10:21:05.749] - globals found: [1] ‘{’
[10:21:05.750] Searching for globals ... DONE
[10:21:05.750] Resolving globals: FALSE
[10:21:05.750] 
[10:21:05.750] 
[10:21:05.750] getGlobalsAndPackages() ... DONE
[10:21:05.750] Packages needed by the future expression (n = 0): <none>
[10:21:05.750] Packages needed by future strategies (n = 0): <none>
[10:21:05.751] {
[10:21:05.751]     {
[10:21:05.751]         {
[10:21:05.751]             ...future.startTime <- base::Sys.time()
[10:21:05.751]             {
[10:21:05.751]                 {
[10:21:05.751]                   {
[10:21:05.751]                     base::local({
[10:21:05.751]                       has_future <- base::requireNamespace("future", 
[10:21:05.751]                         quietly = TRUE)
[10:21:05.751]                       if (has_future) {
[10:21:05.751]                         ns <- base::getNamespace("future")
[10:21:05.751]                         version <- ns[[".package"]][["version"]]
[10:21:05.751]                         if (is.null(version)) 
[10:21:05.751]                           version <- utils::packageVersion("future")
[10:21:05.751]                       }
[10:21:05.751]                       else {
[10:21:05.751]                         version <- NULL
[10:21:05.751]                       }
[10:21:05.751]                       if (!has_future || version < "1.8.0") {
[10:21:05.751]                         info <- base::c(r_version = base::gsub("R version ", 
[10:21:05.751]                           "", base::R.version$version.string), 
[10:21:05.751]                           platform = base::sprintf("%s (%s-bit)", 
[10:21:05.751]                             base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:05.751]                           os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:05.751]                             "release", "version")], collapse = " "), 
[10:21:05.751]                           hostname = base::Sys.info()[["nodename"]])
[10:21:05.751]                         info <- base::sprintf("%s: %s", base::names(info), 
[10:21:05.751]                           info)
[10:21:05.751]                         info <- base::paste(info, collapse = "; ")
[10:21:05.751]                         if (!has_future) {
[10:21:05.751]                           msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:05.751]                             info)
[10:21:05.751]                         }
[10:21:05.751]                         else {
[10:21:05.751]                           msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:05.751]                             info, version)
[10:21:05.751]                         }
[10:21:05.751]                         base::stop(msg)
[10:21:05.751]                       }
[10:21:05.751]                     })
[10:21:05.751]                   }
[10:21:05.751]                   ...future.strategy.old <- future::plan("list")
[10:21:05.751]                   options(future.plan = NULL)
[10:21:05.751]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.751]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:05.751]                 }
[10:21:05.751]                 ...future.workdir <- getwd()
[10:21:05.751]             }
[10:21:05.751]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:05.751]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:05.751]         }
[10:21:05.751]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:05.751]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:05.751]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:05.751]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:05.751]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:05.751]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:05.751]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:05.751]             base::names(...future.oldOptions))
[10:21:05.751]     }
[10:21:05.751]     if (FALSE) {
[10:21:05.751]     }
[10:21:05.751]     else {
[10:21:05.751]         if (TRUE) {
[10:21:05.751]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:05.751]                 open = "w")
[10:21:05.751]         }
[10:21:05.751]         else {
[10:21:05.751]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:05.751]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:05.751]         }
[10:21:05.751]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:05.751]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:05.751]             base::sink(type = "output", split = FALSE)
[10:21:05.751]             base::close(...future.stdout)
[10:21:05.751]         }, add = TRUE)
[10:21:05.751]     }
[10:21:05.751]     ...future.frame <- base::sys.nframe()
[10:21:05.751]     ...future.conditions <- base::list()
[10:21:05.751]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:05.751]     if (FALSE) {
[10:21:05.751]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:05.751]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:05.751]     }
[10:21:05.751]     ...future.result <- base::tryCatch({
[10:21:05.751]         base::withCallingHandlers({
[10:21:05.751]             ...future.value <- base::withVisible(base::local({
[10:21:05.751]                 42L
[10:21:05.751]             }))
[10:21:05.751]             future::FutureResult(value = ...future.value$value, 
[10:21:05.751]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.751]                   ...future.rng), globalenv = if (FALSE) 
[10:21:05.751]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:05.751]                     ...future.globalenv.names))
[10:21:05.751]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:05.751]         }, condition = base::local({
[10:21:05.751]             c <- base::c
[10:21:05.751]             inherits <- base::inherits
[10:21:05.751]             invokeRestart <- base::invokeRestart
[10:21:05.751]             length <- base::length
[10:21:05.751]             list <- base::list
[10:21:05.751]             seq.int <- base::seq.int
[10:21:05.751]             signalCondition <- base::signalCondition
[10:21:05.751]             sys.calls <- base::sys.calls
[10:21:05.751]             `[[` <- base::`[[`
[10:21:05.751]             `+` <- base::`+`
[10:21:05.751]             `<<-` <- base::`<<-`
[10:21:05.751]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:05.751]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:05.751]                   3L)]
[10:21:05.751]             }
[10:21:05.751]             function(cond) {
[10:21:05.751]                 is_error <- inherits(cond, "error")
[10:21:05.751]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:05.751]                   NULL)
[10:21:05.751]                 if (is_error) {
[10:21:05.751]                   sessionInformation <- function() {
[10:21:05.751]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:05.751]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:05.751]                       search = base::search(), system = base::Sys.info())
[10:21:05.751]                   }
[10:21:05.751]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.751]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:05.751]                     cond$call), session = sessionInformation(), 
[10:21:05.751]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:05.751]                   signalCondition(cond)
[10:21:05.751]                 }
[10:21:05.751]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:05.751]                 "immediateCondition"))) {
[10:21:05.751]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:05.751]                   ...future.conditions[[length(...future.conditions) + 
[10:21:05.751]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:05.751]                   if (TRUE && !signal) {
[10:21:05.751]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.751]                     {
[10:21:05.751]                       inherits <- base::inherits
[10:21:05.751]                       invokeRestart <- base::invokeRestart
[10:21:05.751]                       is.null <- base::is.null
[10:21:05.751]                       muffled <- FALSE
[10:21:05.751]                       if (inherits(cond, "message")) {
[10:21:05.751]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.751]                         if (muffled) 
[10:21:05.751]                           invokeRestart("muffleMessage")
[10:21:05.751]                       }
[10:21:05.751]                       else if (inherits(cond, "warning")) {
[10:21:05.751]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.751]                         if (muffled) 
[10:21:05.751]                           invokeRestart("muffleWarning")
[10:21:05.751]                       }
[10:21:05.751]                       else if (inherits(cond, "condition")) {
[10:21:05.751]                         if (!is.null(pattern)) {
[10:21:05.751]                           computeRestarts <- base::computeRestarts
[10:21:05.751]                           grepl <- base::grepl
[10:21:05.751]                           restarts <- computeRestarts(cond)
[10:21:05.751]                           for (restart in restarts) {
[10:21:05.751]                             name <- restart$name
[10:21:05.751]                             if (is.null(name)) 
[10:21:05.751]                               next
[10:21:05.751]                             if (!grepl(pattern, name)) 
[10:21:05.751]                               next
[10:21:05.751]                             invokeRestart(restart)
[10:21:05.751]                             muffled <- TRUE
[10:21:05.751]                             break
[10:21:05.751]                           }
[10:21:05.751]                         }
[10:21:05.751]                       }
[10:21:05.751]                       invisible(muffled)
[10:21:05.751]                     }
[10:21:05.751]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.751]                   }
[10:21:05.751]                 }
[10:21:05.751]                 else {
[10:21:05.751]                   if (TRUE) {
[10:21:05.751]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:05.751]                     {
[10:21:05.751]                       inherits <- base::inherits
[10:21:05.751]                       invokeRestart <- base::invokeRestart
[10:21:05.751]                       is.null <- base::is.null
[10:21:05.751]                       muffled <- FALSE
[10:21:05.751]                       if (inherits(cond, "message")) {
[10:21:05.751]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:05.751]                         if (muffled) 
[10:21:05.751]                           invokeRestart("muffleMessage")
[10:21:05.751]                       }
[10:21:05.751]                       else if (inherits(cond, "warning")) {
[10:21:05.751]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:05.751]                         if (muffled) 
[10:21:05.751]                           invokeRestart("muffleWarning")
[10:21:05.751]                       }
[10:21:05.751]                       else if (inherits(cond, "condition")) {
[10:21:05.751]                         if (!is.null(pattern)) {
[10:21:05.751]                           computeRestarts <- base::computeRestarts
[10:21:05.751]                           grepl <- base::grepl
[10:21:05.751]                           restarts <- computeRestarts(cond)
[10:21:05.751]                           for (restart in restarts) {
[10:21:05.751]                             name <- restart$name
[10:21:05.751]                             if (is.null(name)) 
[10:21:05.751]                               next
[10:21:05.751]                             if (!grepl(pattern, name)) 
[10:21:05.751]                               next
[10:21:05.751]                             invokeRestart(restart)
[10:21:05.751]                             muffled <- TRUE
[10:21:05.751]                             break
[10:21:05.751]                           }
[10:21:05.751]                         }
[10:21:05.751]                       }
[10:21:05.751]                       invisible(muffled)
[10:21:05.751]                     }
[10:21:05.751]                     muffleCondition(cond, pattern = "^muffle")
[10:21:05.751]                   }
[10:21:05.751]                 }
[10:21:05.751]             }
[10:21:05.751]         }))
[10:21:05.751]     }, error = function(ex) {
[10:21:05.751]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:05.751]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:05.751]                 ...future.rng), started = ...future.startTime, 
[10:21:05.751]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:05.751]             version = "1.8"), class = "FutureResult")
[10:21:05.751]     }, finally = {
[10:21:05.751]         if (!identical(...future.workdir, getwd())) 
[10:21:05.751]             setwd(...future.workdir)
[10:21:05.751]         {
[10:21:05.751]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:05.751]                 ...future.oldOptions$nwarnings <- NULL
[10:21:05.751]             }
[10:21:05.751]             base::options(...future.oldOptions)
[10:21:05.751]             if (.Platform$OS.type == "windows") {
[10:21:05.751]                 old_names <- names(...future.oldEnvVars)
[10:21:05.751]                 envs <- base::Sys.getenv()
[10:21:05.751]                 names <- names(envs)
[10:21:05.751]                 common <- intersect(names, old_names)
[10:21:05.751]                 added <- setdiff(names, old_names)
[10:21:05.751]                 removed <- setdiff(old_names, names)
[10:21:05.751]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:05.751]                   envs[common]]
[10:21:05.751]                 NAMES <- toupper(changed)
[10:21:05.751]                 args <- list()
[10:21:05.751]                 for (kk in seq_along(NAMES)) {
[10:21:05.751]                   name <- changed[[kk]]
[10:21:05.751]                   NAME <- NAMES[[kk]]
[10:21:05.751]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.751]                     next
[10:21:05.751]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.751]                 }
[10:21:05.751]                 NAMES <- toupper(added)
[10:21:05.751]                 for (kk in seq_along(NAMES)) {
[10:21:05.751]                   name <- added[[kk]]
[10:21:05.751]                   NAME <- NAMES[[kk]]
[10:21:05.751]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.751]                     next
[10:21:05.751]                   args[[name]] <- ""
[10:21:05.751]                 }
[10:21:05.751]                 NAMES <- toupper(removed)
[10:21:05.751]                 for (kk in seq_along(NAMES)) {
[10:21:05.751]                   name <- removed[[kk]]
[10:21:05.751]                   NAME <- NAMES[[kk]]
[10:21:05.751]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:05.751]                     next
[10:21:05.751]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:05.751]                 }
[10:21:05.751]                 if (length(args) > 0) 
[10:21:05.751]                   base::do.call(base::Sys.setenv, args = args)
[10:21:05.751]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:05.751]             }
[10:21:05.751]             else {
[10:21:05.751]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:05.751]             }
[10:21:05.751]             {
[10:21:05.751]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:05.751]                   0L) {
[10:21:05.751]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:05.751]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:05.751]                   base::options(opts)
[10:21:05.751]                 }
[10:21:05.751]                 {
[10:21:05.751]                   {
[10:21:05.751]                     NULL
[10:21:05.751]                     RNGkind("Mersenne-Twister")
[10:21:05.751]                     base::rm(list = ".Random.seed", envir = base::globalenv(), 
[10:21:05.751]                       inherits = FALSE)
[10:21:05.751]                   }
[10:21:05.751]                   options(future.plan = NULL)
[10:21:05.751]                   if (is.na(NA_character_)) 
[10:21:05.751]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:05.751]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:05.751]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:05.751]                     .init = FALSE)
[10:21:05.751]                 }
[10:21:05.751]             }
[10:21:05.751]         }
[10:21:05.751]     })
[10:21:05.751]     if (TRUE) {
[10:21:05.751]         base::sink(type = "output", split = FALSE)
[10:21:05.751]         if (TRUE) {
[10:21:05.751]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:05.751]         }
[10:21:05.751]         else {
[10:21:05.751]             ...future.result["stdout"] <- base::list(NULL)
[10:21:05.751]         }
[10:21:05.751]         base::close(...future.stdout)
[10:21:05.751]         ...future.stdout <- NULL
[10:21:05.751]     }
[10:21:05.751]     ...future.result$conditions <- ...future.conditions
[10:21:05.751]     ...future.result$finished <- base::Sys.time()
[10:21:05.751]     ...future.result
[10:21:05.751] }
[10:21:05.753] plan(): Setting new future strategy stack:
[10:21:05.753] List of future strategies:
[10:21:05.753] 1. sequential:
[10:21:05.753]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:05.753]    - tweaked: FALSE
[10:21:05.753]    - call: NULL
[10:21:05.753] plan(): nbrOfWorkers() = 1
[10:21:05.754] plan(): Setting new future strategy stack:
[10:21:05.754] List of future strategies:
[10:21:05.754] 1. future:
[10:21:05.754]    - args: function (..., workers = "<NULL>")
[10:21:05.754]    - tweaked: FALSE
[10:21:05.754]    - call: plan(foo)
[10:21:05.754] plan(): nbrOfWorkers() = Inf
[10:21:05.754] SequentialFuture started (and completed)
[1] 42
[10:21:05.756] getGlobalsAndPackages() ...
[10:21:05.756] 
[10:21:05.756] - globals: [0] <none>
[10:21:05.756] getGlobalsAndPackages() ... DONE
MultisessionFuture:
Label: ‘<none>’
Expression:
{
    42L
}
Lazy evaluation: FALSE
Asynchronous evaluation: TRUE
Local evaluation: TRUE
Environment: 0x55b9c236da90
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘nothing’)
Globals: <none>
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Resolved: FALSE
Value: <not collected>
Conditions captured: <none>
Early signaling: FALSE
Owner process: 014a5710-fb08-919b-71a1-2d15a8c67adf
Class: ‘MultisessionFuture’, ‘ClusterFuture’, ‘MultiprocessFuture’, ‘Future’, ‘environment’
[10:21:06.163] Packages needed by the future expression (n = 0): <none>
[10:21:06.163] Packages needed by future strategies (n = 0): <none>
[10:21:06.163] {
[10:21:06.163]     {
[10:21:06.163]         {
[10:21:06.163]             ...future.startTime <- base::Sys.time()
[10:21:06.163]             {
[10:21:06.163]                 {
[10:21:06.163]                   {
[10:21:06.163]                     {
[10:21:06.163]                       base::local({
[10:21:06.163]                         has_future <- base::requireNamespace("future", 
[10:21:06.163]                           quietly = TRUE)
[10:21:06.163]                         if (has_future) {
[10:21:06.163]                           ns <- base::getNamespace("future")
[10:21:06.163]                           version <- ns[[".package"]][["version"]]
[10:21:06.163]                           if (is.null(version)) 
[10:21:06.163]                             version <- utils::packageVersion("future")
[10:21:06.163]                         }
[10:21:06.163]                         else {
[10:21:06.163]                           version <- NULL
[10:21:06.163]                         }
[10:21:06.163]                         if (!has_future || version < "1.8.0") {
[10:21:06.163]                           info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.163]                             "", base::R.version$version.string), 
[10:21:06.163]                             platform = base::sprintf("%s (%s-bit)", 
[10:21:06.163]                               base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.163]                             os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.163]                               "release", "version")], collapse = " "), 
[10:21:06.163]                             hostname = base::Sys.info()[["nodename"]])
[10:21:06.163]                           info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.163]                             info)
[10:21:06.163]                           info <- base::paste(info, collapse = "; ")
[10:21:06.163]                           if (!has_future) {
[10:21:06.163]                             msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.163]                               info)
[10:21:06.163]                           }
[10:21:06.163]                           else {
[10:21:06.163]                             msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.163]                               info, version)
[10:21:06.163]                           }
[10:21:06.163]                           base::stop(msg)
[10:21:06.163]                         }
[10:21:06.163]                       })
[10:21:06.163]                     }
[10:21:06.163]                     ...future.mc.cores.old <- base::getOption("mc.cores")
[10:21:06.163]                     base::options(mc.cores = 1L)
[10:21:06.163]                   }
[10:21:06.163]                   ...future.strategy.old <- future::plan("list")
[10:21:06.163]                   options(future.plan = NULL)
[10:21:06.163]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.163]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.163]                 }
[10:21:06.163]                 ...future.workdir <- getwd()
[10:21:06.163]             }
[10:21:06.163]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.163]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.163]         }
[10:21:06.163]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.163]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.163]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.163]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.163]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.163]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.163]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.163]             base::names(...future.oldOptions))
[10:21:06.163]     }
[10:21:06.163]     if (FALSE) {
[10:21:06.163]     }
[10:21:06.163]     else {
[10:21:06.163]         if (TRUE) {
[10:21:06.163]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.163]                 open = "w")
[10:21:06.163]         }
[10:21:06.163]         else {
[10:21:06.163]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.163]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.163]         }
[10:21:06.163]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.163]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.163]             base::sink(type = "output", split = FALSE)
[10:21:06.163]             base::close(...future.stdout)
[10:21:06.163]         }, add = TRUE)
[10:21:06.163]     }
[10:21:06.163]     ...future.frame <- base::sys.nframe()
[10:21:06.163]     ...future.conditions <- base::list()
[10:21:06.163]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.163]     if (FALSE) {
[10:21:06.163]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.163]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.163]     }
[10:21:06.163]     ...future.result <- base::tryCatch({
[10:21:06.163]         base::withCallingHandlers({
[10:21:06.163]             ...future.value <- base::withVisible(base::local({
[10:21:06.163]                 ...future.makeSendCondition <- base::local({
[10:21:06.163]                   sendCondition <- NULL
[10:21:06.163]                   function(frame = 1L) {
[10:21:06.163]                     if (is.function(sendCondition)) 
[10:21:06.163]                       return(sendCondition)
[10:21:06.163]                     ns <- getNamespace("parallel")
[10:21:06.163]                     if (exists("sendData", mode = "function", 
[10:21:06.163]                       envir = ns)) {
[10:21:06.163]                       parallel_sendData <- get("sendData", mode = "function", 
[10:21:06.163]                         envir = ns)
[10:21:06.163]                       envir <- sys.frame(frame)
[10:21:06.163]                       master <- NULL
[10:21:06.163]                       while (!identical(envir, .GlobalEnv) && 
[10:21:06.163]                         !identical(envir, emptyenv())) {
[10:21:06.163]                         if (exists("master", mode = "list", envir = envir, 
[10:21:06.163]                           inherits = FALSE)) {
[10:21:06.163]                           master <- get("master", mode = "list", 
[10:21:06.163]                             envir = envir, inherits = FALSE)
[10:21:06.163]                           if (inherits(master, c("SOCKnode", 
[10:21:06.163]                             "SOCK0node"))) {
[10:21:06.163]                             sendCondition <<- function(cond) {
[10:21:06.163]                               data <- list(type = "VALUE", value = cond, 
[10:21:06.163]                                 success = TRUE)
[10:21:06.163]                               parallel_sendData(master, data)
[10:21:06.163]                             }
[10:21:06.163]                             return(sendCondition)
[10:21:06.163]                           }
[10:21:06.163]                         }
[10:21:06.163]                         frame <- frame + 1L
[10:21:06.163]                         envir <- sys.frame(frame)
[10:21:06.163]                       }
[10:21:06.163]                     }
[10:21:06.163]                     sendCondition <<- function(cond) NULL
[10:21:06.163]                   }
[10:21:06.163]                 })
[10:21:06.163]                 withCallingHandlers({
[10:21:06.163]                   {
[10:21:06.163]                     42L
[10:21:06.163]                   }
[10:21:06.163]                 }, immediateCondition = function(cond) {
[10:21:06.163]                   sendCondition <- ...future.makeSendCondition()
[10:21:06.163]                   sendCondition(cond)
[10:21:06.163]                   muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.163]                   {
[10:21:06.163]                     inherits <- base::inherits
[10:21:06.163]                     invokeRestart <- base::invokeRestart
[10:21:06.163]                     is.null <- base::is.null
[10:21:06.163]                     muffled <- FALSE
[10:21:06.163]                     if (inherits(cond, "message")) {
[10:21:06.163]                       muffled <- grepl(pattern, "muffleMessage")
[10:21:06.163]                       if (muffled) 
[10:21:06.163]                         invokeRestart("muffleMessage")
[10:21:06.163]                     }
[10:21:06.163]                     else if (inherits(cond, "warning")) {
[10:21:06.163]                       muffled <- grepl(pattern, "muffleWarning")
[10:21:06.163]                       if (muffled) 
[10:21:06.163]                         invokeRestart("muffleWarning")
[10:21:06.163]                     }
[10:21:06.163]                     else if (inherits(cond, "condition")) {
[10:21:06.163]                       if (!is.null(pattern)) {
[10:21:06.163]                         computeRestarts <- base::computeRestarts
[10:21:06.163]                         grepl <- base::grepl
[10:21:06.163]                         restarts <- computeRestarts(cond)
[10:21:06.163]                         for (restart in restarts) {
[10:21:06.163]                           name <- restart$name
[10:21:06.163]                           if (is.null(name)) 
[10:21:06.163]                             next
[10:21:06.163]                           if (!grepl(pattern, name)) 
[10:21:06.163]                             next
[10:21:06.163]                           invokeRestart(restart)
[10:21:06.163]                           muffled <- TRUE
[10:21:06.163]                           break
[10:21:06.163]                         }
[10:21:06.163]                       }
[10:21:06.163]                     }
[10:21:06.163]                     invisible(muffled)
[10:21:06.163]                   }
[10:21:06.163]                   muffleCondition(cond)
[10:21:06.163]                 })
[10:21:06.163]             }))
[10:21:06.163]             future::FutureResult(value = ...future.value$value, 
[10:21:06.163]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.163]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.163]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.163]                     ...future.globalenv.names))
[10:21:06.163]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.163]         }, condition = base::local({
[10:21:06.163]             c <- base::c
[10:21:06.163]             inherits <- base::inherits
[10:21:06.163]             invokeRestart <- base::invokeRestart
[10:21:06.163]             length <- base::length
[10:21:06.163]             list <- base::list
[10:21:06.163]             seq.int <- base::seq.int
[10:21:06.163]             signalCondition <- base::signalCondition
[10:21:06.163]             sys.calls <- base::sys.calls
[10:21:06.163]             `[[` <- base::`[[`
[10:21:06.163]             `+` <- base::`+`
[10:21:06.163]             `<<-` <- base::`<<-`
[10:21:06.163]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.163]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.163]                   3L)]
[10:21:06.163]             }
[10:21:06.163]             function(cond) {
[10:21:06.163]                 is_error <- inherits(cond, "error")
[10:21:06.163]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.163]                   NULL)
[10:21:06.163]                 if (is_error) {
[10:21:06.163]                   sessionInformation <- function() {
[10:21:06.163]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.163]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.163]                       search = base::search(), system = base::Sys.info())
[10:21:06.163]                   }
[10:21:06.163]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.163]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.163]                     cond$call), session = sessionInformation(), 
[10:21:06.163]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.163]                   signalCondition(cond)
[10:21:06.163]                 }
[10:21:06.163]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.163]                 "immediateCondition"))) {
[10:21:06.163]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.163]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.163]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.163]                   if (TRUE && !signal) {
[10:21:06.163]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.163]                     {
[10:21:06.163]                       inherits <- base::inherits
[10:21:06.163]                       invokeRestart <- base::invokeRestart
[10:21:06.163]                       is.null <- base::is.null
[10:21:06.163]                       muffled <- FALSE
[10:21:06.163]                       if (inherits(cond, "message")) {
[10:21:06.163]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.163]                         if (muffled) 
[10:21:06.163]                           invokeRestart("muffleMessage")
[10:21:06.163]                       }
[10:21:06.163]                       else if (inherits(cond, "warning")) {
[10:21:06.163]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.163]                         if (muffled) 
[10:21:06.163]                           invokeRestart("muffleWarning")
[10:21:06.163]                       }
[10:21:06.163]                       else if (inherits(cond, "condition")) {
[10:21:06.163]                         if (!is.null(pattern)) {
[10:21:06.163]                           computeRestarts <- base::computeRestarts
[10:21:06.163]                           grepl <- base::grepl
[10:21:06.163]                           restarts <- computeRestarts(cond)
[10:21:06.163]                           for (restart in restarts) {
[10:21:06.163]                             name <- restart$name
[10:21:06.163]                             if (is.null(name)) 
[10:21:06.163]                               next
[10:21:06.163]                             if (!grepl(pattern, name)) 
[10:21:06.163]                               next
[10:21:06.163]                             invokeRestart(restart)
[10:21:06.163]                             muffled <- TRUE
[10:21:06.163]                             break
[10:21:06.163]                           }
[10:21:06.163]                         }
[10:21:06.163]                       }
[10:21:06.163]                       invisible(muffled)
[10:21:06.163]                     }
[10:21:06.163]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.163]                   }
[10:21:06.163]                 }
[10:21:06.163]                 else {
[10:21:06.163]                   if (TRUE) {
[10:21:06.163]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.163]                     {
[10:21:06.163]                       inherits <- base::inherits
[10:21:06.163]                       invokeRestart <- base::invokeRestart
[10:21:06.163]                       is.null <- base::is.null
[10:21:06.163]                       muffled <- FALSE
[10:21:06.163]                       if (inherits(cond, "message")) {
[10:21:06.163]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.163]                         if (muffled) 
[10:21:06.163]                           invokeRestart("muffleMessage")
[10:21:06.163]                       }
[10:21:06.163]                       else if (inherits(cond, "warning")) {
[10:21:06.163]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.163]                         if (muffled) 
[10:21:06.163]                           invokeRestart("muffleWarning")
[10:21:06.163]                       }
[10:21:06.163]                       else if (inherits(cond, "condition")) {
[10:21:06.163]                         if (!is.null(pattern)) {
[10:21:06.163]                           computeRestarts <- base::computeRestarts
[10:21:06.163]                           grepl <- base::grepl
[10:21:06.163]                           restarts <- computeRestarts(cond)
[10:21:06.163]                           for (restart in restarts) {
[10:21:06.163]                             name <- restart$name
[10:21:06.163]                             if (is.null(name)) 
[10:21:06.163]                               next
[10:21:06.163]                             if (!grepl(pattern, name)) 
[10:21:06.163]                               next
[10:21:06.163]                             invokeRestart(restart)
[10:21:06.163]                             muffled <- TRUE
[10:21:06.163]                             break
[10:21:06.163]                           }
[10:21:06.163]                         }
[10:21:06.163]                       }
[10:21:06.163]                       invisible(muffled)
[10:21:06.163]                     }
[10:21:06.163]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.163]                   }
[10:21:06.163]                 }
[10:21:06.163]             }
[10:21:06.163]         }))
[10:21:06.163]     }, error = function(ex) {
[10:21:06.163]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.163]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.163]                 ...future.rng), started = ...future.startTime, 
[10:21:06.163]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.163]             version = "1.8"), class = "FutureResult")
[10:21:06.163]     }, finally = {
[10:21:06.163]         if (!identical(...future.workdir, getwd())) 
[10:21:06.163]             setwd(...future.workdir)
[10:21:06.163]         {
[10:21:06.163]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.163]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.163]             }
[10:21:06.163]             base::options(...future.oldOptions)
[10:21:06.163]             if (.Platform$OS.type == "windows") {
[10:21:06.163]                 old_names <- names(...future.oldEnvVars)
[10:21:06.163]                 envs <- base::Sys.getenv()
[10:21:06.163]                 names <- names(envs)
[10:21:06.163]                 common <- intersect(names, old_names)
[10:21:06.163]                 added <- setdiff(names, old_names)
[10:21:06.163]                 removed <- setdiff(old_names, names)
[10:21:06.163]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.163]                   envs[common]]
[10:21:06.163]                 NAMES <- toupper(changed)
[10:21:06.163]                 args <- list()
[10:21:06.163]                 for (kk in seq_along(NAMES)) {
[10:21:06.163]                   name <- changed[[kk]]
[10:21:06.163]                   NAME <- NAMES[[kk]]
[10:21:06.163]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.163]                     next
[10:21:06.163]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.163]                 }
[10:21:06.163]                 NAMES <- toupper(added)
[10:21:06.163]                 for (kk in seq_along(NAMES)) {
[10:21:06.163]                   name <- added[[kk]]
[10:21:06.163]                   NAME <- NAMES[[kk]]
[10:21:06.163]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.163]                     next
[10:21:06.163]                   args[[name]] <- ""
[10:21:06.163]                 }
[10:21:06.163]                 NAMES <- toupper(removed)
[10:21:06.163]                 for (kk in seq_along(NAMES)) {
[10:21:06.163]                   name <- removed[[kk]]
[10:21:06.163]                   NAME <- NAMES[[kk]]
[10:21:06.163]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.163]                     next
[10:21:06.163]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.163]                 }
[10:21:06.163]                 if (length(args) > 0) 
[10:21:06.163]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.163]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.163]             }
[10:21:06.163]             else {
[10:21:06.163]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.163]             }
[10:21:06.163]             {
[10:21:06.163]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.163]                   0L) {
[10:21:06.163]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.163]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.163]                   base::options(opts)
[10:21:06.163]                 }
[10:21:06.163]                 {
[10:21:06.163]                   {
[10:21:06.163]                     base::options(mc.cores = ...future.mc.cores.old)
[10:21:06.163]                     NULL
[10:21:06.163]                   }
[10:21:06.163]                   options(future.plan = NULL)
[10:21:06.163]                   if (is.na(NA_character_)) 
[10:21:06.163]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.163]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.163]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.163]                     .init = FALSE)
[10:21:06.163]                 }
[10:21:06.163]             }
[10:21:06.163]         }
[10:21:06.163]     })
[10:21:06.163]     if (TRUE) {
[10:21:06.163]         base::sink(type = "output", split = FALSE)
[10:21:06.163]         if (TRUE) {
[10:21:06.163]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.163]         }
[10:21:06.163]         else {
[10:21:06.163]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.163]         }
[10:21:06.163]         base::close(...future.stdout)
[10:21:06.163]         ...future.stdout <- NULL
[10:21:06.163]     }
[10:21:06.163]     ...future.result$conditions <- ...future.conditions
[10:21:06.163]     ...future.result$finished <- base::Sys.time()
[10:21:06.163]     ...future.result
[10:21:06.163] }
[10:21:06.215] MultisessionFuture started
[10:21:06.215] result() for ClusterFuture ...
[10:21:06.216] receiveMessageFromWorker() for ClusterFuture ...
[10:21:06.216] - Validating connection of MultisessionFuture
[10:21:06.246] - received message: FutureResult
[10:21:06.246] - Received FutureResult
[10:21:06.249] - Erased future from FutureRegistry
[10:21:06.249] result() for ClusterFuture ...
[10:21:06.249] - result already collected: FutureResult
[10:21:06.249] result() for ClusterFuture ... done
[10:21:06.249] receiveMessageFromWorker() for ClusterFuture ... done
[10:21:06.249] result() for ClusterFuture ... done
[10:21:06.249] result() for ClusterFuture ...
[10:21:06.249] - result already collected: FutureResult
[10:21:06.249] result() for ClusterFuture ... done
[1] 42
[10:21:06.251] getGlobalsAndPackages() ...
[10:21:06.251] 
[10:21:06.251] - globals: [0] <none>
[10:21:06.251] getGlobalsAndPackages() ... DONE
[10:21:06.258] Packages needed by the future expression (n = 0): <none>
[10:21:06.258] Packages needed by future strategies (n = 0): <none>
[10:21:06.258] {
[10:21:06.258]     {
[10:21:06.258]         {
[10:21:06.258]             ...future.startTime <- base::Sys.time()
[10:21:06.258]             {
[10:21:06.258]                 {
[10:21:06.258]                   {
[10:21:06.258]                     {
[10:21:06.258]                       base::local({
[10:21:06.258]                         has_future <- base::requireNamespace("future", 
[10:21:06.258]                           quietly = TRUE)
[10:21:06.258]                         if (has_future) {
[10:21:06.258]                           ns <- base::getNamespace("future")
[10:21:06.258]                           version <- ns[[".package"]][["version"]]
[10:21:06.258]                           if (is.null(version)) 
[10:21:06.258]                             version <- utils::packageVersion("future")
[10:21:06.258]                         }
[10:21:06.258]                         else {
[10:21:06.258]                           version <- NULL
[10:21:06.258]                         }
[10:21:06.258]                         if (!has_future || version < "1.8.0") {
[10:21:06.258]                           info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.258]                             "", base::R.version$version.string), 
[10:21:06.258]                             platform = base::sprintf("%s (%s-bit)", 
[10:21:06.258]                               base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.258]                             os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.258]                               "release", "version")], collapse = " "), 
[10:21:06.258]                             hostname = base::Sys.info()[["nodename"]])
[10:21:06.258]                           info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.258]                             info)
[10:21:06.258]                           info <- base::paste(info, collapse = "; ")
[10:21:06.258]                           if (!has_future) {
[10:21:06.258]                             msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.258]                               info)
[10:21:06.258]                           }
[10:21:06.258]                           else {
[10:21:06.258]                             msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.258]                               info, version)
[10:21:06.258]                           }
[10:21:06.258]                           base::stop(msg)
[10:21:06.258]                         }
[10:21:06.258]                       })
[10:21:06.258]                     }
[10:21:06.258]                     ...future.mc.cores.old <- base::getOption("mc.cores")
[10:21:06.258]                     base::options(mc.cores = 1L)
[10:21:06.258]                   }
[10:21:06.258]                   ...future.strategy.old <- future::plan("list")
[10:21:06.258]                   options(future.plan = NULL)
[10:21:06.258]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.258]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.258]                 }
[10:21:06.258]                 ...future.workdir <- getwd()
[10:21:06.258]             }
[10:21:06.258]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.258]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.258]         }
[10:21:06.258]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.258]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.258]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.258]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.258]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.258]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.258]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.258]             base::names(...future.oldOptions))
[10:21:06.258]     }
[10:21:06.258]     if (FALSE) {
[10:21:06.258]     }
[10:21:06.258]     else {
[10:21:06.258]         if (TRUE) {
[10:21:06.258]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.258]                 open = "w")
[10:21:06.258]         }
[10:21:06.258]         else {
[10:21:06.258]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.258]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.258]         }
[10:21:06.258]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.258]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.258]             base::sink(type = "output", split = FALSE)
[10:21:06.258]             base::close(...future.stdout)
[10:21:06.258]         }, add = TRUE)
[10:21:06.258]     }
[10:21:06.258]     ...future.frame <- base::sys.nframe()
[10:21:06.258]     ...future.conditions <- base::list()
[10:21:06.258]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.258]     if (FALSE) {
[10:21:06.258]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.258]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.258]     }
[10:21:06.258]     ...future.result <- base::tryCatch({
[10:21:06.258]         base::withCallingHandlers({
[10:21:06.258]             ...future.value <- base::withVisible(base::local({
[10:21:06.258]                 ...future.makeSendCondition <- base::local({
[10:21:06.258]                   sendCondition <- NULL
[10:21:06.258]                   function(frame = 1L) {
[10:21:06.258]                     if (is.function(sendCondition)) 
[10:21:06.258]                       return(sendCondition)
[10:21:06.258]                     ns <- getNamespace("parallel")
[10:21:06.258]                     if (exists("sendData", mode = "function", 
[10:21:06.258]                       envir = ns)) {
[10:21:06.258]                       parallel_sendData <- get("sendData", mode = "function", 
[10:21:06.258]                         envir = ns)
[10:21:06.258]                       envir <- sys.frame(frame)
[10:21:06.258]                       master <- NULL
[10:21:06.258]                       while (!identical(envir, .GlobalEnv) && 
[10:21:06.258]                         !identical(envir, emptyenv())) {
[10:21:06.258]                         if (exists("master", mode = "list", envir = envir, 
[10:21:06.258]                           inherits = FALSE)) {
[10:21:06.258]                           master <- get("master", mode = "list", 
[10:21:06.258]                             envir = envir, inherits = FALSE)
[10:21:06.258]                           if (inherits(master, c("SOCKnode", 
[10:21:06.258]                             "SOCK0node"))) {
[10:21:06.258]                             sendCondition <<- function(cond) {
[10:21:06.258]                               data <- list(type = "VALUE", value = cond, 
[10:21:06.258]                                 success = TRUE)
[10:21:06.258]                               parallel_sendData(master, data)
[10:21:06.258]                             }
[10:21:06.258]                             return(sendCondition)
[10:21:06.258]                           }
[10:21:06.258]                         }
[10:21:06.258]                         frame <- frame + 1L
[10:21:06.258]                         envir <- sys.frame(frame)
[10:21:06.258]                       }
[10:21:06.258]                     }
[10:21:06.258]                     sendCondition <<- function(cond) NULL
[10:21:06.258]                   }
[10:21:06.258]                 })
[10:21:06.258]                 withCallingHandlers({
[10:21:06.258]                   {
[10:21:06.258]                     42L
[10:21:06.258]                   }
[10:21:06.258]                 }, immediateCondition = function(cond) {
[10:21:06.258]                   sendCondition <- ...future.makeSendCondition()
[10:21:06.258]                   sendCondition(cond)
[10:21:06.258]                   muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.258]                   {
[10:21:06.258]                     inherits <- base::inherits
[10:21:06.258]                     invokeRestart <- base::invokeRestart
[10:21:06.258]                     is.null <- base::is.null
[10:21:06.258]                     muffled <- FALSE
[10:21:06.258]                     if (inherits(cond, "message")) {
[10:21:06.258]                       muffled <- grepl(pattern, "muffleMessage")
[10:21:06.258]                       if (muffled) 
[10:21:06.258]                         invokeRestart("muffleMessage")
[10:21:06.258]                     }
[10:21:06.258]                     else if (inherits(cond, "warning")) {
[10:21:06.258]                       muffled <- grepl(pattern, "muffleWarning")
[10:21:06.258]                       if (muffled) 
[10:21:06.258]                         invokeRestart("muffleWarning")
[10:21:06.258]                     }
[10:21:06.258]                     else if (inherits(cond, "condition")) {
[10:21:06.258]                       if (!is.null(pattern)) {
[10:21:06.258]                         computeRestarts <- base::computeRestarts
[10:21:06.258]                         grepl <- base::grepl
[10:21:06.258]                         restarts <- computeRestarts(cond)
[10:21:06.258]                         for (restart in restarts) {
[10:21:06.258]                           name <- restart$name
[10:21:06.258]                           if (is.null(name)) 
[10:21:06.258]                             next
[10:21:06.258]                           if (!grepl(pattern, name)) 
[10:21:06.258]                             next
[10:21:06.258]                           invokeRestart(restart)
[10:21:06.258]                           muffled <- TRUE
[10:21:06.258]                           break
[10:21:06.258]                         }
[10:21:06.258]                       }
[10:21:06.258]                     }
[10:21:06.258]                     invisible(muffled)
[10:21:06.258]                   }
[10:21:06.258]                   muffleCondition(cond)
[10:21:06.258]                 })
[10:21:06.258]             }))
[10:21:06.258]             future::FutureResult(value = ...future.value$value, 
[10:21:06.258]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.258]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.258]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.258]                     ...future.globalenv.names))
[10:21:06.258]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.258]         }, condition = base::local({
[10:21:06.258]             c <- base::c
[10:21:06.258]             inherits <- base::inherits
[10:21:06.258]             invokeRestart <- base::invokeRestart
[10:21:06.258]             length <- base::length
[10:21:06.258]             list <- base::list
[10:21:06.258]             seq.int <- base::seq.int
[10:21:06.258]             signalCondition <- base::signalCondition
[10:21:06.258]             sys.calls <- base::sys.calls
[10:21:06.258]             `[[` <- base::`[[`
[10:21:06.258]             `+` <- base::`+`
[10:21:06.258]             `<<-` <- base::`<<-`
[10:21:06.258]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.258]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.258]                   3L)]
[10:21:06.258]             }
[10:21:06.258]             function(cond) {
[10:21:06.258]                 is_error <- inherits(cond, "error")
[10:21:06.258]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.258]                   NULL)
[10:21:06.258]                 if (is_error) {
[10:21:06.258]                   sessionInformation <- function() {
[10:21:06.258]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.258]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.258]                       search = base::search(), system = base::Sys.info())
[10:21:06.258]                   }
[10:21:06.258]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.258]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.258]                     cond$call), session = sessionInformation(), 
[10:21:06.258]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.258]                   signalCondition(cond)
[10:21:06.258]                 }
[10:21:06.258]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.258]                 "immediateCondition"))) {
[10:21:06.258]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.258]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.258]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.258]                   if (TRUE && !signal) {
[10:21:06.258]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.258]                     {
[10:21:06.258]                       inherits <- base::inherits
[10:21:06.258]                       invokeRestart <- base::invokeRestart
[10:21:06.258]                       is.null <- base::is.null
[10:21:06.258]                       muffled <- FALSE
[10:21:06.258]                       if (inherits(cond, "message")) {
[10:21:06.258]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.258]                         if (muffled) 
[10:21:06.258]                           invokeRestart("muffleMessage")
[10:21:06.258]                       }
[10:21:06.258]                       else if (inherits(cond, "warning")) {
[10:21:06.258]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.258]                         if (muffled) 
[10:21:06.258]                           invokeRestart("muffleWarning")
[10:21:06.258]                       }
[10:21:06.258]                       else if (inherits(cond, "condition")) {
[10:21:06.258]                         if (!is.null(pattern)) {
[10:21:06.258]                           computeRestarts <- base::computeRestarts
[10:21:06.258]                           grepl <- base::grepl
[10:21:06.258]                           restarts <- computeRestarts(cond)
[10:21:06.258]                           for (restart in restarts) {
[10:21:06.258]                             name <- restart$name
[10:21:06.258]                             if (is.null(name)) 
[10:21:06.258]                               next
[10:21:06.258]                             if (!grepl(pattern, name)) 
[10:21:06.258]                               next
[10:21:06.258]                             invokeRestart(restart)
[10:21:06.258]                             muffled <- TRUE
[10:21:06.258]                             break
[10:21:06.258]                           }
[10:21:06.258]                         }
[10:21:06.258]                       }
[10:21:06.258]                       invisible(muffled)
[10:21:06.258]                     }
[10:21:06.258]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.258]                   }
[10:21:06.258]                 }
[10:21:06.258]                 else {
[10:21:06.258]                   if (TRUE) {
[10:21:06.258]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.258]                     {
[10:21:06.258]                       inherits <- base::inherits
[10:21:06.258]                       invokeRestart <- base::invokeRestart
[10:21:06.258]                       is.null <- base::is.null
[10:21:06.258]                       muffled <- FALSE
[10:21:06.258]                       if (inherits(cond, "message")) {
[10:21:06.258]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.258]                         if (muffled) 
[10:21:06.258]                           invokeRestart("muffleMessage")
[10:21:06.258]                       }
[10:21:06.258]                       else if (inherits(cond, "warning")) {
[10:21:06.258]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.258]                         if (muffled) 
[10:21:06.258]                           invokeRestart("muffleWarning")
[10:21:06.258]                       }
[10:21:06.258]                       else if (inherits(cond, "condition")) {
[10:21:06.258]                         if (!is.null(pattern)) {
[10:21:06.258]                           computeRestarts <- base::computeRestarts
[10:21:06.258]                           grepl <- base::grepl
[10:21:06.258]                           restarts <- computeRestarts(cond)
[10:21:06.258]                           for (restart in restarts) {
[10:21:06.258]                             name <- restart$name
[10:21:06.258]                             if (is.null(name)) 
[10:21:06.258]                               next
[10:21:06.258]                             if (!grepl(pattern, name)) 
[10:21:06.258]                               next
[10:21:06.258]                             invokeRestart(restart)
[10:21:06.258]                             muffled <- TRUE
[10:21:06.258]                             break
[10:21:06.258]                           }
[10:21:06.258]                         }
[10:21:06.258]                       }
[10:21:06.258]                       invisible(muffled)
[10:21:06.258]                     }
[10:21:06.258]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.258]                   }
[10:21:06.258]                 }
[10:21:06.258]             }
[10:21:06.258]         }))
[10:21:06.258]     }, error = function(ex) {
[10:21:06.258]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.258]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.258]                 ...future.rng), started = ...future.startTime, 
[10:21:06.258]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.258]             version = "1.8"), class = "FutureResult")
[10:21:06.258]     }, finally = {
[10:21:06.258]         if (!identical(...future.workdir, getwd())) 
[10:21:06.258]             setwd(...future.workdir)
[10:21:06.258]         {
[10:21:06.258]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.258]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.258]             }
[10:21:06.258]             base::options(...future.oldOptions)
[10:21:06.258]             if (.Platform$OS.type == "windows") {
[10:21:06.258]                 old_names <- names(...future.oldEnvVars)
[10:21:06.258]                 envs <- base::Sys.getenv()
[10:21:06.258]                 names <- names(envs)
[10:21:06.258]                 common <- intersect(names, old_names)
[10:21:06.258]                 added <- setdiff(names, old_names)
[10:21:06.258]                 removed <- setdiff(old_names, names)
[10:21:06.258]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.258]                   envs[common]]
[10:21:06.258]                 NAMES <- toupper(changed)
[10:21:06.258]                 args <- list()
[10:21:06.258]                 for (kk in seq_along(NAMES)) {
[10:21:06.258]                   name <- changed[[kk]]
[10:21:06.258]                   NAME <- NAMES[[kk]]
[10:21:06.258]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.258]                     next
[10:21:06.258]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.258]                 }
[10:21:06.258]                 NAMES <- toupper(added)
[10:21:06.258]                 for (kk in seq_along(NAMES)) {
[10:21:06.258]                   name <- added[[kk]]
[10:21:06.258]                   NAME <- NAMES[[kk]]
[10:21:06.258]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.258]                     next
[10:21:06.258]                   args[[name]] <- ""
[10:21:06.258]                 }
[10:21:06.258]                 NAMES <- toupper(removed)
[10:21:06.258]                 for (kk in seq_along(NAMES)) {
[10:21:06.258]                   name <- removed[[kk]]
[10:21:06.258]                   NAME <- NAMES[[kk]]
[10:21:06.258]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.258]                     next
[10:21:06.258]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.258]                 }
[10:21:06.258]                 if (length(args) > 0) 
[10:21:06.258]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.258]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.258]             }
[10:21:06.258]             else {
[10:21:06.258]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.258]             }
[10:21:06.258]             {
[10:21:06.258]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.258]                   0L) {
[10:21:06.258]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.258]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.258]                   base::options(opts)
[10:21:06.258]                 }
[10:21:06.258]                 {
[10:21:06.258]                   {
[10:21:06.258]                     base::options(mc.cores = ...future.mc.cores.old)
[10:21:06.258]                     NULL
[10:21:06.258]                   }
[10:21:06.258]                   options(future.plan = NULL)
[10:21:06.258]                   if (is.na(NA_character_)) 
[10:21:06.258]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.258]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.258]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.258]                     .init = FALSE)
[10:21:06.258]                 }
[10:21:06.258]             }
[10:21:06.258]         }
[10:21:06.258]     })
[10:21:06.258]     if (TRUE) {
[10:21:06.258]         base::sink(type = "output", split = FALSE)
[10:21:06.258]         if (TRUE) {
[10:21:06.258]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.258]         }
[10:21:06.258]         else {
[10:21:06.258]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.258]         }
[10:21:06.258]         base::close(...future.stdout)
[10:21:06.258]         ...future.stdout <- NULL
[10:21:06.258]     }
[10:21:06.258]     ...future.result$conditions <- ...future.conditions
[10:21:06.258]     ...future.result$finished <- base::Sys.time()
[10:21:06.258]     ...future.result
[10:21:06.258] }
[10:21:06.261] MultisessionFuture started
[10:21:06.261] result() for ClusterFuture ...
[10:21:06.261] receiveMessageFromWorker() for ClusterFuture ...
[10:21:06.261] - Validating connection of MultisessionFuture
[10:21:06.303] - received message: FutureResult
[10:21:06.303] - Received FutureResult
[10:21:06.304] - Erased future from FutureRegistry
[10:21:06.304] result() for ClusterFuture ...
[10:21:06.304] - result already collected: FutureResult
[10:21:06.304] result() for ClusterFuture ... done
[10:21:06.304] receiveMessageFromWorker() for ClusterFuture ... done
[10:21:06.304] result() for ClusterFuture ... done
[10:21:06.304] result() for ClusterFuture ...
[10:21:06.304] - result already collected: FutureResult
[10:21:06.304] result() for ClusterFuture ... done
[1] 42
[10:21:06.305] getGlobalsAndPackages() ...
[10:21:06.305] Searching for globals...
[10:21:06.306] - globals found: [1] ‘{’
[10:21:06.306] Searching for globals ... DONE
[10:21:06.306] Resolving globals: FALSE
[10:21:06.306] 
[10:21:06.306] 
[10:21:06.306] getGlobalsAndPackages() ... DONE
SequentialFuture:
Label: ‘<none>’
Expression:
{
    42L
}
Lazy evaluation: FALSE
Asynchronous evaluation: FALSE
Local evaluation: TRUE
Environment: R_GlobalEnv
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘nothing’)
Globals: <none>
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Resolved: FALSE
Value: <not collected>
Conditions captured: <none>
Early signaling: FALSE
Owner process: 014a5710-fb08-919b-71a1-2d15a8c67adf
Class: ‘SequentialFuture’, ‘UniprocessFuture’, ‘Future’, ‘environment’
[10:21:06.307] Packages needed by the future expression (n = 0): <none>
[10:21:06.307] Packages needed by future strategies (n = 0): <none>
[10:21:06.308] {
[10:21:06.308]     {
[10:21:06.308]         {
[10:21:06.308]             ...future.startTime <- base::Sys.time()
[10:21:06.308]             {
[10:21:06.308]                 {
[10:21:06.308]                   {
[10:21:06.308]                     base::local({
[10:21:06.308]                       has_future <- base::requireNamespace("future", 
[10:21:06.308]                         quietly = TRUE)
[10:21:06.308]                       if (has_future) {
[10:21:06.308]                         ns <- base::getNamespace("future")
[10:21:06.308]                         version <- ns[[".package"]][["version"]]
[10:21:06.308]                         if (is.null(version)) 
[10:21:06.308]                           version <- utils::packageVersion("future")
[10:21:06.308]                       }
[10:21:06.308]                       else {
[10:21:06.308]                         version <- NULL
[10:21:06.308]                       }
[10:21:06.308]                       if (!has_future || version < "1.8.0") {
[10:21:06.308]                         info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.308]                           "", base::R.version$version.string), 
[10:21:06.308]                           platform = base::sprintf("%s (%s-bit)", 
[10:21:06.308]                             base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.308]                           os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.308]                             "release", "version")], collapse = " "), 
[10:21:06.308]                           hostname = base::Sys.info()[["nodename"]])
[10:21:06.308]                         info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.308]                           info)
[10:21:06.308]                         info <- base::paste(info, collapse = "; ")
[10:21:06.308]                         if (!has_future) {
[10:21:06.308]                           msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.308]                             info)
[10:21:06.308]                         }
[10:21:06.308]                         else {
[10:21:06.308]                           msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.308]                             info, version)
[10:21:06.308]                         }
[10:21:06.308]                         base::stop(msg)
[10:21:06.308]                       }
[10:21:06.308]                     })
[10:21:06.308]                   }
[10:21:06.308]                   ...future.strategy.old <- future::plan("list")
[10:21:06.308]                   options(future.plan = NULL)
[10:21:06.308]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.308]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.308]                 }
[10:21:06.308]                 ...future.workdir <- getwd()
[10:21:06.308]             }
[10:21:06.308]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.308]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.308]         }
[10:21:06.308]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.308]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.308]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.308]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.308]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.308]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.308]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.308]             base::names(...future.oldOptions))
[10:21:06.308]     }
[10:21:06.308]     if (FALSE) {
[10:21:06.308]     }
[10:21:06.308]     else {
[10:21:06.308]         if (TRUE) {
[10:21:06.308]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.308]                 open = "w")
[10:21:06.308]         }
[10:21:06.308]         else {
[10:21:06.308]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.308]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.308]         }
[10:21:06.308]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.308]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.308]             base::sink(type = "output", split = FALSE)
[10:21:06.308]             base::close(...future.stdout)
[10:21:06.308]         }, add = TRUE)
[10:21:06.308]     }
[10:21:06.308]     ...future.frame <- base::sys.nframe()
[10:21:06.308]     ...future.conditions <- base::list()
[10:21:06.308]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.308]     if (FALSE) {
[10:21:06.308]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.308]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.308]     }
[10:21:06.308]     ...future.result <- base::tryCatch({
[10:21:06.308]         base::withCallingHandlers({
[10:21:06.308]             ...future.value <- base::withVisible(base::local({
[10:21:06.308]                 42L
[10:21:06.308]             }))
[10:21:06.308]             future::FutureResult(value = ...future.value$value, 
[10:21:06.308]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.308]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.308]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.308]                     ...future.globalenv.names))
[10:21:06.308]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.308]         }, condition = base::local({
[10:21:06.308]             c <- base::c
[10:21:06.308]             inherits <- base::inherits
[10:21:06.308]             invokeRestart <- base::invokeRestart
[10:21:06.308]             length <- base::length
[10:21:06.308]             list <- base::list
[10:21:06.308]             seq.int <- base::seq.int
[10:21:06.308]             signalCondition <- base::signalCondition
[10:21:06.308]             sys.calls <- base::sys.calls
[10:21:06.308]             `[[` <- base::`[[`
[10:21:06.308]             `+` <- base::`+`
[10:21:06.308]             `<<-` <- base::`<<-`
[10:21:06.308]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.308]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.308]                   3L)]
[10:21:06.308]             }
[10:21:06.308]             function(cond) {
[10:21:06.308]                 is_error <- inherits(cond, "error")
[10:21:06.308]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.308]                   NULL)
[10:21:06.308]                 if (is_error) {
[10:21:06.308]                   sessionInformation <- function() {
[10:21:06.308]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.308]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.308]                       search = base::search(), system = base::Sys.info())
[10:21:06.308]                   }
[10:21:06.308]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.308]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.308]                     cond$call), session = sessionInformation(), 
[10:21:06.308]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.308]                   signalCondition(cond)
[10:21:06.308]                 }
[10:21:06.308]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.308]                 "immediateCondition"))) {
[10:21:06.308]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.308]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.308]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.308]                   if (TRUE && !signal) {
[10:21:06.308]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.308]                     {
[10:21:06.308]                       inherits <- base::inherits
[10:21:06.308]                       invokeRestart <- base::invokeRestart
[10:21:06.308]                       is.null <- base::is.null
[10:21:06.308]                       muffled <- FALSE
[10:21:06.308]                       if (inherits(cond, "message")) {
[10:21:06.308]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.308]                         if (muffled) 
[10:21:06.308]                           invokeRestart("muffleMessage")
[10:21:06.308]                       }
[10:21:06.308]                       else if (inherits(cond, "warning")) {
[10:21:06.308]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.308]                         if (muffled) 
[10:21:06.308]                           invokeRestart("muffleWarning")
[10:21:06.308]                       }
[10:21:06.308]                       else if (inherits(cond, "condition")) {
[10:21:06.308]                         if (!is.null(pattern)) {
[10:21:06.308]                           computeRestarts <- base::computeRestarts
[10:21:06.308]                           grepl <- base::grepl
[10:21:06.308]                           restarts <- computeRestarts(cond)
[10:21:06.308]                           for (restart in restarts) {
[10:21:06.308]                             name <- restart$name
[10:21:06.308]                             if (is.null(name)) 
[10:21:06.308]                               next
[10:21:06.308]                             if (!grepl(pattern, name)) 
[10:21:06.308]                               next
[10:21:06.308]                             invokeRestart(restart)
[10:21:06.308]                             muffled <- TRUE
[10:21:06.308]                             break
[10:21:06.308]                           }
[10:21:06.308]                         }
[10:21:06.308]                       }
[10:21:06.308]                       invisible(muffled)
[10:21:06.308]                     }
[10:21:06.308]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.308]                   }
[10:21:06.308]                 }
[10:21:06.308]                 else {
[10:21:06.308]                   if (TRUE) {
[10:21:06.308]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.308]                     {
[10:21:06.308]                       inherits <- base::inherits
[10:21:06.308]                       invokeRestart <- base::invokeRestart
[10:21:06.308]                       is.null <- base::is.null
[10:21:06.308]                       muffled <- FALSE
[10:21:06.308]                       if (inherits(cond, "message")) {
[10:21:06.308]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.308]                         if (muffled) 
[10:21:06.308]                           invokeRestart("muffleMessage")
[10:21:06.308]                       }
[10:21:06.308]                       else if (inherits(cond, "warning")) {
[10:21:06.308]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.308]                         if (muffled) 
[10:21:06.308]                           invokeRestart("muffleWarning")
[10:21:06.308]                       }
[10:21:06.308]                       else if (inherits(cond, "condition")) {
[10:21:06.308]                         if (!is.null(pattern)) {
[10:21:06.308]                           computeRestarts <- base::computeRestarts
[10:21:06.308]                           grepl <- base::grepl
[10:21:06.308]                           restarts <- computeRestarts(cond)
[10:21:06.308]                           for (restart in restarts) {
[10:21:06.308]                             name <- restart$name
[10:21:06.308]                             if (is.null(name)) 
[10:21:06.308]                               next
[10:21:06.308]                             if (!grepl(pattern, name)) 
[10:21:06.308]                               next
[10:21:06.308]                             invokeRestart(restart)
[10:21:06.308]                             muffled <- TRUE
[10:21:06.308]                             break
[10:21:06.308]                           }
[10:21:06.308]                         }
[10:21:06.308]                       }
[10:21:06.308]                       invisible(muffled)
[10:21:06.308]                     }
[10:21:06.308]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.308]                   }
[10:21:06.308]                 }
[10:21:06.308]             }
[10:21:06.308]         }))
[10:21:06.308]     }, error = function(ex) {
[10:21:06.308]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.308]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.308]                 ...future.rng), started = ...future.startTime, 
[10:21:06.308]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.308]             version = "1.8"), class = "FutureResult")
[10:21:06.308]     }, finally = {
[10:21:06.308]         if (!identical(...future.workdir, getwd())) 
[10:21:06.308]             setwd(...future.workdir)
[10:21:06.308]         {
[10:21:06.308]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.308]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.308]             }
[10:21:06.308]             base::options(...future.oldOptions)
[10:21:06.308]             if (.Platform$OS.type == "windows") {
[10:21:06.308]                 old_names <- names(...future.oldEnvVars)
[10:21:06.308]                 envs <- base::Sys.getenv()
[10:21:06.308]                 names <- names(envs)
[10:21:06.308]                 common <- intersect(names, old_names)
[10:21:06.308]                 added <- setdiff(names, old_names)
[10:21:06.308]                 removed <- setdiff(old_names, names)
[10:21:06.308]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.308]                   envs[common]]
[10:21:06.308]                 NAMES <- toupper(changed)
[10:21:06.308]                 args <- list()
[10:21:06.308]                 for (kk in seq_along(NAMES)) {
[10:21:06.308]                   name <- changed[[kk]]
[10:21:06.308]                   NAME <- NAMES[[kk]]
[10:21:06.308]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.308]                     next
[10:21:06.308]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.308]                 }
[10:21:06.308]                 NAMES <- toupper(added)
[10:21:06.308]                 for (kk in seq_along(NAMES)) {
[10:21:06.308]                   name <- added[[kk]]
[10:21:06.308]                   NAME <- NAMES[[kk]]
[10:21:06.308]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.308]                     next
[10:21:06.308]                   args[[name]] <- ""
[10:21:06.308]                 }
[10:21:06.308]                 NAMES <- toupper(removed)
[10:21:06.308]                 for (kk in seq_along(NAMES)) {
[10:21:06.308]                   name <- removed[[kk]]
[10:21:06.308]                   NAME <- NAMES[[kk]]
[10:21:06.308]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.308]                     next
[10:21:06.308]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.308]                 }
[10:21:06.308]                 if (length(args) > 0) 
[10:21:06.308]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.308]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.308]             }
[10:21:06.308]             else {
[10:21:06.308]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.308]             }
[10:21:06.308]             {
[10:21:06.308]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.308]                   0L) {
[10:21:06.308]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.308]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.308]                   base::options(opts)
[10:21:06.308]                 }
[10:21:06.308]                 {
[10:21:06.308]                   {
[10:21:06.308]                     NULL
[10:21:06.308]                     RNGkind("Mersenne-Twister")
[10:21:06.308]                     base::rm(list = ".Random.seed", envir = base::globalenv(), 
[10:21:06.308]                       inherits = FALSE)
[10:21:06.308]                   }
[10:21:06.308]                   options(future.plan = NULL)
[10:21:06.308]                   if (is.na(NA_character_)) 
[10:21:06.308]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.308]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.308]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.308]                     .init = FALSE)
[10:21:06.308]                 }
[10:21:06.308]             }
[10:21:06.308]         }
[10:21:06.308]     })
[10:21:06.308]     if (TRUE) {
[10:21:06.308]         base::sink(type = "output", split = FALSE)
[10:21:06.308]         if (TRUE) {
[10:21:06.308]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.308]         }
[10:21:06.308]         else {
[10:21:06.308]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.308]         }
[10:21:06.308]         base::close(...future.stdout)
[10:21:06.308]         ...future.stdout <- NULL
[10:21:06.308]     }
[10:21:06.308]     ...future.result$conditions <- ...future.conditions
[10:21:06.308]     ...future.result$finished <- base::Sys.time()
[10:21:06.308]     ...future.result
[10:21:06.308] }
[10:21:06.311] plan(): Setting new future strategy stack:
[10:21:06.311] List of future strategies:
[10:21:06.311] 1. sequential:
[10:21:06.311]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:06.311]    - tweaked: FALSE
[10:21:06.311]    - call: NULL
[10:21:06.311] plan(): nbrOfWorkers() = 1
[10:21:06.313] plan(): Setting new future strategy stack:
[10:21:06.313] List of future strategies:
[10:21:06.313] 1. future:
[10:21:06.313]    - args: function (..., workers = "<NULL>")
[10:21:06.313]    - tweaked: FALSE
[10:21:06.313]    - call: plan(foo)
[10:21:06.313] plan(): nbrOfWorkers() = Inf
[10:21:06.314] SequentialFuture started (and completed)
[1] 42
[10:21:06.314] getGlobalsAndPackages() ...
[10:21:06.314] Searching for globals...
[10:21:06.315] - globals found: [1] ‘{’
[10:21:06.315] Searching for globals ... DONE
[10:21:06.315] Resolving globals: FALSE
[10:21:06.316] 
[10:21:06.316] 
[10:21:06.316] getGlobalsAndPackages() ... DONE
[10:21:06.316] Packages needed by the future expression (n = 0): <none>
[10:21:06.316] Packages needed by future strategies (n = 0): <none>
[10:21:06.317] {
[10:21:06.317]     {
[10:21:06.317]         {
[10:21:06.317]             ...future.startTime <- base::Sys.time()
[10:21:06.317]             {
[10:21:06.317]                 {
[10:21:06.317]                   {
[10:21:06.317]                     base::local({
[10:21:06.317]                       has_future <- base::requireNamespace("future", 
[10:21:06.317]                         quietly = TRUE)
[10:21:06.317]                       if (has_future) {
[10:21:06.317]                         ns <- base::getNamespace("future")
[10:21:06.317]                         version <- ns[[".package"]][["version"]]
[10:21:06.317]                         if (is.null(version)) 
[10:21:06.317]                           version <- utils::packageVersion("future")
[10:21:06.317]                       }
[10:21:06.317]                       else {
[10:21:06.317]                         version <- NULL
[10:21:06.317]                       }
[10:21:06.317]                       if (!has_future || version < "1.8.0") {
[10:21:06.317]                         info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.317]                           "", base::R.version$version.string), 
[10:21:06.317]                           platform = base::sprintf("%s (%s-bit)", 
[10:21:06.317]                             base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.317]                           os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.317]                             "release", "version")], collapse = " "), 
[10:21:06.317]                           hostname = base::Sys.info()[["nodename"]])
[10:21:06.317]                         info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.317]                           info)
[10:21:06.317]                         info <- base::paste(info, collapse = "; ")
[10:21:06.317]                         if (!has_future) {
[10:21:06.317]                           msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.317]                             info)
[10:21:06.317]                         }
[10:21:06.317]                         else {
[10:21:06.317]                           msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.317]                             info, version)
[10:21:06.317]                         }
[10:21:06.317]                         base::stop(msg)
[10:21:06.317]                       }
[10:21:06.317]                     })
[10:21:06.317]                   }
[10:21:06.317]                   ...future.strategy.old <- future::plan("list")
[10:21:06.317]                   options(future.plan = NULL)
[10:21:06.317]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.317]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.317]                 }
[10:21:06.317]                 ...future.workdir <- getwd()
[10:21:06.317]             }
[10:21:06.317]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.317]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.317]         }
[10:21:06.317]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.317]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.317]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.317]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.317]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.317]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.317]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.317]             base::names(...future.oldOptions))
[10:21:06.317]     }
[10:21:06.317]     if (FALSE) {
[10:21:06.317]     }
[10:21:06.317]     else {
[10:21:06.317]         if (TRUE) {
[10:21:06.317]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.317]                 open = "w")
[10:21:06.317]         }
[10:21:06.317]         else {
[10:21:06.317]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.317]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.317]         }
[10:21:06.317]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.317]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.317]             base::sink(type = "output", split = FALSE)
[10:21:06.317]             base::close(...future.stdout)
[10:21:06.317]         }, add = TRUE)
[10:21:06.317]     }
[10:21:06.317]     ...future.frame <- base::sys.nframe()
[10:21:06.317]     ...future.conditions <- base::list()
[10:21:06.317]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.317]     if (FALSE) {
[10:21:06.317]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.317]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.317]     }
[10:21:06.317]     ...future.result <- base::tryCatch({
[10:21:06.317]         base::withCallingHandlers({
[10:21:06.317]             ...future.value <- base::withVisible(base::local({
[10:21:06.317]                 42L
[10:21:06.317]             }))
[10:21:06.317]             future::FutureResult(value = ...future.value$value, 
[10:21:06.317]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.317]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.317]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.317]                     ...future.globalenv.names))
[10:21:06.317]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.317]         }, condition = base::local({
[10:21:06.317]             c <- base::c
[10:21:06.317]             inherits <- base::inherits
[10:21:06.317]             invokeRestart <- base::invokeRestart
[10:21:06.317]             length <- base::length
[10:21:06.317]             list <- base::list
[10:21:06.317]             seq.int <- base::seq.int
[10:21:06.317]             signalCondition <- base::signalCondition
[10:21:06.317]             sys.calls <- base::sys.calls
[10:21:06.317]             `[[` <- base::`[[`
[10:21:06.317]             `+` <- base::`+`
[10:21:06.317]             `<<-` <- base::`<<-`
[10:21:06.317]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.317]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.317]                   3L)]
[10:21:06.317]             }
[10:21:06.317]             function(cond) {
[10:21:06.317]                 is_error <- inherits(cond, "error")
[10:21:06.317]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.317]                   NULL)
[10:21:06.317]                 if (is_error) {
[10:21:06.317]                   sessionInformation <- function() {
[10:21:06.317]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.317]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.317]                       search = base::search(), system = base::Sys.info())
[10:21:06.317]                   }
[10:21:06.317]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.317]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.317]                     cond$call), session = sessionInformation(), 
[10:21:06.317]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.317]                   signalCondition(cond)
[10:21:06.317]                 }
[10:21:06.317]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.317]                 "immediateCondition"))) {
[10:21:06.317]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.317]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.317]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.317]                   if (TRUE && !signal) {
[10:21:06.317]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.317]                     {
[10:21:06.317]                       inherits <- base::inherits
[10:21:06.317]                       invokeRestart <- base::invokeRestart
[10:21:06.317]                       is.null <- base::is.null
[10:21:06.317]                       muffled <- FALSE
[10:21:06.317]                       if (inherits(cond, "message")) {
[10:21:06.317]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.317]                         if (muffled) 
[10:21:06.317]                           invokeRestart("muffleMessage")
[10:21:06.317]                       }
[10:21:06.317]                       else if (inherits(cond, "warning")) {
[10:21:06.317]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.317]                         if (muffled) 
[10:21:06.317]                           invokeRestart("muffleWarning")
[10:21:06.317]                       }
[10:21:06.317]                       else if (inherits(cond, "condition")) {
[10:21:06.317]                         if (!is.null(pattern)) {
[10:21:06.317]                           computeRestarts <- base::computeRestarts
[10:21:06.317]                           grepl <- base::grepl
[10:21:06.317]                           restarts <- computeRestarts(cond)
[10:21:06.317]                           for (restart in restarts) {
[10:21:06.317]                             name <- restart$name
[10:21:06.317]                             if (is.null(name)) 
[10:21:06.317]                               next
[10:21:06.317]                             if (!grepl(pattern, name)) 
[10:21:06.317]                               next
[10:21:06.317]                             invokeRestart(restart)
[10:21:06.317]                             muffled <- TRUE
[10:21:06.317]                             break
[10:21:06.317]                           }
[10:21:06.317]                         }
[10:21:06.317]                       }
[10:21:06.317]                       invisible(muffled)
[10:21:06.317]                     }
[10:21:06.317]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.317]                   }
[10:21:06.317]                 }
[10:21:06.317]                 else {
[10:21:06.317]                   if (TRUE) {
[10:21:06.317]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.317]                     {
[10:21:06.317]                       inherits <- base::inherits
[10:21:06.317]                       invokeRestart <- base::invokeRestart
[10:21:06.317]                       is.null <- base::is.null
[10:21:06.317]                       muffled <- FALSE
[10:21:06.317]                       if (inherits(cond, "message")) {
[10:21:06.317]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.317]                         if (muffled) 
[10:21:06.317]                           invokeRestart("muffleMessage")
[10:21:06.317]                       }
[10:21:06.317]                       else if (inherits(cond, "warning")) {
[10:21:06.317]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.317]                         if (muffled) 
[10:21:06.317]                           invokeRestart("muffleWarning")
[10:21:06.317]                       }
[10:21:06.317]                       else if (inherits(cond, "condition")) {
[10:21:06.317]                         if (!is.null(pattern)) {
[10:21:06.317]                           computeRestarts <- base::computeRestarts
[10:21:06.317]                           grepl <- base::grepl
[10:21:06.317]                           restarts <- computeRestarts(cond)
[10:21:06.317]                           for (restart in restarts) {
[10:21:06.317]                             name <- restart$name
[10:21:06.317]                             if (is.null(name)) 
[10:21:06.317]                               next
[10:21:06.317]                             if (!grepl(pattern, name)) 
[10:21:06.317]                               next
[10:21:06.317]                             invokeRestart(restart)
[10:21:06.317]                             muffled <- TRUE
[10:21:06.317]                             break
[10:21:06.317]                           }
[10:21:06.317]                         }
[10:21:06.317]                       }
[10:21:06.317]                       invisible(muffled)
[10:21:06.317]                     }
[10:21:06.317]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.317]                   }
[10:21:06.317]                 }
[10:21:06.317]             }
[10:21:06.317]         }))
[10:21:06.317]     }, error = function(ex) {
[10:21:06.317]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.317]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.317]                 ...future.rng), started = ...future.startTime, 
[10:21:06.317]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.317]             version = "1.8"), class = "FutureResult")
[10:21:06.317]     }, finally = {
[10:21:06.317]         if (!identical(...future.workdir, getwd())) 
[10:21:06.317]             setwd(...future.workdir)
[10:21:06.317]         {
[10:21:06.317]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.317]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.317]             }
[10:21:06.317]             base::options(...future.oldOptions)
[10:21:06.317]             if (.Platform$OS.type == "windows") {
[10:21:06.317]                 old_names <- names(...future.oldEnvVars)
[10:21:06.317]                 envs <- base::Sys.getenv()
[10:21:06.317]                 names <- names(envs)
[10:21:06.317]                 common <- intersect(names, old_names)
[10:21:06.317]                 added <- setdiff(names, old_names)
[10:21:06.317]                 removed <- setdiff(old_names, names)
[10:21:06.317]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.317]                   envs[common]]
[10:21:06.317]                 NAMES <- toupper(changed)
[10:21:06.317]                 args <- list()
[10:21:06.317]                 for (kk in seq_along(NAMES)) {
[10:21:06.317]                   name <- changed[[kk]]
[10:21:06.317]                   NAME <- NAMES[[kk]]
[10:21:06.317]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.317]                     next
[10:21:06.317]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.317]                 }
[10:21:06.317]                 NAMES <- toupper(added)
[10:21:06.317]                 for (kk in seq_along(NAMES)) {
[10:21:06.317]                   name <- added[[kk]]
[10:21:06.317]                   NAME <- NAMES[[kk]]
[10:21:06.317]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.317]                     next
[10:21:06.317]                   args[[name]] <- ""
[10:21:06.317]                 }
[10:21:06.317]                 NAMES <- toupper(removed)
[10:21:06.317]                 for (kk in seq_along(NAMES)) {
[10:21:06.317]                   name <- removed[[kk]]
[10:21:06.317]                   NAME <- NAMES[[kk]]
[10:21:06.317]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.317]                     next
[10:21:06.317]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.317]                 }
[10:21:06.317]                 if (length(args) > 0) 
[10:21:06.317]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.317]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.317]             }
[10:21:06.317]             else {
[10:21:06.317]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.317]             }
[10:21:06.317]             {
[10:21:06.317]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.317]                   0L) {
[10:21:06.317]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.317]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.317]                   base::options(opts)
[10:21:06.317]                 }
[10:21:06.317]                 {
[10:21:06.317]                   {
[10:21:06.317]                     NULL
[10:21:06.317]                     RNGkind("Mersenne-Twister")
[10:21:06.317]                     base::rm(list = ".Random.seed", envir = base::globalenv(), 
[10:21:06.317]                       inherits = FALSE)
[10:21:06.317]                   }
[10:21:06.317]                   options(future.plan = NULL)
[10:21:06.317]                   if (is.na(NA_character_)) 
[10:21:06.317]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.317]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.317]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.317]                     .init = FALSE)
[10:21:06.317]                 }
[10:21:06.317]             }
[10:21:06.317]         }
[10:21:06.317]     })
[10:21:06.317]     if (TRUE) {
[10:21:06.317]         base::sink(type = "output", split = FALSE)
[10:21:06.317]         if (TRUE) {
[10:21:06.317]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.317]         }
[10:21:06.317]         else {
[10:21:06.317]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.317]         }
[10:21:06.317]         base::close(...future.stdout)
[10:21:06.317]         ...future.stdout <- NULL
[10:21:06.317]     }
[10:21:06.317]     ...future.result$conditions <- ...future.conditions
[10:21:06.317]     ...future.result$finished <- base::Sys.time()
[10:21:06.317]     ...future.result
[10:21:06.317] }
[10:21:06.319] plan(): Setting new future strategy stack:
[10:21:06.319] List of future strategies:
[10:21:06.319] 1. sequential:
[10:21:06.319]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:06.319]    - tweaked: FALSE
[10:21:06.319]    - call: NULL
[10:21:06.319] plan(): nbrOfWorkers() = 1
[10:21:06.320] plan(): Setting new future strategy stack:
[10:21:06.320] List of future strategies:
[10:21:06.320] 1. future:
[10:21:06.320]    - args: function (..., workers = "<NULL>")
[10:21:06.320]    - tweaked: FALSE
[10:21:06.320]    - call: plan(foo)
[10:21:06.321] plan(): nbrOfWorkers() = Inf
[10:21:06.321] SequentialFuture started (and completed)
[1] 42
[10:21:06.321] getGlobalsAndPackages() ...
[10:21:06.321] 
[10:21:06.321] - globals: [0] <none>
[10:21:06.321] getGlobalsAndPackages() ... DONE
MulticoreFuture:
Label: ‘<none>’
Expression:
{
    42L
}
Lazy evaluation: FALSE
Asynchronous evaluation: TRUE
Local evaluation: TRUE
Environment: 0x55b9c0ea7108
Capture standard output: TRUE
Capture condition classes: ‘condition’ (excluding ‘nothing’)
Globals: <none>
Packages: <none>
L'Ecuyer-CMRG RNG seed: <none> (seed = FALSE)
Resolved: FALSE
Value: <not collected>
Conditions captured: <none>
Early signaling: FALSE
Owner process: 014a5710-fb08-919b-71a1-2d15a8c67adf
Class: ‘MulticoreFuture’, ‘MultiprocessFuture’, ‘Future’, ‘environment’
[10:21:06.323] Packages needed by the future expression (n = 0): <none>
[10:21:06.323] Packages needed by future strategies (n = 0): <none>
[10:21:06.324] {
[10:21:06.324]     {
[10:21:06.324]         {
[10:21:06.324]             ...future.startTime <- base::Sys.time()
[10:21:06.324]             {
[10:21:06.324]                 {
[10:21:06.324]                   {
[10:21:06.324]                     {
[10:21:06.324]                       base::local({
[10:21:06.324]                         has_future <- base::requireNamespace("future", 
[10:21:06.324]                           quietly = TRUE)
[10:21:06.324]                         if (has_future) {
[10:21:06.324]                           ns <- base::getNamespace("future")
[10:21:06.324]                           version <- ns[[".package"]][["version"]]
[10:21:06.324]                           if (is.null(version)) 
[10:21:06.324]                             version <- utils::packageVersion("future")
[10:21:06.324]                         }
[10:21:06.324]                         else {
[10:21:06.324]                           version <- NULL
[10:21:06.324]                         }
[10:21:06.324]                         if (!has_future || version < "1.8.0") {
[10:21:06.324]                           info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.324]                             "", base::R.version$version.string), 
[10:21:06.324]                             platform = base::sprintf("%s (%s-bit)", 
[10:21:06.324]                               base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.324]                             os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.324]                               "release", "version")], collapse = " "), 
[10:21:06.324]                             hostname = base::Sys.info()[["nodename"]])
[10:21:06.324]                           info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.324]                             info)
[10:21:06.324]                           info <- base::paste(info, collapse = "; ")
[10:21:06.324]                           if (!has_future) {
[10:21:06.324]                             msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.324]                               info)
[10:21:06.324]                           }
[10:21:06.324]                           else {
[10:21:06.324]                             msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.324]                               info, version)
[10:21:06.324]                           }
[10:21:06.324]                           base::stop(msg)
[10:21:06.324]                         }
[10:21:06.324]                       })
[10:21:06.324]                     }
[10:21:06.324]                     ...future.mc.cores.old <- base::getOption("mc.cores")
[10:21:06.324]                     base::options(mc.cores = 1L)
[10:21:06.324]                   }
[10:21:06.324]                   ...future.strategy.old <- future::plan("list")
[10:21:06.324]                   options(future.plan = NULL)
[10:21:06.324]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.324]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.324]                 }
[10:21:06.324]                 ...future.workdir <- getwd()
[10:21:06.324]             }
[10:21:06.324]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.324]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.324]         }
[10:21:06.324]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.324]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.324]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.324]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.324]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.324]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.324]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.324]             base::names(...future.oldOptions))
[10:21:06.324]     }
[10:21:06.324]     if (FALSE) {
[10:21:06.324]     }
[10:21:06.324]     else {
[10:21:06.324]         if (TRUE) {
[10:21:06.324]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.324]                 open = "w")
[10:21:06.324]         }
[10:21:06.324]         else {
[10:21:06.324]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.324]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.324]         }
[10:21:06.324]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.324]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.324]             base::sink(type = "output", split = FALSE)
[10:21:06.324]             base::close(...future.stdout)
[10:21:06.324]         }, add = TRUE)
[10:21:06.324]     }
[10:21:06.324]     ...future.frame <- base::sys.nframe()
[10:21:06.324]     ...future.conditions <- base::list()
[10:21:06.324]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.324]     if (FALSE) {
[10:21:06.324]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.324]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.324]     }
[10:21:06.324]     ...future.result <- base::tryCatch({
[10:21:06.324]         base::withCallingHandlers({
[10:21:06.324]             ...future.value <- base::withVisible(base::local({
[10:21:06.324]                 withCallingHandlers({
[10:21:06.324]                   {
[10:21:06.324]                     42L
[10:21:06.324]                   }
[10:21:06.324]                 }, immediateCondition = function(cond) {
[10:21:06.324]                   save_rds <- function (object, pathname, ...) 
[10:21:06.324]                   {
[10:21:06.324]                     pathname_tmp <- sprintf("%s.tmp", pathname)
[10:21:06.324]                     if (file_test("-f", pathname_tmp)) {
[10:21:06.324]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.324]                       stopf("Cannot save RDS file because a temporary save file already exists: %s (%0.f bytes; last modified on %s)", 
[10:21:06.324]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.324]                         fi_tmp[["mtime"]])
[10:21:06.324]                     }
[10:21:06.324]                     tryCatch({
[10:21:06.324]                       saveRDS(object, file = pathname_tmp, ...)
[10:21:06.324]                     }, error = function(ex) {
[10:21:06.324]                       msg <- conditionMessage(ex)
[10:21:06.324]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.324]                       msg <- sprintf("saveRDS() failed to save to temporary file %s (%.0f bytes; last modified on %s). The reason was: %s", 
[10:21:06.324]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.324]                         fi_tmp[["mtime"]], msg)
[10:21:06.324]                       ex$message <- msg
[10:21:06.324]                       stop(ex)
[10:21:06.324]                     })
[10:21:06.324]                     stopifnot(file_test("-f", pathname_tmp))
[10:21:06.324]                     res <- file.rename(from = pathname_tmp, to = pathname)
[10:21:06.324]                     if (!res || file_test("-f", pathname_tmp)) {
[10:21:06.324]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.324]                       fi <- file.info(pathname)
[10:21:06.324]                       msg <- sprintf("save_rds() failed to rename temporary save file %s (%0.f bytes; last modified on %s) to %s (%0.f bytes; last modified on %s)", 
[10:21:06.324]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.324]                         fi_tmp[["mtime"]], sQuote(pathname), 
[10:21:06.324]                         fi[["size"]], fi[["mtime"]])
[10:21:06.324]                       stop(msg)
[10:21:06.324]                     }
[10:21:06.324]                     invisible(pathname)
[10:21:06.324]                   }
[10:21:06.324]                   saveImmediateCondition <- function (cond, path = immediateConditionsPath(rootPath = rootPath), 
[10:21:06.324]                     rootPath = tempdir()) 
[10:21:06.324]                   {
[10:21:06.324]                     obj <- list(time = Sys.time(), condition = cond)
[10:21:06.324]                     file <- tempfile(pattern = class(cond)[1], 
[10:21:06.324]                       tmpdir = path, fileext = ".rds")
[10:21:06.324]                     save_rds(obj, file)
[10:21:06.324]                   }
[10:21:06.324]                   saveImmediateCondition(cond, path = "/tmp/RtmpxnDx6u/.future/immediateConditions")
[10:21:06.324]                   muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.324]                   {
[10:21:06.324]                     inherits <- base::inherits
[10:21:06.324]                     invokeRestart <- base::invokeRestart
[10:21:06.324]                     is.null <- base::is.null
[10:21:06.324]                     muffled <- FALSE
[10:21:06.324]                     if (inherits(cond, "message")) {
[10:21:06.324]                       muffled <- grepl(pattern, "muffleMessage")
[10:21:06.324]                       if (muffled) 
[10:21:06.324]                         invokeRestart("muffleMessage")
[10:21:06.324]                     }
[10:21:06.324]                     else if (inherits(cond, "warning")) {
[10:21:06.324]                       muffled <- grepl(pattern, "muffleWarning")
[10:21:06.324]                       if (muffled) 
[10:21:06.324]                         invokeRestart("muffleWarning")
[10:21:06.324]                     }
[10:21:06.324]                     else if (inherits(cond, "condition")) {
[10:21:06.324]                       if (!is.null(pattern)) {
[10:21:06.324]                         computeRestarts <- base::computeRestarts
[10:21:06.324]                         grepl <- base::grepl
[10:21:06.324]                         restarts <- computeRestarts(cond)
[10:21:06.324]                         for (restart in restarts) {
[10:21:06.324]                           name <- restart$name
[10:21:06.324]                           if (is.null(name)) 
[10:21:06.324]                             next
[10:21:06.324]                           if (!grepl(pattern, name)) 
[10:21:06.324]                             next
[10:21:06.324]                           invokeRestart(restart)
[10:21:06.324]                           muffled <- TRUE
[10:21:06.324]                           break
[10:21:06.324]                         }
[10:21:06.324]                       }
[10:21:06.324]                     }
[10:21:06.324]                     invisible(muffled)
[10:21:06.324]                   }
[10:21:06.324]                   muffleCondition(cond)
[10:21:06.324]                 })
[10:21:06.324]             }))
[10:21:06.324]             future::FutureResult(value = ...future.value$value, 
[10:21:06.324]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.324]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.324]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.324]                     ...future.globalenv.names))
[10:21:06.324]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.324]         }, condition = base::local({
[10:21:06.324]             c <- base::c
[10:21:06.324]             inherits <- base::inherits
[10:21:06.324]             invokeRestart <- base::invokeRestart
[10:21:06.324]             length <- base::length
[10:21:06.324]             list <- base::list
[10:21:06.324]             seq.int <- base::seq.int
[10:21:06.324]             signalCondition <- base::signalCondition
[10:21:06.324]             sys.calls <- base::sys.calls
[10:21:06.324]             `[[` <- base::`[[`
[10:21:06.324]             `+` <- base::`+`
[10:21:06.324]             `<<-` <- base::`<<-`
[10:21:06.324]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.324]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.324]                   3L)]
[10:21:06.324]             }
[10:21:06.324]             function(cond) {
[10:21:06.324]                 is_error <- inherits(cond, "error")
[10:21:06.324]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.324]                   NULL)
[10:21:06.324]                 if (is_error) {
[10:21:06.324]                   sessionInformation <- function() {
[10:21:06.324]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.324]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.324]                       search = base::search(), system = base::Sys.info())
[10:21:06.324]                   }
[10:21:06.324]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.324]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.324]                     cond$call), session = sessionInformation(), 
[10:21:06.324]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.324]                   signalCondition(cond)
[10:21:06.324]                 }
[10:21:06.324]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.324]                 "immediateCondition"))) {
[10:21:06.324]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.324]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.324]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.324]                   if (TRUE && !signal) {
[10:21:06.324]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.324]                     {
[10:21:06.324]                       inherits <- base::inherits
[10:21:06.324]                       invokeRestart <- base::invokeRestart
[10:21:06.324]                       is.null <- base::is.null
[10:21:06.324]                       muffled <- FALSE
[10:21:06.324]                       if (inherits(cond, "message")) {
[10:21:06.324]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.324]                         if (muffled) 
[10:21:06.324]                           invokeRestart("muffleMessage")
[10:21:06.324]                       }
[10:21:06.324]                       else if (inherits(cond, "warning")) {
[10:21:06.324]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.324]                         if (muffled) 
[10:21:06.324]                           invokeRestart("muffleWarning")
[10:21:06.324]                       }
[10:21:06.324]                       else if (inherits(cond, "condition")) {
[10:21:06.324]                         if (!is.null(pattern)) {
[10:21:06.324]                           computeRestarts <- base::computeRestarts
[10:21:06.324]                           grepl <- base::grepl
[10:21:06.324]                           restarts <- computeRestarts(cond)
[10:21:06.324]                           for (restart in restarts) {
[10:21:06.324]                             name <- restart$name
[10:21:06.324]                             if (is.null(name)) 
[10:21:06.324]                               next
[10:21:06.324]                             if (!grepl(pattern, name)) 
[10:21:06.324]                               next
[10:21:06.324]                             invokeRestart(restart)
[10:21:06.324]                             muffled <- TRUE
[10:21:06.324]                             break
[10:21:06.324]                           }
[10:21:06.324]                         }
[10:21:06.324]                       }
[10:21:06.324]                       invisible(muffled)
[10:21:06.324]                     }
[10:21:06.324]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.324]                   }
[10:21:06.324]                 }
[10:21:06.324]                 else {
[10:21:06.324]                   if (TRUE) {
[10:21:06.324]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.324]                     {
[10:21:06.324]                       inherits <- base::inherits
[10:21:06.324]                       invokeRestart <- base::invokeRestart
[10:21:06.324]                       is.null <- base::is.null
[10:21:06.324]                       muffled <- FALSE
[10:21:06.324]                       if (inherits(cond, "message")) {
[10:21:06.324]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.324]                         if (muffled) 
[10:21:06.324]                           invokeRestart("muffleMessage")
[10:21:06.324]                       }
[10:21:06.324]                       else if (inherits(cond, "warning")) {
[10:21:06.324]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.324]                         if (muffled) 
[10:21:06.324]                           invokeRestart("muffleWarning")
[10:21:06.324]                       }
[10:21:06.324]                       else if (inherits(cond, "condition")) {
[10:21:06.324]                         if (!is.null(pattern)) {
[10:21:06.324]                           computeRestarts <- base::computeRestarts
[10:21:06.324]                           grepl <- base::grepl
[10:21:06.324]                           restarts <- computeRestarts(cond)
[10:21:06.324]                           for (restart in restarts) {
[10:21:06.324]                             name <- restart$name
[10:21:06.324]                             if (is.null(name)) 
[10:21:06.324]                               next
[10:21:06.324]                             if (!grepl(pattern, name)) 
[10:21:06.324]                               next
[10:21:06.324]                             invokeRestart(restart)
[10:21:06.324]                             muffled <- TRUE
[10:21:06.324]                             break
[10:21:06.324]                           }
[10:21:06.324]                         }
[10:21:06.324]                       }
[10:21:06.324]                       invisible(muffled)
[10:21:06.324]                     }
[10:21:06.324]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.324]                   }
[10:21:06.324]                 }
[10:21:06.324]             }
[10:21:06.324]         }))
[10:21:06.324]     }, error = function(ex) {
[10:21:06.324]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.324]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.324]                 ...future.rng), started = ...future.startTime, 
[10:21:06.324]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.324]             version = "1.8"), class = "FutureResult")
[10:21:06.324]     }, finally = {
[10:21:06.324]         if (!identical(...future.workdir, getwd())) 
[10:21:06.324]             setwd(...future.workdir)
[10:21:06.324]         {
[10:21:06.324]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.324]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.324]             }
[10:21:06.324]             base::options(...future.oldOptions)
[10:21:06.324]             if (.Platform$OS.type == "windows") {
[10:21:06.324]                 old_names <- names(...future.oldEnvVars)
[10:21:06.324]                 envs <- base::Sys.getenv()
[10:21:06.324]                 names <- names(envs)
[10:21:06.324]                 common <- intersect(names, old_names)
[10:21:06.324]                 added <- setdiff(names, old_names)
[10:21:06.324]                 removed <- setdiff(old_names, names)
[10:21:06.324]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.324]                   envs[common]]
[10:21:06.324]                 NAMES <- toupper(changed)
[10:21:06.324]                 args <- list()
[10:21:06.324]                 for (kk in seq_along(NAMES)) {
[10:21:06.324]                   name <- changed[[kk]]
[10:21:06.324]                   NAME <- NAMES[[kk]]
[10:21:06.324]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.324]                     next
[10:21:06.324]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.324]                 }
[10:21:06.324]                 NAMES <- toupper(added)
[10:21:06.324]                 for (kk in seq_along(NAMES)) {
[10:21:06.324]                   name <- added[[kk]]
[10:21:06.324]                   NAME <- NAMES[[kk]]
[10:21:06.324]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.324]                     next
[10:21:06.324]                   args[[name]] <- ""
[10:21:06.324]                 }
[10:21:06.324]                 NAMES <- toupper(removed)
[10:21:06.324]                 for (kk in seq_along(NAMES)) {
[10:21:06.324]                   name <- removed[[kk]]
[10:21:06.324]                   NAME <- NAMES[[kk]]
[10:21:06.324]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.324]                     next
[10:21:06.324]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.324]                 }
[10:21:06.324]                 if (length(args) > 0) 
[10:21:06.324]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.324]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.324]             }
[10:21:06.324]             else {
[10:21:06.324]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.324]             }
[10:21:06.324]             {
[10:21:06.324]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.324]                   0L) {
[10:21:06.324]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.324]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.324]                   base::options(opts)
[10:21:06.324]                 }
[10:21:06.324]                 {
[10:21:06.324]                   {
[10:21:06.324]                     base::options(mc.cores = ...future.mc.cores.old)
[10:21:06.324]                     NULL
[10:21:06.324]                   }
[10:21:06.324]                   options(future.plan = NULL)
[10:21:06.324]                   if (is.na(NA_character_)) 
[10:21:06.324]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.324]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.324]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.324]                     .init = FALSE)
[10:21:06.324]                 }
[10:21:06.324]             }
[10:21:06.324]         }
[10:21:06.324]     })
[10:21:06.324]     if (TRUE) {
[10:21:06.324]         base::sink(type = "output", split = FALSE)
[10:21:06.324]         if (TRUE) {
[10:21:06.324]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.324]         }
[10:21:06.324]         else {
[10:21:06.324]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.324]         }
[10:21:06.324]         base::close(...future.stdout)
[10:21:06.324]         ...future.stdout <- NULL
[10:21:06.324]     }
[10:21:06.324]     ...future.result$conditions <- ...future.conditions
[10:21:06.324]     ...future.result$finished <- base::Sys.time()
[10:21:06.324]     ...future.result
[10:21:06.324] }
[10:21:06.326] requestCore(): workers = 1
[10:21:06.329] MulticoreFuture started
[10:21:06.330] plan(): Setting new future strategy stack:
[10:21:06.331] result() for MulticoreFuture ...
[10:21:06.330] List of future strategies:
[10:21:06.330] 1. sequential:
[10:21:06.330]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:06.330]    - tweaked: FALSE
[10:21:06.330]    - call: NULL
[10:21:06.331] plan(): nbrOfWorkers() = 1
[10:21:06.333] plan(): Setting new future strategy stack:
[10:21:06.333] List of future strategies:
[10:21:06.333] 1. future:
[10:21:06.333]    - args: function (..., workers = "<NULL>")
[10:21:06.333]    - tweaked: FALSE
[10:21:06.333]    - call: plan(foo)
[10:21:06.334] plan(): nbrOfWorkers() = Inf
[10:21:06.335] result() for MulticoreFuture ...
[10:21:06.335] result() for MulticoreFuture ... done
[10:21:06.336] result() for MulticoreFuture ... done
[10:21:06.336] result() for MulticoreFuture ...
[10:21:06.336] result() for MulticoreFuture ... done
[1] 42
[10:21:06.338] getGlobalsAndPackages() ...
[10:21:06.338] 
[10:21:06.338] - globals: [0] <none>
[10:21:06.338] getGlobalsAndPackages() ... DONE
[10:21:06.339] Packages needed by the future expression (n = 0): <none>
[10:21:06.339] Packages needed by future strategies (n = 0): <none>
[10:21:06.339] {
[10:21:06.339]     {
[10:21:06.339]         {
[10:21:06.339]             ...future.startTime <- base::Sys.time()
[10:21:06.339]             {
[10:21:06.339]                 {
[10:21:06.339]                   {
[10:21:06.339]                     {
[10:21:06.339]                       base::local({
[10:21:06.339]                         has_future <- base::requireNamespace("future", 
[10:21:06.339]                           quietly = TRUE)
[10:21:06.339]                         if (has_future) {
[10:21:06.339]                           ns <- base::getNamespace("future")
[10:21:06.339]                           version <- ns[[".package"]][["version"]]
[10:21:06.339]                           if (is.null(version)) 
[10:21:06.339]                             version <- utils::packageVersion("future")
[10:21:06.339]                         }
[10:21:06.339]                         else {
[10:21:06.339]                           version <- NULL
[10:21:06.339]                         }
[10:21:06.339]                         if (!has_future || version < "1.8.0") {
[10:21:06.339]                           info <- base::c(r_version = base::gsub("R version ", 
[10:21:06.339]                             "", base::R.version$version.string), 
[10:21:06.339]                             platform = base::sprintf("%s (%s-bit)", 
[10:21:06.339]                               base::R.version$platform, 8 * base::.Machine$sizeof.pointer), 
[10:21:06.339]                             os = base::paste(base::Sys.info()[base::c("sysname", 
[10:21:06.339]                               "release", "version")], collapse = " "), 
[10:21:06.339]                             hostname = base::Sys.info()[["nodename"]])
[10:21:06.339]                           info <- base::sprintf("%s: %s", base::names(info), 
[10:21:06.339]                             info)
[10:21:06.339]                           info <- base::paste(info, collapse = "; ")
[10:21:06.339]                           if (!has_future) {
[10:21:06.339]                             msg <- base::sprintf("Package 'future' is not installed on worker (%s)", 
[10:21:06.339]                               info)
[10:21:06.339]                           }
[10:21:06.339]                           else {
[10:21:06.339]                             msg <- base::sprintf("Package 'future' on worker (%s) must be of version >= 1.8.0: %s", 
[10:21:06.339]                               info, version)
[10:21:06.339]                           }
[10:21:06.339]                           base::stop(msg)
[10:21:06.339]                         }
[10:21:06.339]                       })
[10:21:06.339]                     }
[10:21:06.339]                     ...future.mc.cores.old <- base::getOption("mc.cores")
[10:21:06.339]                     base::options(mc.cores = 1L)
[10:21:06.339]                   }
[10:21:06.339]                   ...future.strategy.old <- future::plan("list")
[10:21:06.339]                   options(future.plan = NULL)
[10:21:06.339]                   Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.339]                   future::plan("default", .cleanup = FALSE, .init = FALSE)
[10:21:06.339]                 }
[10:21:06.339]                 ...future.workdir <- getwd()
[10:21:06.339]             }
[10:21:06.339]             ...future.oldOptions <- base::as.list(base::.Options)
[10:21:06.339]             ...future.oldEnvVars <- base::Sys.getenv()
[10:21:06.339]         }
[10:21:06.339]         base::options(future.startup.script = FALSE, future.globals.onMissing = NULL, 
[10:21:06.339]             future.globals.maxSize = NULL, future.globals.method = NULL, 
[10:21:06.339]             future.globals.onMissing = NULL, future.globals.onReference = NULL, 
[10:21:06.339]             future.globals.resolve = NULL, future.resolve.recursive = NULL, 
[10:21:06.339]             future.rng.onMisuse = NULL, future.rng.onMisuse.keepFuture = NULL, 
[10:21:06.339]             future.stdout.windows.reencode = NULL, width = 80L)
[10:21:06.339]         ...future.futureOptionsAdded <- base::setdiff(base::names(base::.Options), 
[10:21:06.339]             base::names(...future.oldOptions))
[10:21:06.339]     }
[10:21:06.339]     if (FALSE) {
[10:21:06.339]     }
[10:21:06.339]     else {
[10:21:06.339]         if (TRUE) {
[10:21:06.339]             ...future.stdout <- base::rawConnection(base::raw(0L), 
[10:21:06.339]                 open = "w")
[10:21:06.339]         }
[10:21:06.339]         else {
[10:21:06.339]             ...future.stdout <- base::file(base::switch(.Platform$OS.type, 
[10:21:06.339]                 windows = "NUL", "/dev/null"), open = "w")
[10:21:06.339]         }
[10:21:06.339]         base::sink(...future.stdout, type = "output", split = FALSE)
[10:21:06.339]         base::on.exit(if (!base::is.null(...future.stdout)) {
[10:21:06.339]             base::sink(type = "output", split = FALSE)
[10:21:06.339]             base::close(...future.stdout)
[10:21:06.339]         }, add = TRUE)
[10:21:06.339]     }
[10:21:06.339]     ...future.frame <- base::sys.nframe()
[10:21:06.339]     ...future.conditions <- base::list()
[10:21:06.339]     ...future.rng <- base::globalenv()$.Random.seed
[10:21:06.339]     if (FALSE) {
[10:21:06.339]         ...future.globalenv.names <- c(base::names(base::.GlobalEnv), 
[10:21:06.339]             "...future.value", "...future.globalenv.names", ".Random.seed")
[10:21:06.339]     }
[10:21:06.339]     ...future.result <- base::tryCatch({
[10:21:06.339]         base::withCallingHandlers({
[10:21:06.339]             ...future.value <- base::withVisible(base::local({
[10:21:06.339]                 withCallingHandlers({
[10:21:06.339]                   {
[10:21:06.339]                     42L
[10:21:06.339]                   }
[10:21:06.339]                 }, immediateCondition = function(cond) {
[10:21:06.339]                   save_rds <- function (object, pathname, ...) 
[10:21:06.339]                   {
[10:21:06.339]                     pathname_tmp <- sprintf("%s.tmp", pathname)
[10:21:06.339]                     if (file_test("-f", pathname_tmp)) {
[10:21:06.339]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.339]                       stopf("Cannot save RDS file because a temporary save file already exists: %s (%0.f bytes; last modified on %s)", 
[10:21:06.339]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.339]                         fi_tmp[["mtime"]])
[10:21:06.339]                     }
[10:21:06.339]                     tryCatch({
[10:21:06.339]                       saveRDS(object, file = pathname_tmp, ...)
[10:21:06.339]                     }, error = function(ex) {
[10:21:06.339]                       msg <- conditionMessage(ex)
[10:21:06.339]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.339]                       msg <- sprintf("saveRDS() failed to save to temporary file %s (%.0f bytes; last modified on %s). The reason was: %s", 
[10:21:06.339]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.339]                         fi_tmp[["mtime"]], msg)
[10:21:06.339]                       ex$message <- msg
[10:21:06.339]                       stop(ex)
[10:21:06.339]                     })
[10:21:06.339]                     stopifnot(file_test("-f", pathname_tmp))
[10:21:06.339]                     res <- file.rename(from = pathname_tmp, to = pathname)
[10:21:06.339]                     if (!res || file_test("-f", pathname_tmp)) {
[10:21:06.339]                       fi_tmp <- file.info(pathname_tmp)
[10:21:06.339]                       fi <- file.info(pathname)
[10:21:06.339]                       msg <- sprintf("save_rds() failed to rename temporary save file %s (%0.f bytes; last modified on %s) to %s (%0.f bytes; last modified on %s)", 
[10:21:06.339]                         sQuote(pathname_tmp), fi_tmp[["size"]], 
[10:21:06.339]                         fi_tmp[["mtime"]], sQuote(pathname), 
[10:21:06.339]                         fi[["size"]], fi[["mtime"]])
[10:21:06.339]                       stop(msg)
[10:21:06.339]                     }
[10:21:06.339]                     invisible(pathname)
[10:21:06.339]                   }
[10:21:06.339]                   saveImmediateCondition <- function (cond, path = immediateConditionsPath(rootPath = rootPath), 
[10:21:06.339]                     rootPath = tempdir()) 
[10:21:06.339]                   {
[10:21:06.339]                     obj <- list(time = Sys.time(), condition = cond)
[10:21:06.339]                     file <- tempfile(pattern = class(cond)[1], 
[10:21:06.339]                       tmpdir = path, fileext = ".rds")
[10:21:06.339]                     save_rds(obj, file)
[10:21:06.339]                   }
[10:21:06.339]                   saveImmediateCondition(cond, path = "/tmp/RtmpxnDx6u/.future/immediateConditions")
[10:21:06.339]                   muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.339]                   {
[10:21:06.339]                     inherits <- base::inherits
[10:21:06.339]                     invokeRestart <- base::invokeRestart
[10:21:06.339]                     is.null <- base::is.null
[10:21:06.339]                     muffled <- FALSE
[10:21:06.339]                     if (inherits(cond, "message")) {
[10:21:06.339]                       muffled <- grepl(pattern, "muffleMessage")
[10:21:06.339]                       if (muffled) 
[10:21:06.339]                         invokeRestart("muffleMessage")
[10:21:06.339]                     }
[10:21:06.339]                     else if (inherits(cond, "warning")) {
[10:21:06.339]                       muffled <- grepl(pattern, "muffleWarning")
[10:21:06.339]                       if (muffled) 
[10:21:06.339]                         invokeRestart("muffleWarning")
[10:21:06.339]                     }
[10:21:06.339]                     else if (inherits(cond, "condition")) {
[10:21:06.339]                       if (!is.null(pattern)) {
[10:21:06.339]                         computeRestarts <- base::computeRestarts
[10:21:06.339]                         grepl <- base::grepl
[10:21:06.339]                         restarts <- computeRestarts(cond)
[10:21:06.339]                         for (restart in restarts) {
[10:21:06.339]                           name <- restart$name
[10:21:06.339]                           if (is.null(name)) 
[10:21:06.339]                             next
[10:21:06.339]                           if (!grepl(pattern, name)) 
[10:21:06.339]                             next
[10:21:06.339]                           invokeRestart(restart)
[10:21:06.339]                           muffled <- TRUE
[10:21:06.339]                           break
[10:21:06.339]                         }
[10:21:06.339]                       }
[10:21:06.339]                     }
[10:21:06.339]                     invisible(muffled)
[10:21:06.339]                   }
[10:21:06.339]                   muffleCondition(cond)
[10:21:06.339]                 })
[10:21:06.339]             }))
[10:21:06.339]             future::FutureResult(value = ...future.value$value, 
[10:21:06.339]                 visible = ...future.value$visible, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.339]                   ...future.rng), globalenv = if (FALSE) 
[10:21:06.339]                   list(added = base::setdiff(base::names(base::.GlobalEnv), 
[10:21:06.339]                     ...future.globalenv.names))
[10:21:06.339]                 else NULL, started = ...future.startTime, version = "1.8")
[10:21:06.339]         }, condition = base::local({
[10:21:06.339]             c <- base::c
[10:21:06.339]             inherits <- base::inherits
[10:21:06.339]             invokeRestart <- base::invokeRestart
[10:21:06.339]             length <- base::length
[10:21:06.339]             list <- base::list
[10:21:06.339]             seq.int <- base::seq.int
[10:21:06.339]             signalCondition <- base::signalCondition
[10:21:06.339]             sys.calls <- base::sys.calls
[10:21:06.339]             `[[` <- base::`[[`
[10:21:06.339]             `+` <- base::`+`
[10:21:06.339]             `<<-` <- base::`<<-`
[10:21:06.339]             sysCalls <- function(calls = sys.calls(), from = 1L) {
[10:21:06.339]                 calls[seq.int(from = from + 12L, to = length(calls) - 
[10:21:06.339]                   3L)]
[10:21:06.339]             }
[10:21:06.339]             function(cond) {
[10:21:06.339]                 is_error <- inherits(cond, "error")
[10:21:06.339]                 ignore <- !is_error && !is.null(NULL) && inherits(cond, 
[10:21:06.339]                   NULL)
[10:21:06.339]                 if (is_error) {
[10:21:06.339]                   sessionInformation <- function() {
[10:21:06.339]                     list(r = base::R.Version(), locale = base::Sys.getlocale(), 
[10:21:06.339]                       rngkind = base::RNGkind(), namespaces = base::loadedNamespaces(), 
[10:21:06.339]                       search = base::search(), system = base::Sys.info())
[10:21:06.339]                   }
[10:21:06.339]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.339]                     1L]] <<- list(condition = cond, calls = c(sysCalls(from = ...future.frame), 
[10:21:06.339]                     cond$call), session = sessionInformation(), 
[10:21:06.339]                     timestamp = base::Sys.time(), signaled = 0L)
[10:21:06.339]                   signalCondition(cond)
[10:21:06.339]                 }
[10:21:06.339]                 else if (!ignore && TRUE && inherits(cond, c("condition", 
[10:21:06.339]                 "immediateCondition"))) {
[10:21:06.339]                   signal <- TRUE && inherits(cond, "immediateCondition")
[10:21:06.339]                   ...future.conditions[[length(...future.conditions) + 
[10:21:06.339]                     1L]] <<- list(condition = cond, signaled = base::as.integer(signal))
[10:21:06.339]                   if (TRUE && !signal) {
[10:21:06.339]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.339]                     {
[10:21:06.339]                       inherits <- base::inherits
[10:21:06.339]                       invokeRestart <- base::invokeRestart
[10:21:06.339]                       is.null <- base::is.null
[10:21:06.339]                       muffled <- FALSE
[10:21:06.339]                       if (inherits(cond, "message")) {
[10:21:06.339]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.339]                         if (muffled) 
[10:21:06.339]                           invokeRestart("muffleMessage")
[10:21:06.339]                       }
[10:21:06.339]                       else if (inherits(cond, "warning")) {
[10:21:06.339]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.339]                         if (muffled) 
[10:21:06.339]                           invokeRestart("muffleWarning")
[10:21:06.339]                       }
[10:21:06.339]                       else if (inherits(cond, "condition")) {
[10:21:06.339]                         if (!is.null(pattern)) {
[10:21:06.339]                           computeRestarts <- base::computeRestarts
[10:21:06.339]                           grepl <- base::grepl
[10:21:06.339]                           restarts <- computeRestarts(cond)
[10:21:06.339]                           for (restart in restarts) {
[10:21:06.339]                             name <- restart$name
[10:21:06.339]                             if (is.null(name)) 
[10:21:06.339]                               next
[10:21:06.339]                             if (!grepl(pattern, name)) 
[10:21:06.339]                               next
[10:21:06.339]                             invokeRestart(restart)
[10:21:06.339]                             muffled <- TRUE
[10:21:06.339]                             break
[10:21:06.339]                           }
[10:21:06.339]                         }
[10:21:06.339]                       }
[10:21:06.339]                       invisible(muffled)
[10:21:06.339]                     }
[10:21:06.339]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.339]                   }
[10:21:06.339]                 }
[10:21:06.339]                 else {
[10:21:06.339]                   if (TRUE) {
[10:21:06.339]                     muffleCondition <- function (cond, pattern = "^muffle") 
[10:21:06.339]                     {
[10:21:06.339]                       inherits <- base::inherits
[10:21:06.339]                       invokeRestart <- base::invokeRestart
[10:21:06.339]                       is.null <- base::is.null
[10:21:06.339]                       muffled <- FALSE
[10:21:06.339]                       if (inherits(cond, "message")) {
[10:21:06.339]                         muffled <- grepl(pattern, "muffleMessage")
[10:21:06.339]                         if (muffled) 
[10:21:06.339]                           invokeRestart("muffleMessage")
[10:21:06.339]                       }
[10:21:06.339]                       else if (inherits(cond, "warning")) {
[10:21:06.339]                         muffled <- grepl(pattern, "muffleWarning")
[10:21:06.339]                         if (muffled) 
[10:21:06.339]                           invokeRestart("muffleWarning")
[10:21:06.339]                       }
[10:21:06.339]                       else if (inherits(cond, "condition")) {
[10:21:06.339]                         if (!is.null(pattern)) {
[10:21:06.339]                           computeRestarts <- base::computeRestarts
[10:21:06.339]                           grepl <- base::grepl
[10:21:06.339]                           restarts <- computeRestarts(cond)
[10:21:06.339]                           for (restart in restarts) {
[10:21:06.339]                             name <- restart$name
[10:21:06.339]                             if (is.null(name)) 
[10:21:06.339]                               next
[10:21:06.339]                             if (!grepl(pattern, name)) 
[10:21:06.339]                               next
[10:21:06.339]                             invokeRestart(restart)
[10:21:06.339]                             muffled <- TRUE
[10:21:06.339]                             break
[10:21:06.339]                           }
[10:21:06.339]                         }
[10:21:06.339]                       }
[10:21:06.339]                       invisible(muffled)
[10:21:06.339]                     }
[10:21:06.339]                     muffleCondition(cond, pattern = "^muffle")
[10:21:06.339]                   }
[10:21:06.339]                 }
[10:21:06.339]             }
[10:21:06.339]         }))
[10:21:06.339]     }, error = function(ex) {
[10:21:06.339]         base::structure(base::list(value = NULL, visible = NULL, 
[10:21:06.339]             conditions = ...future.conditions, rng = !identical(base::globalenv()$.Random.seed, 
[10:21:06.339]                 ...future.rng), started = ...future.startTime, 
[10:21:06.339]             finished = Sys.time(), session_uuid = NA_character_, 
[10:21:06.339]             version = "1.8"), class = "FutureResult")
[10:21:06.339]     }, finally = {
[10:21:06.339]         if (!identical(...future.workdir, getwd())) 
[10:21:06.339]             setwd(...future.workdir)
[10:21:06.339]         {
[10:21:06.339]             if (identical(getOption("nwarnings"), ...future.oldOptions$nwarnings)) {
[10:21:06.339]                 ...future.oldOptions$nwarnings <- NULL
[10:21:06.339]             }
[10:21:06.339]             base::options(...future.oldOptions)
[10:21:06.339]             if (.Platform$OS.type == "windows") {
[10:21:06.339]                 old_names <- names(...future.oldEnvVars)
[10:21:06.339]                 envs <- base::Sys.getenv()
[10:21:06.339]                 names <- names(envs)
[10:21:06.339]                 common <- intersect(names, old_names)
[10:21:06.339]                 added <- setdiff(names, old_names)
[10:21:06.339]                 removed <- setdiff(old_names, names)
[10:21:06.339]                 changed <- common[...future.oldEnvVars[common] != 
[10:21:06.339]                   envs[common]]
[10:21:06.339]                 NAMES <- toupper(changed)
[10:21:06.339]                 args <- list()
[10:21:06.339]                 for (kk in seq_along(NAMES)) {
[10:21:06.339]                   name <- changed[[kk]]
[10:21:06.339]                   NAME <- NAMES[[kk]]
[10:21:06.339]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.339]                     next
[10:21:06.339]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.339]                 }
[10:21:06.339]                 NAMES <- toupper(added)
[10:21:06.339]                 for (kk in seq_along(NAMES)) {
[10:21:06.339]                   name <- added[[kk]]
[10:21:06.339]                   NAME <- NAMES[[kk]]
[10:21:06.339]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.339]                     next
[10:21:06.339]                   args[[name]] <- ""
[10:21:06.339]                 }
[10:21:06.339]                 NAMES <- toupper(removed)
[10:21:06.339]                 for (kk in seq_along(NAMES)) {
[10:21:06.339]                   name <- removed[[kk]]
[10:21:06.339]                   NAME <- NAMES[[kk]]
[10:21:06.339]                   if (name != NAME && is.element(NAME, old_names)) 
[10:21:06.339]                     next
[10:21:06.339]                   args[[name]] <- ...future.oldEnvVars[[name]]
[10:21:06.339]                 }
[10:21:06.339]                 if (length(args) > 0) 
[10:21:06.339]                   base::do.call(base::Sys.setenv, args = args)
[10:21:06.339]                 args <- names <- old_names <- NAMES <- envs <- common <- added <- removed <- NULL
[10:21:06.339]             }
[10:21:06.339]             else {
[10:21:06.339]                 base::do.call(base::Sys.setenv, args = base::as.list(...future.oldEnvVars))
[10:21:06.339]             }
[10:21:06.339]             {
[10:21:06.339]                 if (base::length(...future.futureOptionsAdded) > 
[10:21:06.339]                   0L) {
[10:21:06.339]                   opts <- base::vector("list", length = base::length(...future.futureOptionsAdded))
[10:21:06.339]                   base::names(opts) <- ...future.futureOptionsAdded
[10:21:06.339]                   base::options(opts)
[10:21:06.339]                 }
[10:21:06.339]                 {
[10:21:06.339]                   {
[10:21:06.339]                     base::options(mc.cores = ...future.mc.cores.old)
[10:21:06.339]                     NULL
[10:21:06.339]                   }
[10:21:06.339]                   options(future.plan = NULL)
[10:21:06.339]                   if (is.na(NA_character_)) 
[10:21:06.339]                     Sys.unsetenv("R_FUTURE_PLAN")
[10:21:06.339]                   else Sys.setenv(R_FUTURE_PLAN = NA_character_)
[10:21:06.339]                   future::plan(...future.strategy.old, .cleanup = FALSE, 
[10:21:06.339]                     .init = FALSE)
[10:21:06.339]                 }
[10:21:06.339]             }
[10:21:06.339]         }
[10:21:06.339]     })
[10:21:06.339]     if (TRUE) {
[10:21:06.339]         base::sink(type = "output", split = FALSE)
[10:21:06.339]         if (TRUE) {
[10:21:06.339]             ...future.result$stdout <- base::rawToChar(base::rawConnectionValue(...future.stdout))
[10:21:06.339]         }
[10:21:06.339]         else {
[10:21:06.339]             ...future.result["stdout"] <- base::list(NULL)
[10:21:06.339]         }
[10:21:06.339]         base::close(...future.stdout)
[10:21:06.339]         ...future.stdout <- NULL
[10:21:06.339]     }
[10:21:06.339]     ...future.result$conditions <- ...future.conditions
[10:21:06.339]     ...future.result$finished <- base::Sys.time()
[10:21:06.339]     ...future.result
[10:21:06.339] }
[10:21:06.342] requestCore(): workers = 1
[10:21:06.344] MulticoreFuture started
[10:21:06.345] result() for MulticoreFuture ...
[10:21:06.345] plan(): Setting new future strategy stack:
[10:21:06.345] List of future strategies:
[10:21:06.345] 1. sequential:
[10:21:06.345]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:06.345]    - tweaked: FALSE
[10:21:06.345]    - call: NULL
[10:21:06.346] plan(): nbrOfWorkers() = 1
[10:21:06.348] plan(): Setting new future strategy stack:
[10:21:06.348] List of future strategies:
[10:21:06.348] 1. future:
[10:21:06.348]    - args: function (..., workers = "<NULL>")
[10:21:06.348]    - tweaked: FALSE
[10:21:06.348]    - call: plan(foo)
[10:21:06.349] plan(): nbrOfWorkers() = Inf
[10:21:06.349] result() for MulticoreFuture ...
[10:21:06.350] result() for MulticoreFuture ... done
[10:21:06.350] result() for MulticoreFuture ... done
[10:21:06.350] result() for MulticoreFuture ...
[10:21:06.350] result() for MulticoreFuture ... done
[1] 42
> 
> message("*** Future class - exception ... DONE")
*** Future class - exception ... DONE
> 
> message("*** Future class ... DONE")
*** Future class ... DONE
> 
> source("incl/end.R")
[10:21:06.351] plan(): Setting new future strategy stack:
[10:21:06.351] List of future strategies:
[10:21:06.351] 1. FutureStrategy:
[10:21:06.351]    - args: function (..., envir = parent.frame(), workers = "<NULL>")
[10:21:06.351]    - tweaked: FALSE
[10:21:06.351]    - call: future::plan(oplan)
[10:21:06.352] plan(): nbrOfWorkers() = 1
> 
