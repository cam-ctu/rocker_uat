
R version 4.3.2 (2023-10-31) -- "Eye Holes"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library(testthat)
> library(renv, warn.conflicts = FALSE)
> 
> if (!renv:::renv_tests_supported()) {
+   message("* renv does not support running tests on this platform.")
+   if (!interactive()) quit(status = 0L)
+ }
> 
> test_check("renv")
Starting 2 test processes
[ FAIL 4 | WARN 4 | SKIP 198 | PASS 680 ]

══ Skipped tests (198) ═════════════════════════════════════════════════════════
• empty test (3): 'test-snapshot.R:557:1', 'test-dependencies.R:216:1',
  'test-json.R:140:1'
• failing test; mtime sometimes differs? (1): 'test-files.R:130:3'
• GITHUB_PAT is not set (6): 'test-install.R:112:3', 'test-install.R:155:3',
  'test-install.R:209:3', 'test-retrieve.R:360:3', 'test-update.R:20:3',
  'test-update.R:51:3'
• On CRAN (186): 'test-python.R:15:3', 'test-python.R:29:3',
  'test-python.R:45:3', 'test-python.R:63:3', 'test-python.R:93:3',
  'test-python.R:139:3', 'test-python.R:182:3', 'test-python.R:208:3',
  'test-python.R:236:3', 'test-bioconductor.R:22:3',
  'test-bioconductor.R:60:3', 'test-bioconductor.R:90:3',
  'test-bioconductor.R:120:5', 'test-bioconductor.R:141:3',
  'test-bioconductor.R:177:3', 'test-restore.R:16:3', 'test-restore.R:33:3',
  'test-restore.R:268:3', 'test-restore.R:296:3', 'test-install.R:66:3',
  'test-install.R:198:3', 'test-install.R:256:3', 'test-install.R:263:3',
  'test-install.R:274:3', 'test-install.R:292:3', 'test-install.R:318:3',
  'test-install.R:334:3', 'test-install.R:345:3', 'test-install.R:392:3',
  'test-install.R:415:3', 'test-install.R:436:3', 'test-install.R:459:3',
  'test-install.R:483:3', 'test-install.R:501:3', 'test-install.R:509:3',
  'test-install.R:536:3', 'test-install.R:565:3', 'test-install.R:601:3',
  'test-retrieve.R:4:3', 'test-retrieve.R:20:3', 'test-retrieve.R:36:3',
  'test-retrieve.R:52:3', 'test-retrieve.R:70:3', 'test-retrieve.R:85:3',
  'test-retrieve.R:104:3', 'test-retrieve.R:120:3', 'test-retrieve.R:138:3',
  'test-retrieve.R:153:3', 'test-retrieve.R:161:3', 'test-retrieve.R:282:3',
  'test-retrieve.R:299:3', 'test-retrieve.R:315:3', 'test-retrieve.R:354:3',
  'test-retrieve.R:367:3', 'test-remotes.R:32:3', 'test-remotes.R:205:3',
  'test-acls.R:4:3', 'test-activate.R:4:3', 'test-activate.R:29:3',
  'test-activate.R:50:3', 'test-archive.R:51:3', 'test-autoload.R:3:3',
  'test-available-packages.R:3:3', 'test-available-packages.R:23:3',
  'test-available-packages.R:44:3', 'test-available-packages.R:60:3',
  'test-available-packages.R:78:3', 'test-available-packages.R:90:3',
  'test-available-packages.R:111:3', 'test-available-packages.R:132:3',
  'test-available-packages.R:158:3', 'test-bootstrap.R:4:3',
  'test-bootstrap.R:18:3', 'test-bootstrap.R:32:3', 'test-bootstrap.R:147:3',
  'test-bootstrap.R:168:3', 'test-bootstrap.R:189:3', 'test-bootstrap.R:219:3',
  'test-snapshot.R:23:3', 'test-snapshot.R:36:3', 'test-snapshot.R:111:3',
  'test-snapshot.R:170:3', 'test-snapshot.R:355:3', 'test-snapshot.R:361:3',
  'test-snapshot.R:384:3', 'test-snapshot.R:393:3', 'test-snapshot.R:414:3',
  'test-snapshot.R:432:3', 'test-snapshot.R:445:3', 'test-snapshot.R:485:3',
  'test-snapshot.R:518:3', 'test-snapshot.R:538:3', 'test-snapshot.R:554:3',
  'test-cache.R:3:3', 'test-cache.R:108:3', 'test-cache.R:127:3',
  'test-cache.R:155:3', 'test-cache.R:186:3', 'test-caution.R:3:3',
  'test-caution.R:15:3', 'test-cellar.R:3:3', 'test-checkout.R:18:3',
  'test-config.R:91:3', 'test-dots.R:10:3', 'test-download.R:3:3',
  'test-download.R:60:3', 'test-download.R:116:3', 'test-download.R:143:3',
  'test-download.R:158:3', 'test-files.R:203:3', 'test-history.R:4:3',
  'test-id.R:3:3', 'test-infrastructure.R:4:3', 'test-dependencies.R:97:3',
  'test-dependencies.R:107:3', 'test-dependencies.R:484:3', 'test-json.R:54:3',
  'test-json.R:64:3', 'test-load.R:25:3', 'test-load.R:43:3',
  'test-load.R:57:3', 'test-init.R:3:3', 'test-init.R:12:3',
  'test-init.R:65:3', 'test-init.R:133:3', 'test-init.R:163:3',
  'test-init.R:181:3', 'test-init.R:214:3', 'test-init.R:224:3',
  'test-init.R:234:3', 'test-lockfile-read.R:5:3', 'test-lockfile.R:44:3',
  'test-migrate.R:21:3', 'test-migrate.R:61:3', 'test-modify.R:4:3',
  'test-modify.R:16:3', 'test-mran.R:3:3', 'test-ppm.R:3:3', 'test-ppm.R:15:3',
  'test-ppm.R:27:3', 'test-ppm.R:39:3', 'test-ppm.R:51:3', 'test-ppm.R:59:3',
  'test-ppm.R:86:3', 'test-ppm.R:119:3', 'test-ppm.R:151:3',
  'test-ppm.R:183:3', 'test-ppm.R:216:3', 'test-ppm.R:243:3',
  'test-ppm.R:268:3', 'test-ppm.R:292:3', 'test-ppm.R:319:3',
  'test-ppm.R:344:3', 'test-ppm.R:371:3', 'test-ppm.R:395:3',
  'test-preflight.R:23:3', 'test-lock.R:152:3', 'test-profile.R:3:3',
  'test-profile.R:34:3', 'test-profiles.R:3:3', 'test-profiles.R:34:3',
  'test-r.R:3:3', 'test-r.R:48:3', 'test-reload.R:3:3', 'test-repair.R:4:3',
  'test-repair.R:27:3', 'test-repair.R:55:3', 'test-repos.R:59:3',
  'test-sandbox.R:116:3', 'test-socket.R:4:3', 'test-system.R:3:3',
  'test-status.R:4:3', 'test-status.R:20:3', 'test-status.R:33:3',
  'test-status.R:46:3', 'test-status.R:57:3', 'test-status.R:74:3',
  'test-status.R:86:3', 'test-upgrade.R:4:3', 'test-use.R:4:3',
  'test-use.R:24:3', 'test-utils.R:159:3', 'test-vendor.R:10:3',
  'test-watchdog.R:4:3', 'test-watchdog.R:37:3', 'test-update.R:4:3'
• renv_platform_macos() is not TRUE (1): 'test-retrieve.R:238:3'
• renv_platform_windows() is not TRUE (1): 'test-install.R:224:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-restore.R:6:3'): library permissions are validated before restore ──
renv_install_preflight_permissions(inaccessible) is not FALSE

`actual`:   TRUE 
`expected`: FALSE
── Failure ('test-cache.R:86:3'): package installation does not fail with non-writable cache ──
type == "symlink" is not FALSE

`actual`:   TRUE 
`expected`: FALSE
── Failure ('test-dependencies.R:380:3'): dependencies() doesn't barf on files without read permission ──
`renv_file_read("secrets/secrets.R")` did not throw the expected error.
── Failure ('test-dependencies.R:382:3'): dependencies() doesn't barf on files without read permission ──
NROW(deps) == 0L is not TRUE

`actual`:   FALSE
`expected`: TRUE 

[ FAIL 4 | WARN 4 | SKIP 198 | PASS 680 ]
Error: Test failures
Execution halted
