
R version 4.4.0 (2024-04-24) -- "Puppy Cup"
Copyright (C) 2024 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> source("incl/start.R")
> 
> is_fqdn <- parallelly:::is_fqdn
> is_ip_number <- parallelly:::is_ip_number
> is_localhost <- parallelly:::is_localhost
> find_rshcmd <- parallelly:::find_rshcmd
> 
> message("*** makeClusterPSOCK() ...")
*** makeClusterPSOCK() ...
> 
> message("- makeClusterPSOCK() - internal utility functions")
- makeClusterPSOCK() - internal utility functions
> 
> stopifnot(
+    is_fqdn("a.b"),
+    is_fqdn("a.b.c"),
+   !is_fqdn("a")
+ )
> 
> stopifnot(
+    is_ip_number("1.2.3.4"),
+   !is_ip_number("a"),
+   !is_ip_number("1.2.3"),
+   !is_ip_number("1.2.3.256"),
+   !is_ip_number("1.2.3.-1"),
+   !is_ip_number("1.2.3.a")
+ )
> 
> ## Reset internal cache
> stopifnot(is.na(is_localhost(worker = NULL, hostname = NULL)))
> stopifnot(
+    is_localhost("localhost"),
+    is_localhost("127.0.0.1"),
+    is_localhost(Sys.info()[["nodename"]]),
+    is_localhost(Sys.info()[["nodename"]]), ## cache hit
+   !is_localhost("not.a.localhost.hostname")
+ )
> 
> cmd <- find_rshcmd(must_work = FALSE)
> print(cmd)
$ssh
           ssh 
"/usr/bin/ssh" 
attr(,"type")
[1] "ssh"
attr(,"version")
[1] "OpenSSH_8.9p1 Ubuntu-3ubuntu0.7, OpenSSL 3.0.2 15 Mar 2022"

> 
> 
> message("- makeClusterPSOCK()")
- makeClusterPSOCK()
> 
> cl <- makeClusterPSOCK("<a-non-existing-hostname>", user = "johndoe", master = NULL, revtunnel = FALSE, rshcmd = "my_ssh", renice = TRUE, manual = TRUE, dryrun = TRUE)
[19:05:17.232] [local output] makeClusterPSOCK() ...
[19:05:17.276] [local output] Workers: [n = 1] ‘<a-non-existing-hostname>’
[19:05:17.278] [local output] Base port: 11221
[19:05:17.278] [local output] Getting setup options for 1 cluster nodes ...
[19:05:17.278] [local output]  - Node 1 of 1 ...
[19:05:17.280] [local output] Rscript port: 11221

[19:05:17.281] [local output] Using 'rshcmd': ‘my_ssh’ [type=‘<unknown>’, version=‘<unknown>’]
[19:05:17.281] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:17.281] [local output] Creating node 1 of 1 ...
[19:05:17.282] [local output] - setting up node
[19:05:17.282] [local output] - attempt #1 of 3
----------------------------------------------------------------------
Manually, (i) login into external machine ‘<a-non-existing-hostname>’:

  'my_ssh' -l johndoe <a-non-existing-hostname>

and (ii) start worker #1 from there:

  nice --adjustment=1 '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=99adafdbb12a PORT=11221 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=sequential

Alternatively, start worker #1 from the local machine by combining both steps in a single call:

  'my_ssh' -l johndoe <a-non-existing-hostname> "nice --adjustment=1 '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'options(socketOptions = \"no-delay\")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=99adafdbb12a PORT=11221 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=sequential"

[19:05:17.283] [local output] Creating node 1 of 1 ... done
[19:05:17.283] [local output] Launching of workers completed
[19:05:17.284] [local output] Collecting session information from workers
[19:05:17.284] [local output] makeClusterPSOCK() ... done
> print(cl)
Socket cluster with 0 nodes where 
> 
> cl <- makeClusterPSOCK(1L, port = "random", dryrun = TRUE)
[19:05:17.286] [local output] makeClusterPSOCK() ...
[19:05:17.297] [local output] Workers: [n = 1] ‘localhost’
[19:05:17.298] [local output] Base port: 11277
[19:05:17.299] [local output] Getting setup options for 1 cluster nodes ...
[19:05:17.299] [local output]  - Node 1 of 1 ...
[19:05:17.300] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:17.300] [local output] Rscript port: 11277

[19:05:17.301] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:17.301] [local output] Creating node 1 of 1 ...
[19:05:17.301] [local output] - setting up node
[19:05:17.302] [local output] - attempt #1 of 3
----------------------------------------------------------------------
Manually, start worker #1 on local machine ‘localhost’ with:

  '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11277 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=sequential

[19:05:17.302] [local output] Creating node 1 of 1 ... done
[19:05:17.302] [local output] Launching of workers completed
[19:05:17.302] [local output] Collecting session information from workers
[19:05:17.303] [local output] makeClusterPSOCK() ... done
> print(cl)
Socket cluster with 0 nodes where 
> 
> cl <- makeClusterPSOCK(1L)
[19:05:17.303] [local output] makeClusterPSOCK() ...
[19:05:17.309] [local output] Workers: [n = 1] ‘localhost’
[19:05:17.310] [local output] Base port: 11714
[19:05:17.311] [local output] Getting setup options for 1 cluster nodes ...
[19:05:17.311] [local output]  - Node 1 of 1 ...
[19:05:17.312] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:17.313] Testing if worker's PID can be inferred: ‘'/usr/local/lib/R/bin/Rscript' -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a6a127409.pid")), silent = TRUE)' -e 'file.exists("/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a6a127409.pid")'’
[19:05:17.589] - Possible to infer worker's PID: TRUE
[19:05:17.590] [local output] Rscript port: 11714

[19:05:17.590] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:17.591] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:17.591] [local output] Setting up PSOCK nodes in parallel
[19:05:17.592] List of 36
[19:05:17.592]  $ worker          : chr "localhost"
[19:05:17.592]   ..- attr(*, "localhost")= logi TRUE
[19:05:17.592]  $ master          : chr "localhost"
[19:05:17.592]  $ port            : int 11714
[19:05:17.592]  $ connectTimeout  : num 120
[19:05:17.592]  $ timeout         : num 2592000
[19:05:17.592]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:17.592]  $ homogeneous     : logi TRUE
[19:05:17.592]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:17.592]  $ rscript_envs    : NULL
[19:05:17.592]  $ rscript_libs    : NULL
[19:05:17.592]  $ rscript_startup : NULL
[19:05:17.592]  $ rscript_sh      : chr "sh"
[19:05:17.592]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:17.592]  $ methods         : logi TRUE
[19:05:17.592]  $ socketOptions   : chr "no-delay"
[19:05:17.592]  $ useXDR          : logi FALSE
[19:05:17.592]  $ outfile         : chr "/dev/null"
[19:05:17.592]  $ renice          : int NA
[19:05:17.592]  $ rshcmd          : NULL
[19:05:17.592]  $ user            : chr(0) 
[19:05:17.592]  $ revtunnel       : logi FALSE
[19:05:17.592]  $ rshlogfile      : NULL
[19:05:17.592]  $ rshopts         : chr(0) 
[19:05:17.592]  $ rank            : int 1
[19:05:17.592]  $ manual          : logi FALSE
[19:05:17.592]  $ dryrun          : logi FALSE
[19:05:17.592]  $ quiet           : logi FALSE
[19:05:17.592]  $ setup_strategy  : chr "parallel"
[19:05:17.592]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:17.592]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a6a127409.pid"
[19:05:17.592]  $ rshcmd_label    : NULL
[19:05:17.592]  $ rsh_call        : NULL
[19:05:17.592]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:17.592]  $ localMachine    : logi TRUE
[19:05:17.592]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:17.592]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:17.592]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:17.592]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:17.592]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:17.592]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:17.592]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:17.592]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:17.592]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:17.592]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:17.592]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:17.592]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:17.592]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:17.592]  $ arguments       :List of 28
[19:05:17.592]   ..$ worker          : chr "localhost"
[19:05:17.592]   ..$ master          : NULL
[19:05:17.592]   ..$ port            : int 11714
[19:05:17.592]   ..$ connectTimeout  : num 120
[19:05:17.592]   ..$ timeout         : num 2592000
[19:05:17.592]   ..$ rscript         : NULL
[19:05:17.592]   ..$ homogeneous     : NULL
[19:05:17.592]   ..$ rscript_args    : NULL
[19:05:17.592]   ..$ rscript_envs    : NULL
[19:05:17.592]   ..$ rscript_libs    : NULL
[19:05:17.592]   ..$ rscript_startup : NULL
[19:05:17.592]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:17.592]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:17.592]   ..$ methods         : logi TRUE
[19:05:17.592]   ..$ socketOptions   : chr "no-delay"
[19:05:17.592]   ..$ useXDR          : logi FALSE
[19:05:17.592]   ..$ outfile         : chr "/dev/null"
[19:05:17.592]   ..$ renice          : int NA
[19:05:17.592]   ..$ rshcmd          : NULL
[19:05:17.592]   ..$ user            : NULL
[19:05:17.592]   ..$ revtunnel       : logi NA
[19:05:17.592]   ..$ rshlogfile      : NULL
[19:05:17.592]   ..$ rshopts         : NULL
[19:05:17.592]   ..$ rank            : int 1
[19:05:17.592]   ..$ manual          : logi FALSE
[19:05:17.592]   ..$ dryrun          : logi FALSE
[19:05:17.592]   ..$ quiet           : logi FALSE
[19:05:17.592]   ..$ setup_strategy  : chr "parallel"
[19:05:17.592]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:17.629] [local output] System call to launch all workers:
[19:05:17.629] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a6a127409.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11714 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:17.629] [local output] Starting PSOCK main server
[19:05:17.637] [local output] Workers launched
[19:05:17.638] [local output] Waiting for workers to connect back
[19:05:17.638]  - [local output] 0 workers out of 1 ready
[19:05:17.917]  - [local output] 0 workers out of 1 ready
[19:05:17.917]  - [local output] 1 workers out of 1 ready
[19:05:17.918] [local output] Launching of workers completed
[19:05:17.918] [local output] Collecting session information from workers
[19:05:17.919] [local output]  - Worker #1 of 1
[19:05:17.920] [local output] makeClusterPSOCK() ... done
> print(cl)
Socket cluster with 1 nodes where 1 node is on host ‘localhost’ (R version 4.4.0 (2024-04-24), platform x86_64-pc-linux-gnu)
> node <- cl[[1]]
> utils::str(node)
List of 4
 $ con         : 'sockconn' int 4
  ..- attr(*, "conn_id")=<externalptr> 
 $ host        : chr "localhost"
  ..- attr(*, "localhost")= logi TRUE
 $ rank        : int 0
 $ session_info:List of 6
  ..$ r      :List of 15
  .. ..$ platform      : chr "x86_64-pc-linux-gnu"
  .. ..$ arch          : chr "x86_64"
  .. ..$ os            : chr "linux-gnu"
  .. ..$ system        : chr "x86_64, linux-gnu"
  .. ..$ status        : chr ""
  .. ..$ major         : chr "4"
  .. ..$ minor         : chr "4.0"
  .. ..$ year          : chr "2024"
  .. ..$ month         : chr "04"
  .. ..$ day           : chr "24"
  .. ..$ svn rev       : chr "86474"
  .. ..$ language      : chr "R"
  .. ..$ version.string: chr "R version 4.4.0 (2024-04-24)"
  .. ..$ nickname      : chr "Puppy Cup"
  .. ..$ os.type       : chr "unix"
  ..$ system :List of 8
  .. ..$ sysname       : chr "Linux"
  .. ..$ release       : chr "6.8.0-48-generic"
  .. ..$ version       : chr "#48-Ubuntu SMP PREEMPT_DYNAMIC Fri Sep 27 14:04:52 UTC 2024"
  .. ..$ nodename      : chr "99adafdbb12a"
  .. ..$ machine       : chr "x86_64"
  .. ..$ login         : chr "unknown"
  .. ..$ user          : chr "rstudio"
  .. ..$ effective_user: chr "rstudio"
  ..$ libs   : chr [1:2] "/usr/local/lib/R/site-library" "/usr/local/lib/R/library"
  ..$ pkgs   : NULL
  ..$ pwd    : chr "/home/rstudio/work/GitHub/rocker_uat/packages/parallelly/parallelly-tests"
  ..$ process:List of 1
  .. ..$ pid: int 353363
 - attr(*, "options")=List of 35
  ..$ worker          : chr "localhost"
  .. ..- attr(*, "localhost")= logi TRUE
  ..$ master          : chr "localhost"
  ..$ port            : int 11714
  ..$ connectTimeout  : num 120
  ..$ timeout         : num 2592000
  ..$ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
  ..$ homogeneous     : logi TRUE
  ..$ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
  ..$ rscript_envs    : NULL
  ..$ rscript_libs    : NULL
  ..$ rscript_startup : NULL
  ..$ rscript_sh      : chr "sh"
  ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
  ..$ methods         : logi TRUE
  ..$ socketOptions   : chr "no-delay"
  ..$ useXDR          : logi FALSE
  ..$ outfile         : chr "/dev/null"
  ..$ renice          : int NA
  ..$ rshcmd          : NULL
  ..$ user            : chr(0) 
  ..$ revtunnel       : logi FALSE
  ..$ rshlogfile      : NULL
  ..$ rshopts         : chr(0) 
  ..$ rank            : int 0
  ..$ manual          : logi FALSE
  ..$ dryrun          : logi FALSE
  ..$ quiet           : logi FALSE
  ..$ setup_strategy  : chr "parallel"
  ..$ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
  ..$ rshcmd_label    : NULL
  ..$ rsh_call        : NULL
  ..$ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
  ..$ localMachine    : logi TRUE
  ..$ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
    master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
        2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
        30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
    rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
        "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
        "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
        "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
        FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
        NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
        NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
    setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
        "parallel"), action = c("launch", "options"), verbose = FALSE)  
  ..$ arguments       :List of 28
  .. ..$ worker          : chr "localhost"
  .. ..$ master          : NULL
  .. ..$ port            : int 11714
  .. ..$ connectTimeout  : num 120
  .. ..$ timeout         : num 2592000
  .. ..$ rscript         : NULL
  .. ..$ homogeneous     : NULL
  .. ..$ rscript_args    : NULL
  .. ..$ rscript_envs    : NULL
  .. ..$ rscript_libs    : NULL
  .. ..$ rscript_startup : NULL
  .. ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
  .. ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
  .. ..$ methods         : logi TRUE
  .. ..$ socketOptions   : chr "no-delay"
  .. ..$ useXDR          : logi FALSE
  .. ..$ outfile         : chr "/dev/null"
  .. ..$ renice          : int NA
  .. ..$ rshcmd          : NULL
  .. ..$ user            : NULL
  .. ..$ revtunnel       : logi NA
  .. ..$ rshlogfile      : NULL
  .. ..$ rshopts         : NULL
  .. ..$ rank            : int 1
  .. ..$ manual          : logi FALSE
  .. ..$ dryrun          : logi FALSE
  .. ..$ quiet           : logi FALSE
  .. ..$ setup_strategy  : chr "parallel"
  ..- attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
 - attr(*, "class")= chr [1:2] "RichSOCKnode" "SOCK0node"
> stopifnot(isTRUE(attr(node[["host"]], "localhost")))
> parallel::stopCluster(cl)
> 
> 
> message("- makeClusterPSOCK() - useXDR = TRUE/FALSE")
- makeClusterPSOCK() - useXDR = TRUE/FALSE
> 
> for (xdr in c(TRUE, FALSE)) {
+   cl <- makeClusterPSOCK(1L, useXDR = xdr)
+   node <- cl[[1]]
+   stopifnot(
+     is.list(node),
+     inherits(node, if (xdr) "SOCKnode" else "SOCK0node"),
+     "session_info" %in% names(node)
+   )
+   si <- node[["session_info"]]
+   stopifnot(is.list(si))
+   parallel::stopCluster(cl)
+ }
[19:05:18.013] [local output] makeClusterPSOCK() ...
[19:05:18.022] [local output] Workers: [n = 1] ‘localhost’
[19:05:18.023] [local output] Base port: 11764
[19:05:18.023] [local output] Getting setup options for 1 cluster nodes ...
[19:05:18.024] [local output]  - Node 1 of 1 ...
[19:05:18.024] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:18.025] [local output] Rscript port: 11764

[19:05:18.026] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:18.026] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:18.027] [local output] Setting up PSOCK nodes in parallel
[19:05:18.027] List of 36
[19:05:18.027]  $ worker          : chr "localhost"
[19:05:18.027]   ..- attr(*, "localhost")= logi TRUE
[19:05:18.027]  $ master          : chr "localhost"
[19:05:18.027]  $ port            : int 11764
[19:05:18.027]  $ connectTimeout  : num 120
[19:05:18.027]  $ timeout         : num 2592000
[19:05:18.027]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:18.027]  $ homogeneous     : logi TRUE
[19:05:18.027]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:18.027]  $ rscript_envs    : NULL
[19:05:18.027]  $ rscript_libs    : NULL
[19:05:18.027]  $ rscript_startup : NULL
[19:05:18.027]  $ rscript_sh      : chr "sh"
[19:05:18.027]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.027]  $ methods         : logi TRUE
[19:05:18.027]  $ socketOptions   : chr "no-delay"
[19:05:18.027]  $ useXDR          : logi TRUE
[19:05:18.027]  $ outfile         : chr "/dev/null"
[19:05:18.027]  $ renice          : int NA
[19:05:18.027]  $ rshcmd          : NULL
[19:05:18.027]  $ user            : chr(0) 
[19:05:18.027]  $ revtunnel       : logi FALSE
[19:05:18.027]  $ rshlogfile      : NULL
[19:05:18.027]  $ rshopts         : chr(0) 
[19:05:18.027]  $ rank            : int 1
[19:05:18.027]  $ manual          : logi FALSE
[19:05:18.027]  $ dryrun          : logi FALSE
[19:05:18.027]  $ quiet           : logi FALSE
[19:05:18.027]  $ setup_strategy  : chr "parallel"
[19:05:18.027]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.027]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a31b99ee3.pid"
[19:05:18.027]  $ rshcmd_label    : NULL
[19:05:18.027]  $ rsh_call        : NULL
[19:05:18.027]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.027]  $ localMachine    : logi TRUE
[19:05:18.027]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:18.027]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:18.027]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:18.027]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:18.027]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:18.027]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:18.027]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:18.027]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:18.027]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:18.027]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:18.027]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:18.027]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:18.027]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:18.027]  $ arguments       :List of 28
[19:05:18.027]   ..$ worker          : chr "localhost"
[19:05:18.027]   ..$ master          : NULL
[19:05:18.027]   ..$ port            : int 11764
[19:05:18.027]   ..$ connectTimeout  : num 120
[19:05:18.027]   ..$ timeout         : num 2592000
[19:05:18.027]   ..$ rscript         : NULL
[19:05:18.027]   ..$ homogeneous     : NULL
[19:05:18.027]   ..$ rscript_args    : NULL
[19:05:18.027]   ..$ rscript_envs    : NULL
[19:05:18.027]   ..$ rscript_libs    : NULL
[19:05:18.027]   ..$ rscript_startup : NULL
[19:05:18.027]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:18.027]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.027]   ..$ methods         : logi TRUE
[19:05:18.027]   ..$ socketOptions   : chr "no-delay"
[19:05:18.027]   ..$ useXDR          : logi TRUE
[19:05:18.027]   ..$ outfile         : chr "/dev/null"
[19:05:18.027]   ..$ renice          : int NA
[19:05:18.027]   ..$ rshcmd          : NULL
[19:05:18.027]   ..$ user            : NULL
[19:05:18.027]   ..$ revtunnel       : logi NA
[19:05:18.027]   ..$ rshlogfile      : NULL
[19:05:18.027]   ..$ rshopts         : NULL
[19:05:18.027]   ..$ rank            : int 1
[19:05:18.027]   ..$ manual          : logi FALSE
[19:05:18.027]   ..$ dryrun          : logi FALSE
[19:05:18.027]   ..$ quiet           : logi FALSE
[19:05:18.027]   ..$ setup_strategy  : chr "parallel"
[19:05:18.027]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:18.059] [local output] System call to launch all workers:
[19:05:18.060] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a31b99ee3.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11764 OUT=/dev/null TIMEOUT=2592000 XDR=TRUE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:18.060] [local output] Starting PSOCK main server
[19:05:18.062] [local output] Workers launched
[19:05:18.062] [local output] Waiting for workers to connect back
[19:05:18.062]  - [local output] 0 workers out of 1 ready
[19:05:18.326]  - [local output] 0 workers out of 1 ready
[19:05:18.327]  - [local output] 1 workers out of 1 ready
[19:05:18.327] [local output] Launching of workers completed
[19:05:18.327] [local output] Collecting session information from workers
[19:05:18.328] [local output]  - Worker #1 of 1
[19:05:18.328] [local output] makeClusterPSOCK() ... done
[19:05:18.329] [local output] makeClusterPSOCK() ...
[19:05:18.334] [local output] Workers: [n = 1] ‘localhost’
[19:05:18.336] [local output] Base port: 11117
[19:05:18.336] [local output] Getting setup options for 1 cluster nodes ...
[19:05:18.336] [local output]  - Node 1 of 1 ...
[19:05:18.337] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:18.338] [local output] Rscript port: 11117

[19:05:18.338] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:18.339] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:18.339] [local output] Setting up PSOCK nodes in parallel
[19:05:18.339] List of 36
[19:05:18.339]  $ worker          : chr "localhost"
[19:05:18.339]   ..- attr(*, "localhost")= logi TRUE
[19:05:18.339]  $ master          : chr "localhost"
[19:05:18.339]  $ port            : int 11117
[19:05:18.339]  $ connectTimeout  : num 120
[19:05:18.339]  $ timeout         : num 2592000
[19:05:18.339]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:18.339]  $ homogeneous     : logi TRUE
[19:05:18.339]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:18.339]  $ rscript_envs    : NULL
[19:05:18.339]  $ rscript_libs    : NULL
[19:05:18.339]  $ rscript_startup : NULL
[19:05:18.339]  $ rscript_sh      : chr "sh"
[19:05:18.339]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.339]  $ methods         : logi TRUE
[19:05:18.339]  $ socketOptions   : chr "no-delay"
[19:05:18.339]  $ useXDR          : logi FALSE
[19:05:18.339]  $ outfile         : chr "/dev/null"
[19:05:18.339]  $ renice          : int NA
[19:05:18.339]  $ rshcmd          : NULL
[19:05:18.339]  $ user            : chr(0) 
[19:05:18.339]  $ revtunnel       : logi FALSE
[19:05:18.339]  $ rshlogfile      : NULL
[19:05:18.339]  $ rshopts         : chr(0) 
[19:05:18.339]  $ rank            : int 1
[19:05:18.339]  $ manual          : logi FALSE
[19:05:18.339]  $ dryrun          : logi FALSE
[19:05:18.339]  $ quiet           : logi FALSE
[19:05:18.339]  $ setup_strategy  : chr "parallel"
[19:05:18.339]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.339]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a449cb6e5.pid"
[19:05:18.339]  $ rshcmd_label    : NULL
[19:05:18.339]  $ rsh_call        : NULL
[19:05:18.339]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.339]  $ localMachine    : logi TRUE
[19:05:18.339]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:18.339]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:18.339]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:18.339]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:18.339]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:18.339]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:18.339]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:18.339]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:18.339]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:18.339]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:18.339]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:18.339]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:18.339]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:18.339]  $ arguments       :List of 28
[19:05:18.339]   ..$ worker          : chr "localhost"
[19:05:18.339]   ..$ master          : NULL
[19:05:18.339]   ..$ port            : int 11117
[19:05:18.339]   ..$ connectTimeout  : num 120
[19:05:18.339]   ..$ timeout         : num 2592000
[19:05:18.339]   ..$ rscript         : NULL
[19:05:18.339]   ..$ homogeneous     : NULL
[19:05:18.339]   ..$ rscript_args    : NULL
[19:05:18.339]   ..$ rscript_envs    : NULL
[19:05:18.339]   ..$ rscript_libs    : NULL
[19:05:18.339]   ..$ rscript_startup : NULL
[19:05:18.339]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:18.339]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.339]   ..$ methods         : logi TRUE
[19:05:18.339]   ..$ socketOptions   : chr "no-delay"
[19:05:18.339]   ..$ useXDR          : logi FALSE
[19:05:18.339]   ..$ outfile         : chr "/dev/null"
[19:05:18.339]   ..$ renice          : int NA
[19:05:18.339]   ..$ rshcmd          : NULL
[19:05:18.339]   ..$ user            : NULL
[19:05:18.339]   ..$ revtunnel       : logi NA
[19:05:18.339]   ..$ rshlogfile      : NULL
[19:05:18.339]   ..$ rshopts         : NULL
[19:05:18.339]   ..$ rank            : int 1
[19:05:18.339]   ..$ manual          : logi FALSE
[19:05:18.339]   ..$ dryrun          : logi FALSE
[19:05:18.339]   ..$ quiet           : logi FALSE
[19:05:18.339]   ..$ setup_strategy  : chr "parallel"
[19:05:18.339]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:18.382] [local output] System call to launch all workers:
[19:05:18.383] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a449cb6e5.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11117 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:18.383] [local output] Starting PSOCK main server
[19:05:18.384] [local output] Workers launched
[19:05:18.385] [local output] Waiting for workers to connect back
[19:05:18.385]  - [local output] 0 workers out of 1 ready
[19:05:18.650]  - [local output] 0 workers out of 1 ready
[19:05:18.651]  - [local output] 1 workers out of 1 ready
[19:05:18.651] [local output] Launching of workers completed
[19:05:18.651] [local output] Collecting session information from workers
[19:05:18.652] [local output]  - Worker #1 of 1
[19:05:18.653] [local output] makeClusterPSOCK() ... done
> 
> message("- makeClusterPSOCK() - argument 'socketOptions'")
- makeClusterPSOCK() - argument 'socketOptions'
> 
> for (value in list(NULL, "NULL", "no-delay")) {
+   cl <- makeClusterPSOCK(1L, socketOptions = value)
+   y <- parallel::clusterEvalQ(cl, 42L)[[1]]
+   stopifnot(identical(y, 42L))
+   parallel::stopCluster(cl)
+ }
[19:05:18.660] [local output] makeClusterPSOCK() ...
[19:05:18.666] [local output] Workers: [n = 1] ‘localhost’
[19:05:18.667] [local output] Base port: 11350
[19:05:18.667] [local output] Getting setup options for 1 cluster nodes ...
[19:05:18.667] [local output]  - Node 1 of 1 ...
[19:05:18.668] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:18.669] [local output] Rscript port: 11350

[19:05:18.670] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:18.670] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:18.670] [local output] Setting up PSOCK nodes in parallel
[19:05:18.670] List of 36
[19:05:18.670]  $ worker          : chr "localhost"
[19:05:18.670]   ..- attr(*, "localhost")= logi TRUE
[19:05:18.670]  $ master          : chr "localhost"
[19:05:18.670]  $ port            : int 11350
[19:05:18.670]  $ connectTimeout  : num 120
[19:05:18.670]  $ timeout         : num 2592000
[19:05:18.670]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:18.670]  $ homogeneous     : logi TRUE
[19:05:18.670]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:18.670]  $ rscript_envs    : NULL
[19:05:18.670]  $ rscript_libs    : NULL
[19:05:18.670]  $ rscript_startup : NULL
[19:05:18.670]  $ rscript_sh      : chr "sh"
[19:05:18.670]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.670]  $ methods         : logi TRUE
[19:05:18.670]  $ socketOptions   : NULL
[19:05:18.670]  $ useXDR          : logi FALSE
[19:05:18.670]  $ outfile         : chr "/dev/null"
[19:05:18.670]  $ renice          : int NA
[19:05:18.670]  $ rshcmd          : NULL
[19:05:18.670]  $ user            : chr(0) 
[19:05:18.670]  $ revtunnel       : logi FALSE
[19:05:18.670]  $ rshlogfile      : NULL
[19:05:18.670]  $ rshopts         : chr(0) 
[19:05:18.670]  $ rank            : int 1
[19:05:18.670]  $ manual          : logi FALSE
[19:05:18.670]  $ dryrun          : logi FALSE
[19:05:18.670]  $ quiet           : logi FALSE
[19:05:18.670]  $ setup_strategy  : chr "parallel"
[19:05:18.670]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.670]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a2409728f.pid"
[19:05:18.670]  $ rshcmd_label    : NULL
[19:05:18.670]  $ rsh_call        : NULL
[19:05:18.670]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:18.670]  $ localMachine    : logi TRUE
[19:05:18.670]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:18.670]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:18.670]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:18.670]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:18.670]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:18.670]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:18.670]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:18.670]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:18.670]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:18.670]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:18.670]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:18.670]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:18.670]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:18.670]  $ arguments       :List of 28
[19:05:18.670]   ..$ worker          : chr "localhost"
[19:05:18.670]   ..$ master          : NULL
[19:05:18.670]   ..$ port            : int 11350
[19:05:18.670]   ..$ connectTimeout  : num 120
[19:05:18.670]   ..$ timeout         : num 2592000
[19:05:18.670]   ..$ rscript         : NULL
[19:05:18.670]   ..$ homogeneous     : NULL
[19:05:18.670]   ..$ rscript_args    : NULL
[19:05:18.670]   ..$ rscript_envs    : NULL
[19:05:18.670]   ..$ rscript_libs    : NULL
[19:05:18.670]   ..$ rscript_startup : NULL
[19:05:18.670]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:18.670]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:18.670]   ..$ methods         : logi TRUE
[19:05:18.670]   ..$ socketOptions   : NULL
[19:05:18.670]   ..$ useXDR          : logi FALSE
[19:05:18.670]   ..$ outfile         : chr "/dev/null"
[19:05:18.670]   ..$ renice          : int NA
[19:05:18.670]   ..$ rshcmd          : NULL
[19:05:18.670]   ..$ user            : NULL
[19:05:18.670]   ..$ revtunnel       : logi NA
[19:05:18.670]   ..$ rshlogfile      : NULL
[19:05:18.670]   ..$ rshopts         : NULL
[19:05:18.670]   ..$ rank            : int 1
[19:05:18.670]   ..$ manual          : logi FALSE
[19:05:18.670]   ..$ dryrun          : logi FALSE
[19:05:18.670]   ..$ quiet           : logi FALSE
[19:05:18.670]   ..$ setup_strategy  : chr "parallel"
[19:05:18.670]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:18.707] [local output] System call to launch all workers:
[19:05:18.707] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a2409728f.pid")), silent = TRUE)' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11350 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:18.708] [local output] Starting PSOCK main server
[19:05:18.709] [local output] Workers launched
[19:05:18.710] [local output] Waiting for workers to connect back
[19:05:18.710]  - [local output] 0 workers out of 1 ready
[19:05:18.988]  - [local output] 0 workers out of 1 ready
[19:05:18.989]  - [local output] 1 workers out of 1 ready
[19:05:18.989] [local output] Launching of workers completed
[19:05:18.989] [local output] Collecting session information from workers
[19:05:18.990] [local output]  - Worker #1 of 1
[19:05:18.991] [local output] makeClusterPSOCK() ... done
[19:05:18.992] [local output] makeClusterPSOCK() ...
[19:05:18.998] [local output] Workers: [n = 1] ‘localhost’
[19:05:18.999] [local output] Base port: 11907
[19:05:18.999] [local output] Getting setup options for 1 cluster nodes ...
[19:05:18.999] [local output]  - Node 1 of 1 ...
[19:05:19.000] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:19.001] [local output] Rscript port: 11907

[19:05:19.001] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:19.002] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:19.002] [local output] Setting up PSOCK nodes in parallel
[19:05:19.002] List of 36
[19:05:19.002]  $ worker          : chr "localhost"
[19:05:19.002]   ..- attr(*, "localhost")= logi TRUE
[19:05:19.002]  $ master          : chr "localhost"
[19:05:19.002]  $ port            : int 11907
[19:05:19.002]  $ connectTimeout  : num 120
[19:05:19.002]  $ timeout         : num 2592000
[19:05:19.002]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:19.002]  $ homogeneous     : logi TRUE
[19:05:19.002]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:19.002]  $ rscript_envs    : NULL
[19:05:19.002]  $ rscript_libs    : NULL
[19:05:19.002]  $ rscript_startup : NULL
[19:05:19.002]  $ rscript_sh      : chr "sh"
[19:05:19.002]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.002]  $ methods         : logi TRUE
[19:05:19.002]  $ socketOptions   : NULL
[19:05:19.002]  $ useXDR          : logi FALSE
[19:05:19.002]  $ outfile         : chr "/dev/null"
[19:05:19.002]  $ renice          : int NA
[19:05:19.002]  $ rshcmd          : NULL
[19:05:19.002]  $ user            : chr(0) 
[19:05:19.002]  $ revtunnel       : logi FALSE
[19:05:19.002]  $ rshlogfile      : NULL
[19:05:19.002]  $ rshopts         : chr(0) 
[19:05:19.002]  $ rank            : int 1
[19:05:19.002]  $ manual          : logi FALSE
[19:05:19.002]  $ dryrun          : logi FALSE
[19:05:19.002]  $ quiet           : logi FALSE
[19:05:19.002]  $ setup_strategy  : chr "parallel"
[19:05:19.002]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.002]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a542fb9ea.pid"
[19:05:19.002]  $ rshcmd_label    : NULL
[19:05:19.002]  $ rsh_call        : NULL
[19:05:19.002]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.002]  $ localMachine    : logi TRUE
[19:05:19.002]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:19.002]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:19.002]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:19.002]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:19.002]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:19.002]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:19.002]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:19.002]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:19.002]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:19.002]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:19.002]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:19.002]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:19.002]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:19.002]  $ arguments       :List of 28
[19:05:19.002]   ..$ worker          : chr "localhost"
[19:05:19.002]   ..$ master          : NULL
[19:05:19.002]   ..$ port            : int 11907
[19:05:19.002]   ..$ connectTimeout  : num 120
[19:05:19.002]   ..$ timeout         : num 2592000
[19:05:19.002]   ..$ rscript         : NULL
[19:05:19.002]   ..$ homogeneous     : NULL
[19:05:19.002]   ..$ rscript_args    : NULL
[19:05:19.002]   ..$ rscript_envs    : NULL
[19:05:19.002]   ..$ rscript_libs    : NULL
[19:05:19.002]   ..$ rscript_startup : NULL
[19:05:19.002]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:19.002]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.002]   ..$ methods         : logi TRUE
[19:05:19.002]   ..$ socketOptions   : chr "NULL"
[19:05:19.002]   ..$ useXDR          : logi FALSE
[19:05:19.002]   ..$ outfile         : chr "/dev/null"
[19:05:19.002]   ..$ renice          : int NA
[19:05:19.002]   ..$ rshcmd          : NULL
[19:05:19.002]   ..$ user            : NULL
[19:05:19.002]   ..$ revtunnel       : logi NA
[19:05:19.002]   ..$ rshlogfile      : NULL
[19:05:19.002]   ..$ rshopts         : NULL
[19:05:19.002]   ..$ rank            : int 1
[19:05:19.002]   ..$ manual          : logi FALSE
[19:05:19.002]   ..$ dryrun          : logi FALSE
[19:05:19.002]   ..$ quiet           : logi FALSE
[19:05:19.002]   ..$ setup_strategy  : chr "parallel"
[19:05:19.002]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:19.039] [local output] System call to launch all workers:
[19:05:19.039] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a542fb9ea.pid")), silent = TRUE)' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11907 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:19.040] [local output] Starting PSOCK main server
[19:05:19.042] [local output] Workers launched
[19:05:19.042] [local output] Waiting for workers to connect back
[19:05:19.042]  - [local output] 0 workers out of 1 ready
[19:05:19.307]  - [local output] 0 workers out of 1 ready
[19:05:19.307]  - [local output] 1 workers out of 1 ready
[19:05:19.307] [local output] Launching of workers completed
[19:05:19.308] [local output] Collecting session information from workers
[19:05:19.309] [local output]  - Worker #1 of 1
[19:05:19.309] [local output] makeClusterPSOCK() ... done
[19:05:19.312] [local output] makeClusterPSOCK() ...
[19:05:19.318] [local output] Workers: [n = 1] ‘localhost’
[19:05:19.319] [local output] Base port: 11189
[19:05:19.319] [local output] Getting setup options for 1 cluster nodes ...
[19:05:19.319] [local output]  - Node 1 of 1 ...
[19:05:19.320] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:19.321] [local output] Rscript port: 11189

[19:05:19.321] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:19.322] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:19.322] [local output] Setting up PSOCK nodes in parallel
[19:05:19.322] List of 36
[19:05:19.322]  $ worker          : chr "localhost"
[19:05:19.322]   ..- attr(*, "localhost")= logi TRUE
[19:05:19.322]  $ master          : chr "localhost"
[19:05:19.322]  $ port            : int 11189
[19:05:19.322]  $ connectTimeout  : num 120
[19:05:19.322]  $ timeout         : num 2592000
[19:05:19.322]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:19.322]  $ homogeneous     : logi TRUE
[19:05:19.322]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:19.322]  $ rscript_envs    : NULL
[19:05:19.322]  $ rscript_libs    : NULL
[19:05:19.322]  $ rscript_startup : NULL
[19:05:19.322]  $ rscript_sh      : chr "sh"
[19:05:19.322]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.322]  $ methods         : logi TRUE
[19:05:19.322]  $ socketOptions   : chr "no-delay"
[19:05:19.322]  $ useXDR          : logi FALSE
[19:05:19.322]  $ outfile         : chr "/dev/null"
[19:05:19.322]  $ renice          : int NA
[19:05:19.322]  $ rshcmd          : NULL
[19:05:19.322]  $ user            : chr(0) 
[19:05:19.322]  $ revtunnel       : logi FALSE
[19:05:19.322]  $ rshlogfile      : NULL
[19:05:19.322]  $ rshopts         : chr(0) 
[19:05:19.322]  $ rank            : int 1
[19:05:19.322]  $ manual          : logi FALSE
[19:05:19.322]  $ dryrun          : logi FALSE
[19:05:19.322]  $ quiet           : logi FALSE
[19:05:19.322]  $ setup_strategy  : chr "parallel"
[19:05:19.322]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.322]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a751bc836.pid"
[19:05:19.322]  $ rshcmd_label    : NULL
[19:05:19.322]  $ rsh_call        : NULL
[19:05:19.322]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.322]  $ localMachine    : logi TRUE
[19:05:19.322]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:19.322]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:19.322]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:19.322]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:19.322]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:19.322]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:19.322]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:19.322]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:19.322]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:19.322]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:19.322]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:19.322]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:19.322]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:19.322]  $ arguments       :List of 28
[19:05:19.322]   ..$ worker          : chr "localhost"
[19:05:19.322]   ..$ master          : NULL
[19:05:19.322]   ..$ port            : int 11189
[19:05:19.322]   ..$ connectTimeout  : num 120
[19:05:19.322]   ..$ timeout         : num 2592000
[19:05:19.322]   ..$ rscript         : NULL
[19:05:19.322]   ..$ homogeneous     : NULL
[19:05:19.322]   ..$ rscript_args    : NULL
[19:05:19.322]   ..$ rscript_envs    : NULL
[19:05:19.322]   ..$ rscript_libs    : NULL
[19:05:19.322]   ..$ rscript_startup : NULL
[19:05:19.322]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:19.322]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.322]   ..$ methods         : logi TRUE
[19:05:19.322]   ..$ socketOptions   : chr "no-delay"
[19:05:19.322]   ..$ useXDR          : logi FALSE
[19:05:19.322]   ..$ outfile         : chr "/dev/null"
[19:05:19.322]   ..$ renice          : int NA
[19:05:19.322]   ..$ rshcmd          : NULL
[19:05:19.322]   ..$ user            : NULL
[19:05:19.322]   ..$ revtunnel       : logi NA
[19:05:19.322]   ..$ rshlogfile      : NULL
[19:05:19.322]   ..$ rshopts         : NULL
[19:05:19.322]   ..$ rank            : int 1
[19:05:19.322]   ..$ manual          : logi FALSE
[19:05:19.322]   ..$ dryrun          : logi FALSE
[19:05:19.322]   ..$ quiet           : logi FALSE
[19:05:19.322]   ..$ setup_strategy  : chr "parallel"
[19:05:19.322]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:19.358] [local output] System call to launch all workers:
[19:05:19.358] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a751bc836.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11189 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:19.358] [local output] Starting PSOCK main server
[19:05:19.362] [local output] Workers launched
[19:05:19.362] [local output] Waiting for workers to connect back
[19:05:19.362]  - [local output] 0 workers out of 1 ready
[19:05:19.627]  - [local output] 0 workers out of 1 ready
[19:05:19.628]  - [local output] 1 workers out of 1 ready
[19:05:19.628] [local output] Launching of workers completed
[19:05:19.629] [local output] Collecting session information from workers
[19:05:19.630] [local output]  - Worker #1 of 1
[19:05:19.630] [local output] makeClusterPSOCK() ... done
> 
> 
> message("- makeClusterPSOCK() - argument 'rscript_startup'")
- makeClusterPSOCK() - argument 'rscript_startup'
> 
> for (value in list(NULL, "options(abc = 42L)", quote(options(abc = 42L)))) {
+   cl <- makeClusterPSOCK(1L, rscript_startup = value)
+   y <- parallel::clusterEvalQ(cl, getOption("abc", NA_integer_))[[1]]
+   stopifnot(is.integer(y), length(y) == 1L)
+   if (!is.null(value)) stopifnot(identical(y, 42L))
+   parallel::stopCluster(cl)
+ }
[19:05:19.645] [local output] makeClusterPSOCK() ...
[19:05:19.651] [local output] Workers: [n = 1] ‘localhost’
[19:05:19.652] [local output] Base port: 11289
[19:05:19.652] [local output] Getting setup options for 1 cluster nodes ...
[19:05:19.653] [local output]  - Node 1 of 1 ...
[19:05:19.653] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:19.655] [local output] Rscript port: 11289

[19:05:19.655] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:19.655] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:19.656] [local output] Setting up PSOCK nodes in parallel
[19:05:19.656] List of 36
[19:05:19.656]  $ worker          : chr "localhost"
[19:05:19.656]   ..- attr(*, "localhost")= logi TRUE
[19:05:19.656]  $ master          : chr "localhost"
[19:05:19.656]  $ port            : int 11289
[19:05:19.656]  $ connectTimeout  : num 120
[19:05:19.656]  $ timeout         : num 2592000
[19:05:19.656]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:19.656]  $ homogeneous     : logi TRUE
[19:05:19.656]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:19.656]  $ rscript_envs    : NULL
[19:05:19.656]  $ rscript_libs    : NULL
[19:05:19.656]  $ rscript_startup : NULL
[19:05:19.656]  $ rscript_sh      : chr "sh"
[19:05:19.656]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.656]  $ methods         : logi TRUE
[19:05:19.656]  $ socketOptions   : chr "no-delay"
[19:05:19.656]  $ useXDR          : logi FALSE
[19:05:19.656]  $ outfile         : chr "/dev/null"
[19:05:19.656]  $ renice          : int NA
[19:05:19.656]  $ rshcmd          : NULL
[19:05:19.656]  $ user            : chr(0) 
[19:05:19.656]  $ revtunnel       : logi FALSE
[19:05:19.656]  $ rshlogfile      : NULL
[19:05:19.656]  $ rshopts         : chr(0) 
[19:05:19.656]  $ rank            : int 1
[19:05:19.656]  $ manual          : logi FALSE
[19:05:19.656]  $ dryrun          : logi FALSE
[19:05:19.656]  $ quiet           : logi FALSE
[19:05:19.656]  $ setup_strategy  : chr "parallel"
[19:05:19.656]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.656]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a477e88b8.pid"
[19:05:19.656]  $ rshcmd_label    : NULL
[19:05:19.656]  $ rsh_call        : NULL
[19:05:19.656]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.656]  $ localMachine    : logi TRUE
[19:05:19.656]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:19.656]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:19.656]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:19.656]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:19.656]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:19.656]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:19.656]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:19.656]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:19.656]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:19.656]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:19.656]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:19.656]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:19.656]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:19.656]  $ arguments       :List of 28
[19:05:19.656]   ..$ worker          : chr "localhost"
[19:05:19.656]   ..$ master          : NULL
[19:05:19.656]   ..$ port            : int 11289
[19:05:19.656]   ..$ connectTimeout  : num 120
[19:05:19.656]   ..$ timeout         : num 2592000
[19:05:19.656]   ..$ rscript         : NULL
[19:05:19.656]   ..$ homogeneous     : NULL
[19:05:19.656]   ..$ rscript_args    : NULL
[19:05:19.656]   ..$ rscript_envs    : NULL
[19:05:19.656]   ..$ rscript_libs    : NULL
[19:05:19.656]   ..$ rscript_startup : NULL
[19:05:19.656]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:19.656]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.656]   ..$ methods         : logi TRUE
[19:05:19.656]   ..$ socketOptions   : chr "no-delay"
[19:05:19.656]   ..$ useXDR          : logi FALSE
[19:05:19.656]   ..$ outfile         : chr "/dev/null"
[19:05:19.656]   ..$ renice          : int NA
[19:05:19.656]   ..$ rshcmd          : NULL
[19:05:19.656]   ..$ user            : NULL
[19:05:19.656]   ..$ revtunnel       : logi NA
[19:05:19.656]   ..$ rshlogfile      : NULL
[19:05:19.656]   ..$ rshopts         : NULL
[19:05:19.656]   ..$ rank            : int 1
[19:05:19.656]   ..$ manual          : logi FALSE
[19:05:19.656]   ..$ dryrun          : logi FALSE
[19:05:19.656]   ..$ quiet           : logi FALSE
[19:05:19.656]   ..$ setup_strategy  : chr "parallel"
[19:05:19.656]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:19.689] [local output] System call to launch all workers:
[19:05:19.690] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a477e88b8.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11289 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:19.690] [local output] Starting PSOCK main server
[19:05:19.692] [local output] Workers launched
[19:05:19.692] [local output] Waiting for workers to connect back
[19:05:19.692]  - [local output] 0 workers out of 1 ready
[19:05:19.972]  - [local output] 0 workers out of 1 ready
[19:05:19.973]  - [local output] 1 workers out of 1 ready
[19:05:19.973] [local output] Launching of workers completed
[19:05:19.973] [local output] Collecting session information from workers
[19:05:19.975] [local output]  - Worker #1 of 1
[19:05:19.975] [local output] makeClusterPSOCK() ... done
[19:05:19.976] [local output] makeClusterPSOCK() ...
[19:05:19.981] [local output] Workers: [n = 1] ‘localhost’
[19:05:19.983] [local output] Base port: 11186
[19:05:19.983] [local output] Getting setup options for 1 cluster nodes ...
[19:05:19.983] [local output]  - Node 1 of 1 ...
[19:05:19.984] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:19.985] [local output] Rscript port: 11186

[19:05:19.986] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:19.986] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:19.987] [local output] Setting up PSOCK nodes in parallel
[19:05:19.987] List of 36
[19:05:19.987]  $ worker          : chr "localhost"
[19:05:19.987]   ..- attr(*, "localhost")= logi TRUE
[19:05:19.987]  $ master          : chr "localhost"
[19:05:19.987]  $ port            : int 11186
[19:05:19.987]  $ connectTimeout  : num 120
[19:05:19.987]  $ timeout         : num 2592000
[19:05:19.987]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:19.987]  $ homogeneous     : logi TRUE
[19:05:19.987]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:19.987]  $ rscript_envs    : NULL
[19:05:19.987]  $ rscript_libs    : NULL
[19:05:19.987]  $ rscript_startup : chr [1:2] "-e" "'invisible({options(abc = 42L)})'"
[19:05:19.987]  $ rscript_sh      : chr "sh"
[19:05:19.987]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.987]  $ methods         : logi TRUE
[19:05:19.987]  $ socketOptions   : chr "no-delay"
[19:05:19.987]  $ useXDR          : logi FALSE
[19:05:19.987]  $ outfile         : chr "/dev/null"
[19:05:19.987]  $ renice          : int NA
[19:05:19.987]  $ rshcmd          : NULL
[19:05:19.987]  $ user            : chr(0) 
[19:05:19.987]  $ revtunnel       : logi FALSE
[19:05:19.987]  $ rshlogfile      : NULL
[19:05:19.987]  $ rshopts         : chr(0) 
[19:05:19.987]  $ rank            : int 1
[19:05:19.987]  $ manual          : logi FALSE
[19:05:19.987]  $ dryrun          : logi FALSE
[19:05:19.987]  $ quiet           : logi FALSE
[19:05:19.987]  $ setup_strategy  : chr "parallel"
[19:05:19.987]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.987]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a32e1e405.pid"
[19:05:19.987]  $ rshcmd_label    : NULL
[19:05:19.987]  $ rsh_call        : NULL
[19:05:19.987]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:19.987]  $ localMachine    : logi TRUE
[19:05:19.987]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:19.987]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:19.987]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:19.987]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:19.987]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:19.987]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:19.987]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:19.987]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:19.987]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:19.987]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:19.987]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:19.987]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:19.987]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:19.987]  $ arguments       :List of 28
[19:05:19.987]   ..$ worker          : chr "localhost"
[19:05:19.987]   ..$ master          : NULL
[19:05:19.987]   ..$ port            : int 11186
[19:05:19.987]   ..$ connectTimeout  : num 120
[19:05:19.987]   ..$ timeout         : num 2592000
[19:05:19.987]   ..$ rscript         : NULL
[19:05:19.987]   ..$ homogeneous     : NULL
[19:05:19.987]   ..$ rscript_args    : NULL
[19:05:19.987]   ..$ rscript_envs    : NULL
[19:05:19.987]   ..$ rscript_libs    : NULL
[19:05:19.987]   ..$ rscript_startup : chr "options(abc = 42L)"
[19:05:19.987]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:19.987]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:19.987]   ..$ methods         : logi TRUE
[19:05:19.987]   ..$ socketOptions   : chr "no-delay"
[19:05:19.987]   ..$ useXDR          : logi FALSE
[19:05:19.987]   ..$ outfile         : chr "/dev/null"
[19:05:19.987]   ..$ renice          : int NA
[19:05:19.987]   ..$ rshcmd          : NULL
[19:05:19.987]   ..$ user            : NULL
[19:05:19.987]   ..$ revtunnel       : logi NA
[19:05:19.987]   ..$ rshlogfile      : NULL
[19:05:19.987]   ..$ rshopts         : NULL
[19:05:19.987]   ..$ rank            : int 1
[19:05:19.987]   ..$ manual          : logi FALSE
[19:05:19.987]   ..$ dryrun          : logi FALSE
[19:05:19.987]   ..$ quiet           : logi FALSE
[19:05:19.987]   ..$ setup_strategy  : chr "parallel"
[19:05:19.987]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:20.024] [local output] System call to launch all workers:
[19:05:20.024] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a32e1e405.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'invisible({options(abc = 42L)})' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11186 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:20.024] [local output] Starting PSOCK main server
[19:05:20.026] [local output] Workers launched
[19:05:20.026] [local output] Waiting for workers to connect back
[19:05:20.026]  - [local output] 0 workers out of 1 ready
[19:05:20.309]  - [local output] 0 workers out of 1 ready
[19:05:20.309]  - [local output] 1 workers out of 1 ready
[19:05:20.310] [local output] Launching of workers completed
[19:05:20.310] [local output] Collecting session information from workers
[19:05:20.311] [local output]  - Worker #1 of 1
[19:05:20.311] [local output] makeClusterPSOCK() ... done
[19:05:20.312] [local output] makeClusterPSOCK() ...
[19:05:20.318] [local output] Workers: [n = 1] ‘localhost’
[19:05:20.319] [local output] Base port: 11140
[19:05:20.319] [local output] Getting setup options for 1 cluster nodes ...
[19:05:20.320] [local output]  - Node 1 of 1 ...
[19:05:20.320] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:20.322] [local output] Rscript port: 11140

[19:05:20.322] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:20.322] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:20.323] [local output] Setting up PSOCK nodes in parallel
[19:05:20.323] List of 36
[19:05:20.323]  $ worker          : chr "localhost"
[19:05:20.323]   ..- attr(*, "localhost")= logi TRUE
[19:05:20.323]  $ master          : chr "localhost"
[19:05:20.323]  $ port            : int 11140
[19:05:20.323]  $ connectTimeout  : num 120
[19:05:20.323]  $ timeout         : num 2592000
[19:05:20.323]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:20.323]  $ homogeneous     : logi TRUE
[19:05:20.323]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:20.323]  $ rscript_envs    : NULL
[19:05:20.323]  $ rscript_libs    : NULL
[19:05:20.323]  $ rscript_startup : chr [1:2] "-e" "'invisible({options(abc = 42L)})'"
[19:05:20.323]  $ rscript_sh      : chr "sh"
[19:05:20.323]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:20.323]  $ methods         : logi TRUE
[19:05:20.323]  $ socketOptions   : chr "no-delay"
[19:05:20.323]  $ useXDR          : logi FALSE
[19:05:20.323]  $ outfile         : chr "/dev/null"
[19:05:20.323]  $ renice          : int NA
[19:05:20.323]  $ rshcmd          : NULL
[19:05:20.323]  $ user            : chr(0) 
[19:05:20.323]  $ revtunnel       : logi FALSE
[19:05:20.323]  $ rshlogfile      : NULL
[19:05:20.323]  $ rshopts         : chr(0) 
[19:05:20.323]  $ rank            : int 1
[19:05:20.323]  $ manual          : logi FALSE
[19:05:20.323]  $ dryrun          : logi FALSE
[19:05:20.323]  $ quiet           : logi FALSE
[19:05:20.323]  $ setup_strategy  : chr "parallel"
[19:05:20.323]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:20.323]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a5fa2dafa.pid"
[19:05:20.323]  $ rshcmd_label    : NULL
[19:05:20.323]  $ rsh_call        : NULL
[19:05:20.323]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:20.323]  $ localMachine    : logi TRUE
[19:05:20.323]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:20.323]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:20.323]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:20.323]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:20.323]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:20.323]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:20.323]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:20.323]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:20.323]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:20.323]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:20.323]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:20.323]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:20.323]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:20.323]  $ arguments       :List of 28
[19:05:20.323]   ..$ worker          : chr "localhost"
[19:05:20.323]   ..$ master          : NULL
[19:05:20.323]   ..$ port            : int 11140
[19:05:20.323]   ..$ connectTimeout  : num 120
[19:05:20.323]   ..$ timeout         : num 2592000
[19:05:20.323]   ..$ rscript         : NULL
[19:05:20.323]   ..$ homogeneous     : NULL
[19:05:20.323]   ..$ rscript_args    : NULL
[19:05:20.323]   ..$ rscript_envs    : NULL
[19:05:20.323]   ..$ rscript_libs    : NULL
[19:05:20.323]   ..$ rscript_startup : language options(abc = 42L)
[19:05:20.323]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:20.323]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:20.323]   ..$ methods         : logi TRUE
[19:05:20.323]   ..$ socketOptions   : chr "no-delay"
[19:05:20.323]   ..$ useXDR          : logi FALSE
[19:05:20.323]   ..$ outfile         : chr "/dev/null"
[19:05:20.323]   ..$ renice          : int NA
[19:05:20.323]   ..$ rshcmd          : NULL
[19:05:20.323]   ..$ user            : NULL
[19:05:20.323]   ..$ revtunnel       : logi NA
[19:05:20.323]   ..$ rshlogfile      : NULL
[19:05:20.323]   ..$ rshopts         : NULL
[19:05:20.323]   ..$ rank            : int 1
[19:05:20.323]   ..$ manual          : logi FALSE
[19:05:20.323]   ..$ dryrun          : logi FALSE
[19:05:20.323]   ..$ quiet           : logi FALSE
[19:05:20.323]   ..$ setup_strategy  : chr "parallel"
[19:05:20.323]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:20.361] [local output] System call to launch all workers:
[19:05:20.362] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a5fa2dafa.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'invisible({options(abc = 42L)})' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11140 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:20.364] [local output] Starting PSOCK main server
[19:05:20.366] [local output] Workers launched
[19:05:20.367] [local output] Waiting for workers to connect back
[19:05:20.367]  - [local output] 0 workers out of 1 ready
[19:05:20.640]  - [local output] 0 workers out of 1 ready
[19:05:20.640]  - [local output] 1 workers out of 1 ready
[19:05:20.641] [local output] Launching of workers completed
[19:05:20.641] [local output] Collecting session information from workers
[19:05:20.642] [local output]  - Worker #1 of 1
[19:05:20.642] [local output] makeClusterPSOCK() ... done
> 
> 
> message("- makeClusterPSOCK() - setup_strategy = TRUE/FALSE")
- makeClusterPSOCK() - setup_strategy = TRUE/FALSE
> 
> for (setup_strategy in c("sequential", "parallel")) {
+   dt <- system.time({
+     cl <- makeClusterPSOCK(2L, setup_strategy = setup_strategy)
+   })
+   print(dt)
+   print(cl)
+   parallel::stopCluster(cl)
+ }
[19:05:20.687] [local output] makeClusterPSOCK() ...
[19:05:20.694] [local output] Workers: [n = 2] ‘localhost’, ‘localhost’
[19:05:20.695] [local output] Base port: 11594
[19:05:20.695] [local output] Getting setup options for 2 cluster nodes ...
[19:05:20.695] [local output]  - Node 1 of 2 ...
[19:05:20.696] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:20.696] [local output] Rscript port: 11594

[19:05:20.697] [local output]  - Node 2 of 2 ...
[19:05:20.698] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:20.698] [local output] Rscript port: 11594

[19:05:20.699] [local output] Getting setup options for 2 cluster nodes ... done
[19:05:20.699] [local output] Creating node 1 of 2 ...
[19:05:20.699] [local output] - setting up node
[19:05:20.699] [local output] - attempt #1 of 3
[19:05:20.700] [local output] Starting worker #1 on ‘localhost’: '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a76a5791.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11594 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=sequential
[19:05:20.702] [local output] - Exit code of system() call: 0
[19:05:20.702] [local output] Waiting for worker #1 on ‘localhost’ to connect back
[19:05:20.967] [local output] Connection with worker #1 on ‘localhost’ established
[19:05:20.967] [local output] Creating node 1 of 2 ... done
[19:05:20.967] [local output] Creating node 2 of 2 ...
[19:05:20.967] [local output] - setting up node
[19:05:20.968] [local output] - attempt #1 of 3
[19:05:20.968] [local output] Starting worker #2 on ‘localhost’: '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=2.parallelly.parent=353306.5641a18d08af4.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11594 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=sequential
[19:05:20.970] [local output] - Exit code of system() call: 0
[19:05:20.970] [local output] Waiting for worker #2 on ‘localhost’ to connect back
[19:05:21.243] [local output] Connection with worker #2 on ‘localhost’ established
[19:05:21.243] [local output] Creating node 2 of 2 ... done
[19:05:21.244] [local output] Launching of workers completed
[19:05:21.244] [local output] Collecting session information from workers
[19:05:21.246] [local output]  - Worker #1 of 2
[19:05:21.248] [local output]  - Worker #2 of 2
[19:05:21.248] [local output] makeClusterPSOCK() ... done
   user  system elapsed 
  0.021   0.003   0.561 
Socket cluster with 2 nodes where 2 nodes are on host ‘localhost’ (R version 4.4.0 (2024-04-24), platform x86_64-pc-linux-gnu)
[19:05:21.303] [local output] makeClusterPSOCK() ...
[19:05:21.309] [local output] Workers: [n = 2] ‘localhost’, ‘localhost’
[19:05:21.310] [local output] Base port: 11451
[19:05:21.310] [local output] Getting setup options for 2 cluster nodes ...
[19:05:21.311] [local output]  - Node 1 of 2 ...
[19:05:21.312] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:21.313] [local output] Rscript port: 11451

[19:05:21.313] [local output]  - Node 2 of 2 ...
[19:05:21.314] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:21.315] [local output] Rscript port: 11451

[19:05:21.315] [local output] Getting setup options for 2 cluster nodes ... done
[19:05:21.316] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:21.316] [local output] Setting up PSOCK nodes in parallel
[19:05:21.316] List of 36
[19:05:21.316]  $ worker          : chr "localhost"
[19:05:21.316]   ..- attr(*, "localhost")= logi TRUE
[19:05:21.316]  $ master          : chr "localhost"
[19:05:21.316]  $ port            : int 11451
[19:05:21.316]  $ connectTimeout  : num 120
[19:05:21.316]  $ timeout         : num 2592000
[19:05:21.316]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:21.316]  $ homogeneous     : logi TRUE
[19:05:21.316]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:21.316]  $ rscript_envs    : NULL
[19:05:21.316]  $ rscript_libs    : NULL
[19:05:21.316]  $ rscript_startup : NULL
[19:05:21.316]  $ rscript_sh      : chr "sh"
[19:05:21.316]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:21.316]  $ methods         : logi TRUE
[19:05:21.316]  $ socketOptions   : chr "no-delay"
[19:05:21.316]  $ useXDR          : logi FALSE
[19:05:21.316]  $ outfile         : chr "/dev/null"
[19:05:21.316]  $ renice          : int NA
[19:05:21.316]  $ rshcmd          : NULL
[19:05:21.316]  $ user            : chr(0) 
[19:05:21.316]  $ revtunnel       : logi FALSE
[19:05:21.316]  $ rshlogfile      : NULL
[19:05:21.316]  $ rshopts         : chr(0) 
[19:05:21.316]  $ rank            : int 1
[19:05:21.316]  $ manual          : logi FALSE
[19:05:21.316]  $ dryrun          : logi FALSE
[19:05:21.316]  $ quiet           : logi FALSE
[19:05:21.316]  $ setup_strategy  : chr "parallel"
[19:05:21.316]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:21.316]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a4224706a.pid"
[19:05:21.316]  $ rshcmd_label    : NULL
[19:05:21.316]  $ rsh_call        : NULL
[19:05:21.316]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:21.316]  $ localMachine    : logi TRUE
[19:05:21.316]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:21.316]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:21.316]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:21.316]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:21.316]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:21.316]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:21.316]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:21.316]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:21.316]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:21.316]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:21.316]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:21.316]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:21.316]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:21.316]  $ arguments       :List of 28
[19:05:21.316]   ..$ worker          : chr "localhost"
[19:05:21.316]   ..$ master          : NULL
[19:05:21.316]   ..$ port            : int 11451
[19:05:21.316]   ..$ connectTimeout  : num 120
[19:05:21.316]   ..$ timeout         : num 2592000
[19:05:21.316]   ..$ rscript         : NULL
[19:05:21.316]   ..$ homogeneous     : NULL
[19:05:21.316]   ..$ rscript_args    : NULL
[19:05:21.316]   ..$ rscript_envs    : NULL
[19:05:21.316]   ..$ rscript_libs    : NULL
[19:05:21.316]   ..$ rscript_startup : NULL
[19:05:21.316]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:21.316]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:21.316]   ..$ methods         : logi TRUE
[19:05:21.316]   ..$ socketOptions   : chr "no-delay"
[19:05:21.316]   ..$ useXDR          : logi FALSE
[19:05:21.316]   ..$ outfile         : chr "/dev/null"
[19:05:21.316]   ..$ renice          : int NA
[19:05:21.316]   ..$ rshcmd          : NULL
[19:05:21.316]   ..$ user            : NULL
[19:05:21.316]   ..$ revtunnel       : logi NA
[19:05:21.316]   ..$ rshlogfile      : NULL
[19:05:21.316]   ..$ rshopts         : NULL
[19:05:21.316]   ..$ rank            : int 1
[19:05:21.316]   ..$ manual          : logi FALSE
[19:05:21.316]   ..$ dryrun          : logi FALSE
[19:05:21.316]   ..$ quiet           : logi FALSE
[19:05:21.316]   ..$ setup_strategy  : chr "parallel"
[19:05:21.316]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:21.350] [local output] System call to launch all workers:
[19:05:21.350] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a4224706a.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11451 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:21.350] [local output] Starting PSOCK main server
[19:05:21.354] [local output] Workers launched
[19:05:21.354] [local output] Waiting for workers to connect back
[19:05:21.354]  - [local output] 0 workers out of 2 ready
[19:05:21.727]  - [local output] 0 workers out of 2 ready
[19:05:21.728]  - [local output] 0 workers out of 2 ready
[19:05:21.729]  - [local output] 2 workers out of 2 ready
[19:05:21.729] [local output] Launching of workers completed
[19:05:21.729] [local output] Collecting session information from workers
[19:05:21.730] [local output]  - Worker #1 of 2
[19:05:21.731] [local output]  - Worker #2 of 2
[19:05:21.732] [local output] makeClusterPSOCK() ... done
   user  system elapsed 
  0.049   0.006   0.430 
Socket cluster with 2 nodes where 2 nodes are on host ‘localhost’ (R version 4.4.0 (2024-04-24), platform x86_64-pc-linux-gnu)
> 
> 
> message("- makeClusterPSOCK() - with and w/out validation")
- makeClusterPSOCK() - with and w/out validation
> 
> cl <- makeClusterPSOCK(1L, validate = TRUE) ## default
[19:05:21.736] [local output] makeClusterPSOCK() ...
[19:05:21.741] [local output] Workers: [n = 1] ‘localhost’
[19:05:21.742] [local output] Base port: 11078
[19:05:21.742] [local output] Getting setup options for 1 cluster nodes ...
[19:05:21.743] [local output]  - Node 1 of 1 ...
[19:05:21.743] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:21.745] [local output] Rscript port: 11078

[19:05:21.745] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:21.745] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:21.746] [local output] Setting up PSOCK nodes in parallel
[19:05:21.746] List of 36
[19:05:21.746]  $ worker          : chr "localhost"
[19:05:21.746]   ..- attr(*, "localhost")= logi TRUE
[19:05:21.746]  $ master          : chr "localhost"
[19:05:21.746]  $ port            : int 11078
[19:05:21.746]  $ connectTimeout  : num 120
[19:05:21.746]  $ timeout         : num 2592000
[19:05:21.746]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:21.746]  $ homogeneous     : logi TRUE
[19:05:21.746]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:21.746]  $ rscript_envs    : NULL
[19:05:21.746]  $ rscript_libs    : NULL
[19:05:21.746]  $ rscript_startup : NULL
[19:05:21.746]  $ rscript_sh      : chr "sh"
[19:05:21.746]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:21.746]  $ methods         : logi TRUE
[19:05:21.746]  $ socketOptions   : chr "no-delay"
[19:05:21.746]  $ useXDR          : logi FALSE
[19:05:21.746]  $ outfile         : chr "/dev/null"
[19:05:21.746]  $ renice          : int NA
[19:05:21.746]  $ rshcmd          : NULL
[19:05:21.746]  $ user            : chr(0) 
[19:05:21.746]  $ revtunnel       : logi FALSE
[19:05:21.746]  $ rshlogfile      : NULL
[19:05:21.746]  $ rshopts         : chr(0) 
[19:05:21.746]  $ rank            : int 1
[19:05:21.746]  $ manual          : logi FALSE
[19:05:21.746]  $ dryrun          : logi FALSE
[19:05:21.746]  $ quiet           : logi FALSE
[19:05:21.746]  $ setup_strategy  : chr "parallel"
[19:05:21.746]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:21.746]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a27387f01.pid"
[19:05:21.746]  $ rshcmd_label    : NULL
[19:05:21.746]  $ rsh_call        : NULL
[19:05:21.746]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:21.746]  $ localMachine    : logi TRUE
[19:05:21.746]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:21.746]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:21.746]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:21.746]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:21.746]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:21.746]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:21.746]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:21.746]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:21.746]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:21.746]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:21.746]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:21.746]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:21.746]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:21.746]  $ arguments       :List of 28
[19:05:21.746]   ..$ worker          : chr "localhost"
[19:05:21.746]   ..$ master          : NULL
[19:05:21.746]   ..$ port            : int 11078
[19:05:21.746]   ..$ connectTimeout  : num 120
[19:05:21.746]   ..$ timeout         : num 2592000
[19:05:21.746]   ..$ rscript         : NULL
[19:05:21.746]   ..$ homogeneous     : NULL
[19:05:21.746]   ..$ rscript_args    : NULL
[19:05:21.746]   ..$ rscript_envs    : NULL
[19:05:21.746]   ..$ rscript_libs    : NULL
[19:05:21.746]   ..$ rscript_startup : NULL
[19:05:21.746]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:21.746]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:21.746]   ..$ methods         : logi TRUE
[19:05:21.746]   ..$ socketOptions   : chr "no-delay"
[19:05:21.746]   ..$ useXDR          : logi FALSE
[19:05:21.746]   ..$ outfile         : chr "/dev/null"
[19:05:21.746]   ..$ renice          : int NA
[19:05:21.746]   ..$ rshcmd          : NULL
[19:05:21.746]   ..$ user            : NULL
[19:05:21.746]   ..$ revtunnel       : logi NA
[19:05:21.746]   ..$ rshlogfile      : NULL
[19:05:21.746]   ..$ rshopts         : NULL
[19:05:21.746]   ..$ rank            : int 1
[19:05:21.746]   ..$ manual          : logi FALSE
[19:05:21.746]   ..$ dryrun          : logi FALSE
[19:05:21.746]   ..$ quiet           : logi FALSE
[19:05:21.746]   ..$ setup_strategy  : chr "parallel"
[19:05:21.746]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:21.788] [local output] System call to launch all workers:
[19:05:21.789] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a27387f01.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11078 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:21.789] [local output] Starting PSOCK main server
[19:05:21.791] [local output] Workers launched
[19:05:21.791] [local output] Waiting for workers to connect back
[19:05:21.791]  - [local output] 0 workers out of 1 ready
[19:05:22.055]  - [local output] 0 workers out of 1 ready
[19:05:22.055]  - [local output] 1 workers out of 1 ready
[19:05:22.055] [local output] Launching of workers completed
[19:05:22.056] [local output] Collecting session information from workers
[19:05:22.057] [local output]  - Worker #1 of 1
[19:05:22.057] [local output] makeClusterPSOCK() ... done
> node <- cl[[1]]
> stopifnot(
+   is.list(node),
+   inherits(node, if (useXDR) "SOCKnode" else "SOCK0node"),
+   "session_info" %in% names(node)
+ )
> si <- node[["session_info"]]
> stopifnot(is.list(si))
> parallel::stopCluster(cl)
> 
> cl <- makeClusterPSOCK(1L, validate = FALSE)
[19:05:22.058] [local output] makeClusterPSOCK() ...
[19:05:22.064] [local output] Workers: [n = 1] ‘localhost’
[19:05:22.066] [local output] Base port: 11988
[19:05:22.066] [local output] Getting setup options for 1 cluster nodes ...
[19:05:22.066] [local output]  - Node 1 of 1 ...
[19:05:22.067] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:22.068] [local output] Rscript port: 11988

[19:05:22.069] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:22.069] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:22.070] [local output] Setting up PSOCK nodes in parallel
[19:05:22.070] List of 36
[19:05:22.070]  $ worker          : chr "localhost"
[19:05:22.070]   ..- attr(*, "localhost")= logi TRUE
[19:05:22.070]  $ master          : chr "localhost"
[19:05:22.070]  $ port            : int 11988
[19:05:22.070]  $ connectTimeout  : num 120
[19:05:22.070]  $ timeout         : num 2592000
[19:05:22.070]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:22.070]  $ homogeneous     : logi TRUE
[19:05:22.070]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:22.070]  $ rscript_envs    : NULL
[19:05:22.070]  $ rscript_libs    : NULL
[19:05:22.070]  $ rscript_startup : NULL
[19:05:22.070]  $ rscript_sh      : chr "sh"
[19:05:22.070]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.070]  $ methods         : logi TRUE
[19:05:22.070]  $ socketOptions   : chr "no-delay"
[19:05:22.070]  $ useXDR          : logi FALSE
[19:05:22.070]  $ outfile         : chr "/dev/null"
[19:05:22.070]  $ renice          : int NA
[19:05:22.070]  $ rshcmd          : NULL
[19:05:22.070]  $ user            : chr(0) 
[19:05:22.070]  $ revtunnel       : logi FALSE
[19:05:22.070]  $ rshlogfile      : NULL
[19:05:22.070]  $ rshopts         : chr(0) 
[19:05:22.070]  $ rank            : int 1
[19:05:22.070]  $ manual          : logi FALSE
[19:05:22.070]  $ dryrun          : logi FALSE
[19:05:22.070]  $ quiet           : logi FALSE
[19:05:22.070]  $ setup_strategy  : chr "parallel"
[19:05:22.070]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.070]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a240d1189.pid"
[19:05:22.070]  $ rshcmd_label    : NULL
[19:05:22.070]  $ rsh_call        : NULL
[19:05:22.070]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.070]  $ localMachine    : logi TRUE
[19:05:22.070]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:22.070]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:22.070]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:22.070]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:22.070]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:22.070]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:22.070]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:22.070]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:22.070]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:22.070]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:22.070]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:22.070]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:22.070]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:22.070]  $ arguments       :List of 28
[19:05:22.070]   ..$ worker          : chr "localhost"
[19:05:22.070]   ..$ master          : NULL
[19:05:22.070]   ..$ port            : int 11988
[19:05:22.070]   ..$ connectTimeout  : num 120
[19:05:22.070]   ..$ timeout         : num 2592000
[19:05:22.070]   ..$ rscript         : NULL
[19:05:22.070]   ..$ homogeneous     : NULL
[19:05:22.070]   ..$ rscript_args    : NULL
[19:05:22.070]   ..$ rscript_envs    : NULL
[19:05:22.070]   ..$ rscript_libs    : NULL
[19:05:22.070]   ..$ rscript_startup : NULL
[19:05:22.070]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:22.070]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.070]   ..$ methods         : logi TRUE
[19:05:22.070]   ..$ socketOptions   : chr "no-delay"
[19:05:22.070]   ..$ useXDR          : logi FALSE
[19:05:22.070]   ..$ outfile         : chr "/dev/null"
[19:05:22.070]   ..$ renice          : int NA
[19:05:22.070]   ..$ rshcmd          : NULL
[19:05:22.070]   ..$ user            : NULL
[19:05:22.070]   ..$ revtunnel       : logi NA
[19:05:22.070]   ..$ rshlogfile      : NULL
[19:05:22.070]   ..$ rshopts         : NULL
[19:05:22.070]   ..$ rank            : int 1
[19:05:22.070]   ..$ manual          : logi FALSE
[19:05:22.070]   ..$ dryrun          : logi FALSE
[19:05:22.070]   ..$ quiet           : logi FALSE
[19:05:22.070]   ..$ setup_strategy  : chr "parallel"
[19:05:22.070]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:22.108] [local output] System call to launch all workers:
[19:05:22.108] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a240d1189.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11988 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:22.109] [local output] Starting PSOCK main server
[19:05:22.111] [local output] Workers launched
[19:05:22.111] [local output] Waiting for workers to connect back
[19:05:22.111]  - [local output] 0 workers out of 1 ready
[19:05:22.376]  - [local output] 0 workers out of 1 ready
[19:05:22.376]  - [local output] 1 workers out of 1 ready
[19:05:22.377] [local output] Launching of workers completed
[19:05:22.377] [local output] makeClusterPSOCK() ... done
> node <- cl[[1]]
> stopifnot(
+   is.list(node),
+   inherits(node, if (useXDR) "SOCKnode" else "SOCK0node"),
+   ! "session_info" %in% names(node)
+ )
> parallel::stopCluster(cl)
> 
> 
> message("- makeClusterPSOCK() - w/out 'parallelly' on worker")
- makeClusterPSOCK() - w/out 'parallelly' on worker
> 
> ovalue <- Sys.getenv("R_LIBS_USER")
> Sys.setenv(R_LIBS_USER = tempdir())
> cl <- makeClusterPSOCK(1L, outfile = "")
[19:05:22.378] [local output] makeClusterPSOCK() ...
[19:05:22.383] [local output] Workers: [n = 1] ‘localhost’
[19:05:22.384] [local output] Base port: 11454
[19:05:22.385] [local output] Getting setup options for 1 cluster nodes ...
[19:05:22.385] [local output]  - Node 1 of 1 ...
[19:05:22.386] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:22.387] [local output] Rscript port: 11454

[19:05:22.387] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:22.388] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:22.388] [local output] Setting up PSOCK nodes in parallel
[19:05:22.388] List of 36
[19:05:22.388]  $ worker          : chr "localhost"
[19:05:22.388]   ..- attr(*, "localhost")= logi TRUE
[19:05:22.388]  $ master          : chr "localhost"
[19:05:22.388]  $ port            : int 11454
[19:05:22.388]  $ connectTimeout  : num 120
[19:05:22.388]  $ timeout         : num 2592000
[19:05:22.388]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:22.388]  $ homogeneous     : logi TRUE
[19:05:22.388]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:22.388]  $ rscript_envs    : NULL
[19:05:22.388]  $ rscript_libs    : NULL
[19:05:22.388]  $ rscript_startup : NULL
[19:05:22.388]  $ rscript_sh      : chr "sh"
[19:05:22.388]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.388]  $ methods         : logi TRUE
[19:05:22.388]  $ socketOptions   : chr "no-delay"
[19:05:22.388]  $ useXDR          : logi FALSE
[19:05:22.388]  $ outfile         : chr ""
[19:05:22.388]  $ renice          : int NA
[19:05:22.388]  $ rshcmd          : NULL
[19:05:22.388]  $ user            : chr(0) 
[19:05:22.388]  $ revtunnel       : logi FALSE
[19:05:22.388]  $ rshlogfile      : NULL
[19:05:22.388]  $ rshopts         : chr(0) 
[19:05:22.388]  $ rank            : int 1
[19:05:22.388]  $ manual          : logi FALSE
[19:05:22.388]  $ dryrun          : logi FALSE
[19:05:22.388]  $ quiet           : logi FALSE
[19:05:22.388]  $ setup_strategy  : chr "parallel"
[19:05:22.388]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.388]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a44107f92.pid"
[19:05:22.388]  $ rshcmd_label    : NULL
[19:05:22.388]  $ rsh_call        : NULL
[19:05:22.388]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.388]  $ localMachine    : logi TRUE
[19:05:22.388]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:22.388]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:22.388]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:22.388]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:22.388]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:22.388]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:22.388]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:22.388]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:22.388]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:22.388]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:22.388]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:22.388]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:22.388]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:22.388]  $ arguments       :List of 28
[19:05:22.388]   ..$ worker          : chr "localhost"
[19:05:22.388]   ..$ master          : NULL
[19:05:22.388]   ..$ port            : int 11454
[19:05:22.388]   ..$ connectTimeout  : num 120
[19:05:22.388]   ..$ timeout         : num 2592000
[19:05:22.388]   ..$ rscript         : NULL
[19:05:22.388]   ..$ homogeneous     : NULL
[19:05:22.388]   ..$ rscript_args    : NULL
[19:05:22.388]   ..$ rscript_envs    : NULL
[19:05:22.388]   ..$ rscript_libs    : NULL
[19:05:22.388]   ..$ rscript_startup : NULL
[19:05:22.388]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:22.388]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.388]   ..$ methods         : logi TRUE
[19:05:22.388]   ..$ socketOptions   : chr "no-delay"
[19:05:22.388]   ..$ useXDR          : logi FALSE
[19:05:22.388]   ..$ outfile         : chr ""
[19:05:22.388]   ..$ renice          : int NA
[19:05:22.388]   ..$ rshcmd          : NULL
[19:05:22.388]   ..$ user            : NULL
[19:05:22.388]   ..$ revtunnel       : logi NA
[19:05:22.388]   ..$ rshlogfile      : NULL
[19:05:22.388]   ..$ rshopts         : NULL
[19:05:22.388]   ..$ rank            : int 1
[19:05:22.388]   ..$ manual          : logi FALSE
[19:05:22.388]   ..$ dryrun          : logi FALSE
[19:05:22.388]   ..$ quiet           : logi FALSE
[19:05:22.388]   ..$ setup_strategy  : chr "parallel"
[19:05:22.388]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:22.423] [local output] System call to launch all workers:
[19:05:22.424] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a44107f92.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11454 OUT= TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:22.424] [local output] Starting PSOCK main server
[19:05:22.426] [local output] Workers launched
[19:05:22.426] [local output] Waiting for workers to connect back
[19:05:22.426]  - [local output] 0 workers out of 1 ready
starting worker pid=353926 on localhost:11454 at 19:05:22.700
[19:05:22.707]  - [local output] 0 workers out of 1 ready
[19:05:22.708]  - [local output] 1 workers out of 1 ready
[19:05:22.708] [local output] Launching of workers completed
[19:05:22.708] [local output] Collecting session information from workers
[19:05:22.710] [local output]  - Worker #1 of 1
[19:05:22.710] [local output] makeClusterPSOCK() ... done
> print(cl)
Socket cluster with 1 nodes where 1 node is on host ‘localhost’ (R version 4.4.0 (2024-04-24), platform x86_64-pc-linux-gnu)
> parallel::stopCluster(cl)
> Sys.setenv(R_LIBS_USER = ovalue)
> 
> 
> message("- makeClusterPSOCK() - assert 'parallelly' is not loaded")
- makeClusterPSOCK() - assert 'parallelly' is not loaded
> 
> cl <- makeClusterPSOCK(1L)
[19:05:22.713] [local output] makeClusterPSOCK() ...
[19:05:22.719] [local output] Workers: [n = 1] ‘localhost’
[19:05:22.720] [local output] Base port: 11924
[19:05:22.720] [local output] Getting setup options for 1 cluster nodes ...
[19:05:22.720] [local output]  - Node 1 of 1 ...
[19:05:22.721] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:22.722] [local output] Rscript port: 11924

[19:05:22.723] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:22.723] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:22.724] [local output] Setting up PSOCK nodes in parallel
[19:05:22.724] List of 36
[19:05:22.724]  $ worker          : chr "localhost"
[19:05:22.724]   ..- attr(*, "localhost")= logi TRUE
[19:05:22.724]  $ master          : chr "localhost"
[19:05:22.724]  $ port            : int 11924
[19:05:22.724]  $ connectTimeout  : num 120
[19:05:22.724]  $ timeout         : num 2592000
[19:05:22.724]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:22.724]  $ homogeneous     : logi TRUE
[19:05:22.724]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:22.724]  $ rscript_envs    : NULL
[19:05:22.724]  $ rscript_libs    : NULL
[19:05:22.724]  $ rscript_startup : NULL
[19:05:22.724]  $ rscript_sh      : chr "sh"
[19:05:22.724]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.724]  $ methods         : logi TRUE
[19:05:22.724]  $ socketOptions   : chr "no-delay"
[19:05:22.724]  $ useXDR          : logi FALSE
[19:05:22.724]  $ outfile         : chr "/dev/null"
[19:05:22.724]  $ renice          : int NA
[19:05:22.724]  $ rshcmd          : NULL
[19:05:22.724]  $ user            : chr(0) 
[19:05:22.724]  $ revtunnel       : logi FALSE
[19:05:22.724]  $ rshlogfile      : NULL
[19:05:22.724]  $ rshopts         : chr(0) 
[19:05:22.724]  $ rank            : int 1
[19:05:22.724]  $ manual          : logi FALSE
[19:05:22.724]  $ dryrun          : logi FALSE
[19:05:22.724]  $ quiet           : logi FALSE
[19:05:22.724]  $ setup_strategy  : chr "parallel"
[19:05:22.724]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.724]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a5b8fd2b9.pid"
[19:05:22.724]  $ rshcmd_label    : NULL
[19:05:22.724]  $ rsh_call        : NULL
[19:05:22.724]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:22.724]  $ localMachine    : logi TRUE
[19:05:22.724]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:22.724]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:22.724]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:22.724]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:22.724]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:22.724]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:22.724]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:22.724]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:22.724]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:22.724]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:22.724]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:22.724]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:22.724]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:22.724]  $ arguments       :List of 28
[19:05:22.724]   ..$ worker          : chr "localhost"
[19:05:22.724]   ..$ master          : NULL
[19:05:22.724]   ..$ port            : int 11924
[19:05:22.724]   ..$ connectTimeout  : num 120
[19:05:22.724]   ..$ timeout         : num 2592000
[19:05:22.724]   ..$ rscript         : NULL
[19:05:22.724]   ..$ homogeneous     : NULL
[19:05:22.724]   ..$ rscript_args    : NULL
[19:05:22.724]   ..$ rscript_envs    : NULL
[19:05:22.724]   ..$ rscript_libs    : NULL
[19:05:22.724]   ..$ rscript_startup : NULL
[19:05:22.724]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:22.724]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:22.724]   ..$ methods         : logi TRUE
[19:05:22.724]   ..$ socketOptions   : chr "no-delay"
[19:05:22.724]   ..$ useXDR          : logi FALSE
[19:05:22.724]   ..$ outfile         : chr "/dev/null"
[19:05:22.724]   ..$ renice          : int NA
[19:05:22.724]   ..$ rshcmd          : NULL
[19:05:22.724]   ..$ user            : NULL
[19:05:22.724]   ..$ revtunnel       : logi NA
[19:05:22.724]   ..$ rshlogfile      : NULL
[19:05:22.724]   ..$ rshopts         : NULL
[19:05:22.724]   ..$ rank            : int 1
[19:05:22.724]   ..$ manual          : logi FALSE
[19:05:22.724]   ..$ dryrun          : logi FALSE
[19:05:22.724]   ..$ quiet           : logi FALSE
[19:05:22.724]   ..$ setup_strategy  : chr "parallel"
[19:05:22.724]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:22.761] [local output] System call to launch all workers:
[19:05:22.761] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a5b8fd2b9.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11924 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:22.761] [local output] Starting PSOCK main server
[19:05:22.763] [local output] Workers launched
[19:05:22.764] [local output] Waiting for workers to connect back
[19:05:22.764]  - [local output] 0 workers out of 1 ready
[19:05:23.029]  - [local output] 0 workers out of 1 ready
[19:05:23.030]  - [local output] 1 workers out of 1 ready
[19:05:23.030] [local output] Launching of workers completed
[19:05:23.030] [local output] Collecting session information from workers
[19:05:23.032] [local output]  - Worker #1 of 1
[19:05:23.032] [local output] makeClusterPSOCK() ... done
> ns <- parallel::clusterCall(cl, function() { loadedNamespaces() })
> print(ns)
[[1]]
[1] "compiler"  "graphics"  "parallel"  "utils"     "grDevices" "stats"    
[7] "datasets"  "methods"   "base"     

> stopifnot(!is.element("parallelly", ns))
> parallel::stopCluster(cl)
> 
> 
> message("- makeClusterPSOCK() - launch via the R executable")
- makeClusterPSOCK() - launch via the R executable
> 
> if (.Platform$OS.type == "windows") {
+   ## R and R.exe fails on MS Windows, cf. R-devel thread "MS Windows: R does
+   ## not escape quotes in CLI options the same way as Rterm and Rscript"
+   ## on 2021-12-15.
+   rscripts <- file.path(R.home("bin"), c("Rterm", "Rterm.exe"))
+ } else {
+   rscripts <- file.path(R.home("bin"), "R")
+ }
> 
> for (rscript in rscripts) {
+   message("  Launcher: ", sQuote(rscript))
+   rscript_args <- c("--no-echo", "--no-restore", "*", "--args")
+   cl <- tryCatch({
+     makeClusterPSOCK(1L, rscript = rscript, rscript_args = rscript_args)
+   }, warning = identity)
+   stopifnot(inherits(cl, "cluster"))
+   parallel::stopCluster(cl)
+ }
  Launcher: ‘/usr/local/lib/R/bin/R’
[19:05:23.042] [local output] makeClusterPSOCK() ...
[19:05:23.048] [local output] Workers: [n = 1] ‘localhost’
[19:05:23.049] [local output] Base port: 11542
[19:05:23.049] [local output] Getting setup options for 1 cluster nodes ...
[19:05:23.049] [local output]  - Node 1 of 1 ...
[19:05:23.050] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:23.053] Testing if worker's PID can be inferred: ‘'/usr/local/lib/R/bin/R' -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a514410c.pid")), silent = TRUE)' -e 'file.exists("/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a514410c.pid")'’
[19:05:23.308] - Possible to infer worker's PID: TRUE
[19:05:23.309] [local output] Rscript port: 11542

[19:05:23.309] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:23.309] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:23.310] [local output] Setting up PSOCK nodes in parallel
[19:05:23.310] List of 36
[19:05:23.310]  $ worker          : chr "localhost"
[19:05:23.310]   ..- attr(*, "localhost")= logi TRUE
[19:05:23.310]  $ master          : chr "localhost"
[19:05:23.310]  $ port            : int 11542
[19:05:23.310]  $ connectTimeout  : num 120
[19:05:23.310]  $ timeout         : num 2592000
[19:05:23.310]  $ rscript         : chr "R_DEFAULT_PACKAGES=datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R'"
[19:05:23.310]  $ homogeneous     : logi TRUE
[19:05:23.310]  $ rscript_args    : chr "--no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file=\"/tmp/RtmpYda2wL/worker.rank=1.parallell"| __truncated__
[19:05:23.310]  $ rscript_envs    : NULL
[19:05:23.310]  $ rscript_libs    : NULL
[19:05:23.310]  $ rscript_startup : NULL
[19:05:23.310]  $ rscript_sh      : chr "sh"
[19:05:23.310]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:23.310]  $ methods         : logi TRUE
[19:05:23.310]  $ socketOptions   : chr "no-delay"
[19:05:23.310]  $ useXDR          : logi FALSE
[19:05:23.310]  $ outfile         : chr "/dev/null"
[19:05:23.310]  $ renice          : int NA
[19:05:23.310]  $ rshcmd          : NULL
[19:05:23.310]  $ user            : chr(0) 
[19:05:23.310]  $ revtunnel       : logi FALSE
[19:05:23.310]  $ rshlogfile      : NULL
[19:05:23.310]  $ rshopts         : chr(0) 
[19:05:23.310]  $ rank            : int 1
[19:05:23.310]  $ manual          : logi FALSE
[19:05:23.310]  $ dryrun          : logi FALSE
[19:05:23.310]  $ quiet           : logi FALSE
[19:05:23.310]  $ setup_strategy  : chr "parallel"
[19:05:23.310]  $ local_cmd       : chr "R_DEFAULT_PACKAGES=datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-echo --no-rest"| __truncated__
[19:05:23.310]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a514410c.pid"
[19:05:23.310]  $ rshcmd_label    : NULL
[19:05:23.310]  $ rsh_call        : NULL
[19:05:23.310]  $ cmd             : chr "R_DEFAULT_PACKAGES=datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-echo --no-rest"| __truncated__
[19:05:23.310]  $ localMachine    : logi TRUE
[19:05:23.310]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:23.310]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:23.310]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:23.310]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:23.310]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:23.310]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:23.310]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:23.310]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:23.310]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:23.310]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:23.310]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:23.310]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:23.310]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:23.310]  $ arguments       :List of 28
[19:05:23.310]   ..$ worker          : chr "localhost"
[19:05:23.310]   ..$ master          : NULL
[19:05:23.310]   ..$ port            : int 11542
[19:05:23.310]   ..$ connectTimeout  : num 120
[19:05:23.310]   ..$ timeout         : num 2592000
[19:05:23.310]   ..$ rscript         : chr "/usr/local/lib/R/bin/R"
[19:05:23.310]   ..$ homogeneous     : NULL
[19:05:23.310]   ..$ rscript_args    : chr [1:4] "--no-echo" "--no-restore" "*" "--args"
[19:05:23.310]   ..$ rscript_envs    : NULL
[19:05:23.310]   ..$ rscript_libs    : NULL
[19:05:23.310]   ..$ rscript_startup : NULL
[19:05:23.310]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:23.310]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:23.310]   ..$ methods         : logi TRUE
[19:05:23.310]   ..$ socketOptions   : chr "no-delay"
[19:05:23.310]   ..$ useXDR          : logi FALSE
[19:05:23.310]   ..$ outfile         : chr "/dev/null"
[19:05:23.310]   ..$ renice          : int NA
[19:05:23.310]   ..$ rshcmd          : NULL
[19:05:23.310]   ..$ user            : NULL
[19:05:23.310]   ..$ revtunnel       : logi NA
[19:05:23.310]   ..$ rshlogfile      : NULL
[19:05:23.310]   ..$ rshopts         : NULL
[19:05:23.310]   ..$ rank            : int 1
[19:05:23.310]   ..$ manual          : logi FALSE
[19:05:23.310]   ..$ dryrun          : logi FALSE
[19:05:23.310]   ..$ quiet           : logi FALSE
[19:05:23.310]   ..$ setup_strategy  : chr "parallel"
[19:05:23.310]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:23.344] [local output] System call to launch all workers:
[19:05:23.344] [local output] R_DEFAULT_PACKAGES=datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a514410c.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' --args MASTER=localhost PORT=11542 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:23.345] [local output] Starting PSOCK main server
[19:05:23.346] [local output] Workers launched
[19:05:23.347] [local output] Waiting for workers to connect back
[19:05:23.347]  - [local output] 0 workers out of 1 ready
[19:05:23.622]  - [local output] 0 workers out of 1 ready
[19:05:23.622]  - [local output] 1 workers out of 1 ready
[19:05:23.623] [local output] Launching of workers completed
[19:05:23.623] [local output] Collecting session information from workers
[19:05:23.624] [local output]  - Worker #1 of 1
[19:05:23.625] [local output] makeClusterPSOCK() ... done
> 
> 
> message("- makeClusterPSOCK() - default packages")
- makeClusterPSOCK() - default packages
> 
> if (.Platform$OS.type == "windows") {
+   ## R and R.exe fails on MS Windows, cf. R-devel thread "MS Windows: R does
+   ## not escape quotes in CLI options the same way as Rterm and Rscript"
+   ## on 2021-12-15.
+   rscripts <- file.path(R.home("bin"), c("Rscript", "Rterm", "Rterm.exe"))
+ } else {
+   rscripts <- file.path(R.home("bin"), c("Rscript", "R"))
+ }
> default_packages <- c("utils", "tools")
> for (rscript in rscripts) {
+   message("  Launcher: ", sQuote(rscript))
+   if (tools::file_path_sans_ext(basename(rscript)) %in% c("R", "Rterm")) {
+     rscript_args <- c("--no-echo", "--no-restore", "*", "--args")
+   } else {
+     rscript_args <- NULL
+   }
+   cl <- tryCatch({
+     makeClusterPSOCK(1L, rscript = rscript, rscript_args = rscript_args, default_packages = default_packages)
+   }, warning = identity)
+   stopifnot(inherits(cl, "cluster"))
+   pkgs <- parallel::clusterEvalQ(cl, { getOption("defaultPackages") })[[1]]
+   stopifnot(identical(pkgs, default_packages))
+   parallel::stopCluster(cl)
+ }
  Launcher: ‘/usr/local/lib/R/bin/Rscript’
[19:05:23.643] [local output] makeClusterPSOCK() ...
[19:05:23.648] [local output] Workers: [n = 1] ‘localhost’
[19:05:23.649] [local output] Base port: 11992
[19:05:23.650] [local output] Getting setup options for 1 cluster nodes ...
[19:05:23.650] [local output]  - Node 1 of 1 ...
[19:05:23.651] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:23.655] [local output] Rscript port: 11992

[19:05:23.655] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:23.655] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:23.656] [local output] Setting up PSOCK nodes in parallel
[19:05:23.656] List of 36
[19:05:23.656]  $ worker          : chr "localhost"
[19:05:23.656]   ..- attr(*, "localhost")= logi TRUE
[19:05:23.656]  $ master          : chr "localhost"
[19:05:23.656]  $ port            : int 11992
[19:05:23.656]  $ connectTimeout  : num 120
[19:05:23.656]  $ timeout         : num 2592000
[19:05:23.656]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:23.656]  $ homogeneous     : logi TRUE
[19:05:23.656]  $ rscript_args    : chr "--default-packages=utils,tools -e 'try(suppressWarnings(cat(Sys.getpid(),file=\"/tmp/RtmpYda2wL/worker.rank=1.p"| __truncated__
[19:05:23.656]  $ rscript_envs    : NULL
[19:05:23.656]  $ rscript_libs    : NULL
[19:05:23.656]  $ rscript_startup : NULL
[19:05:23.656]  $ rscript_sh      : chr "sh"
[19:05:23.656]  $ default_packages: chr [1:2] "utils" "tools"
[19:05:23.656]  $ methods         : logi TRUE
[19:05:23.656]  $ socketOptions   : chr "no-delay"
[19:05:23.656]  $ useXDR          : logi FALSE
[19:05:23.656]  $ outfile         : chr "/dev/null"
[19:05:23.656]  $ renice          : int NA
[19:05:23.656]  $ rshcmd          : NULL
[19:05:23.656]  $ user            : chr(0) 
[19:05:23.656]  $ revtunnel       : logi FALSE
[19:05:23.656]  $ rshlogfile      : NULL
[19:05:23.656]  $ rshopts         : chr(0) 
[19:05:23.656]  $ rank            : int 1
[19:05:23.656]  $ manual          : logi FALSE
[19:05:23.656]  $ dryrun          : logi FALSE
[19:05:23.656]  $ quiet           : logi FALSE
[19:05:23.656]  $ setup_strategy  : chr "parallel"
[19:05:23.656]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=utils,tools -e 'try(suppressWarnings(cat(Sys.getpid(),file=\""| __truncated__
[19:05:23.656]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a21ea5efd.pid"
[19:05:23.656]  $ rshcmd_label    : NULL
[19:05:23.656]  $ rsh_call        : NULL
[19:05:23.656]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=utils,tools -e 'try(suppressWarnings(cat(Sys.getpid(),file=\""| __truncated__
[19:05:23.656]  $ localMachine    : logi TRUE
[19:05:23.656]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:23.656]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:23.656]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:23.656]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:23.656]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:23.656]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:23.656]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:23.656]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:23.656]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:23.656]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:23.656]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:23.656]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:23.656]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:23.656]  $ arguments       :List of 28
[19:05:23.656]   ..$ worker          : chr "localhost"
[19:05:23.656]   ..$ master          : NULL
[19:05:23.656]   ..$ port            : int 11992
[19:05:23.656]   ..$ connectTimeout  : num 120
[19:05:23.656]   ..$ timeout         : num 2592000
[19:05:23.656]   ..$ rscript         : chr "/usr/local/lib/R/bin/Rscript"
[19:05:23.656]   ..$ homogeneous     : NULL
[19:05:23.656]   ..$ rscript_args    : NULL
[19:05:23.656]   ..$ rscript_envs    : NULL
[19:05:23.656]   ..$ rscript_libs    : NULL
[19:05:23.656]   ..$ rscript_startup : NULL
[19:05:23.656]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:23.656]   ..$ default_packages: chr [1:2] "utils" "tools"
[19:05:23.656]   ..$ methods         : logi TRUE
[19:05:23.656]   ..$ socketOptions   : chr "no-delay"
[19:05:23.656]   ..$ useXDR          : logi FALSE
[19:05:23.656]   ..$ outfile         : chr "/dev/null"
[19:05:23.656]   ..$ renice          : int NA
[19:05:23.656]   ..$ rshcmd          : NULL
[19:05:23.656]   ..$ user            : NULL
[19:05:23.656]   ..$ revtunnel       : logi NA
[19:05:23.656]   ..$ rshlogfile      : NULL
[19:05:23.656]   ..$ rshopts         : NULL
[19:05:23.656]   ..$ rank            : int 1
[19:05:23.656]   ..$ manual          : logi FALSE
[19:05:23.656]   ..$ dryrun          : logi FALSE
[19:05:23.656]   ..$ quiet           : logi FALSE
[19:05:23.656]   ..$ setup_strategy  : chr "parallel"
[19:05:23.656]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:23.692] [local output] System call to launch all workers:
[19:05:23.692] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=utils,tools -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a21ea5efd.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11992 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:23.693] [local output] Starting PSOCK main server
[19:05:23.695] [local output] Workers launched
[19:05:23.695] [local output] Waiting for workers to connect back
[19:05:23.695]  - [local output] 0 workers out of 1 ready
[19:05:23.828]  - [local output] 0 workers out of 1 ready
[19:05:23.830]  - [local output] 1 workers out of 1 ready
[19:05:23.830] [local output] Launching of workers completed
[19:05:23.831] [local output] Collecting session information from workers
[19:05:23.832] [local output]  - Worker #1 of 1
[19:05:23.832] [local output] makeClusterPSOCK() ... done
  Launcher: ‘/usr/local/lib/R/bin/R’
[19:05:23.834] [local output] makeClusterPSOCK() ...
[19:05:23.841] [local output] Workers: [n = 1] ‘localhost’
[19:05:23.842] [local output] Base port: 11035
[19:05:23.842] [local output] Getting setup options for 1 cluster nodes ...
[19:05:23.843] [local output]  - Node 1 of 1 ...
[19:05:23.843] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:23.847] [local output] Rscript port: 11035

[19:05:23.848] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:23.848] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:23.848] [local output] Setting up PSOCK nodes in parallel
[19:05:23.849] List of 36
[19:05:23.849]  $ worker          : chr "localhost"
[19:05:23.849]   ..- attr(*, "localhost")= logi TRUE
[19:05:23.849]  $ master          : chr "localhost"
[19:05:23.849]  $ port            : int 11035
[19:05:23.849]  $ connectTimeout  : num 120
[19:05:23.849]  $ timeout         : num 2592000
[19:05:23.849]  $ rscript         : chr "R_DEFAULT_PACKAGES=utils,tools '/usr/local/lib/R/bin/R'"
[19:05:23.849]  $ homogeneous     : logi TRUE
[19:05:23.849]  $ rscript_args    : chr "--no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file=\"/tmp/RtmpYda2wL/worker.rank=1.parallell"| __truncated__
[19:05:23.849]  $ rscript_envs    : NULL
[19:05:23.849]  $ rscript_libs    : NULL
[19:05:23.849]  $ rscript_startup : NULL
[19:05:23.849]  $ rscript_sh      : chr "sh"
[19:05:23.849]  $ default_packages: chr [1:2] "utils" "tools"
[19:05:23.849]  $ methods         : logi TRUE
[19:05:23.849]  $ socketOptions   : chr "no-delay"
[19:05:23.849]  $ useXDR          : logi FALSE
[19:05:23.849]  $ outfile         : chr "/dev/null"
[19:05:23.849]  $ renice          : int NA
[19:05:23.849]  $ rshcmd          : NULL
[19:05:23.849]  $ user            : chr(0) 
[19:05:23.849]  $ revtunnel       : logi FALSE
[19:05:23.849]  $ rshlogfile      : NULL
[19:05:23.849]  $ rshopts         : chr(0) 
[19:05:23.849]  $ rank            : int 1
[19:05:23.849]  $ manual          : logi FALSE
[19:05:23.849]  $ dryrun          : logi FALSE
[19:05:23.849]  $ quiet           : logi FALSE
[19:05:23.849]  $ setup_strategy  : chr "parallel"
[19:05:23.849]  $ local_cmd       : chr "R_DEFAULT_PACKAGES=utils,tools '/usr/local/lib/R/bin/R' --no-echo --no-restore -e 'try(suppressWarnings(cat(Sys"| __truncated__
[19:05:23.849]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a37b07e2e.pid"
[19:05:23.849]  $ rshcmd_label    : NULL
[19:05:23.849]  $ rsh_call        : NULL
[19:05:23.849]  $ cmd             : chr "R_DEFAULT_PACKAGES=utils,tools '/usr/local/lib/R/bin/R' --no-echo --no-restore -e 'try(suppressWarnings(cat(Sys"| __truncated__
[19:05:23.849]  $ localMachine    : logi TRUE
[19:05:23.849]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:23.849]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:23.849]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:23.849]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:23.849]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:23.849]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:23.849]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:23.849]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:23.849]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:23.849]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:23.849]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:23.849]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:23.849]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:23.849]  $ arguments       :List of 28
[19:05:23.849]   ..$ worker          : chr "localhost"
[19:05:23.849]   ..$ master          : NULL
[19:05:23.849]   ..$ port            : int 11035
[19:05:23.849]   ..$ connectTimeout  : num 120
[19:05:23.849]   ..$ timeout         : num 2592000
[19:05:23.849]   ..$ rscript         : chr "/usr/local/lib/R/bin/R"
[19:05:23.849]   ..$ homogeneous     : NULL
[19:05:23.849]   ..$ rscript_args    : chr [1:4] "--no-echo" "--no-restore" "*" "--args"
[19:05:23.849]   ..$ rscript_envs    : NULL
[19:05:23.849]   ..$ rscript_libs    : NULL
[19:05:23.849]   ..$ rscript_startup : NULL
[19:05:23.849]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:23.849]   ..$ default_packages: chr [1:2] "utils" "tools"
[19:05:23.849]   ..$ methods         : logi TRUE
[19:05:23.849]   ..$ socketOptions   : chr "no-delay"
[19:05:23.849]   ..$ useXDR          : logi FALSE
[19:05:23.849]   ..$ outfile         : chr "/dev/null"
[19:05:23.849]   ..$ renice          : int NA
[19:05:23.849]   ..$ rshcmd          : NULL
[19:05:23.849]   ..$ user            : NULL
[19:05:23.849]   ..$ revtunnel       : logi NA
[19:05:23.849]   ..$ rshlogfile      : NULL
[19:05:23.849]   ..$ rshopts         : NULL
[19:05:23.849]   ..$ rank            : int 1
[19:05:23.849]   ..$ manual          : logi FALSE
[19:05:23.849]   ..$ dryrun          : logi FALSE
[19:05:23.849]   ..$ quiet           : logi FALSE
[19:05:23.849]   ..$ setup_strategy  : chr "parallel"
[19:05:23.849]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:23.883] [local output] System call to launch all workers:
[19:05:23.883] [local output] R_DEFAULT_PACKAGES=utils,tools '/usr/local/lib/R/bin/R' --no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a37b07e2e.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' --args MASTER=localhost PORT=11035 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:23.883] [local output] Starting PSOCK main server
[19:05:23.885] [local output] Workers launched
[19:05:23.886] [local output] Waiting for workers to connect back
[19:05:23.886]  - [local output] 0 workers out of 1 ready
[19:05:24.010]  - [local output] 0 workers out of 1 ready
[19:05:24.011]  - [local output] 1 workers out of 1 ready
[19:05:24.011] [local output] Launching of workers completed
[19:05:24.012] [local output] Collecting session information from workers
[19:05:24.013] [local output]  - Worker #1 of 1
[19:05:24.013] [local output] makeClusterPSOCK() ... done
> 
> if (.Platform$OS.type == "windows") {
+   ## R and R.exe fails on MS Windows, cf. R-devel thread "MS Windows: R does
+   ## not escape quotes in CLI options the same way as Rterm and Rscript"
+   ## on 2021-12-15.
+   rscripts <- file.path(R.home("bin"), c("Rscript", "Rterm", "Rterm.exe"))
+ } else {
+   rscripts <- file.path(R.home("bin"), c("Rscript", "R"))
+ }
> default_packages <- c("parallelly", "*")
> truth <- unique(c("parallelly", getOption("defaultPackages")))
> for (rscript in rscripts) {
+   message("  Launcher: ", sQuote(rscript))
+   if (tools::file_path_sans_ext(basename(rscript)) %in% c("R", "Rterm")) {
+     rscript_args <- c("--no-echo", "--no-restore", "*", "--args")
+   } else {
+     rscript_args <- NULL
+   }
+   cl <- tryCatch({
+     makeClusterPSOCK(1L, rscript = rscript, rscript_args = rscript_args, default_packages = default_packages)
+   }, warning = identity)
+   stopifnot(inherits(cl, "cluster"))
+   pkgs <- parallel::clusterEvalQ(cl, { getOption("defaultPackages") })[[1]]
+   stopifnot(identical(pkgs, truth))
+   parallel::stopCluster(cl)
+ }
  Launcher: ‘/usr/local/lib/R/bin/Rscript’
[19:05:24.038] [local output] makeClusterPSOCK() ...
[19:05:24.044] [local output] Workers: [n = 1] ‘localhost’
[19:05:24.045] [local output] Base port: 11953
[19:05:24.045] [local output] Getting setup options for 1 cluster nodes ...
[19:05:24.045] [local output]  - Node 1 of 1 ...
[19:05:24.046] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:24.049] [local output] Rscript port: 11953

[19:05:24.050] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:24.050] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:24.051] [local output] Setting up PSOCK nodes in parallel
[19:05:24.051] List of 36
[19:05:24.051]  $ worker          : chr "localhost"
[19:05:24.051]   ..- attr(*, "localhost")= logi TRUE
[19:05:24.051]  $ master          : chr "localhost"
[19:05:24.051]  $ port            : int 11953
[19:05:24.051]  $ connectTimeout  : num 120
[19:05:24.051]  $ timeout         : num 2592000
[19:05:24.051]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:24.051]  $ homogeneous     : logi TRUE
[19:05:24.051]  $ rscript_args    : chr "--default-packages=parallelly,datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys."| __truncated__
[19:05:24.051]  $ rscript_envs    : NULL
[19:05:24.051]  $ rscript_libs    : NULL
[19:05:24.051]  $ rscript_startup : NULL
[19:05:24.051]  $ rscript_sh      : chr "sh"
[19:05:24.051]  $ default_packages: chr [1:7] "parallelly" "datasets" "utils" "grDevices" ...
[19:05:24.051]  $ methods         : logi TRUE
[19:05:24.051]  $ socketOptions   : chr "no-delay"
[19:05:24.051]  $ useXDR          : logi FALSE
[19:05:24.051]  $ outfile         : chr "/dev/null"
[19:05:24.051]  $ renice          : int NA
[19:05:24.051]  $ rshcmd          : NULL
[19:05:24.051]  $ user            : chr(0) 
[19:05:24.051]  $ revtunnel       : logi FALSE
[19:05:24.051]  $ rshlogfile      : NULL
[19:05:24.051]  $ rshopts         : chr(0) 
[19:05:24.051]  $ rank            : int 1
[19:05:24.051]  $ manual          : logi FALSE
[19:05:24.051]  $ dryrun          : logi FALSE
[19:05:24.051]  $ quiet           : logi FALSE
[19:05:24.051]  $ setup_strategy  : chr "parallel"
[19:05:24.051]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=parallelly,datasets,utils,grDevices,graphics,stats,methods -e"| __truncated__
[19:05:24.051]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a4e3029a2.pid"
[19:05:24.051]  $ rshcmd_label    : NULL
[19:05:24.051]  $ rsh_call        : NULL
[19:05:24.051]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=parallelly,datasets,utils,grDevices,graphics,stats,methods -e"| __truncated__
[19:05:24.051]  $ localMachine    : logi TRUE
[19:05:24.051]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:24.051]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:24.051]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:24.051]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:24.051]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:24.051]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:24.051]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:24.051]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:24.051]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:24.051]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:24.051]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:24.051]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:24.051]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:24.051]  $ arguments       :List of 28
[19:05:24.051]   ..$ worker          : chr "localhost"
[19:05:24.051]   ..$ master          : NULL
[19:05:24.051]   ..$ port            : int 11953
[19:05:24.051]   ..$ connectTimeout  : num 120
[19:05:24.051]   ..$ timeout         : num 2592000
[19:05:24.051]   ..$ rscript         : chr "/usr/local/lib/R/bin/Rscript"
[19:05:24.051]   ..$ homogeneous     : NULL
[19:05:24.051]   ..$ rscript_args    : NULL
[19:05:24.051]   ..$ rscript_envs    : NULL
[19:05:24.051]   ..$ rscript_libs    : NULL
[19:05:24.051]   ..$ rscript_startup : NULL
[19:05:24.051]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:24.051]   ..$ default_packages: chr [1:2] "parallelly" "*"
[19:05:24.051]   ..$ methods         : logi TRUE
[19:05:24.051]   ..$ socketOptions   : chr "no-delay"
[19:05:24.051]   ..$ useXDR          : logi FALSE
[19:05:24.051]   ..$ outfile         : chr "/dev/null"
[19:05:24.051]   ..$ renice          : int NA
[19:05:24.051]   ..$ rshcmd          : NULL
[19:05:24.051]   ..$ user            : NULL
[19:05:24.051]   ..$ revtunnel       : logi NA
[19:05:24.051]   ..$ rshlogfile      : NULL
[19:05:24.051]   ..$ rshopts         : NULL
[19:05:24.051]   ..$ rank            : int 1
[19:05:24.051]   ..$ manual          : logi FALSE
[19:05:24.051]   ..$ dryrun          : logi FALSE
[19:05:24.051]   ..$ quiet           : logi FALSE
[19:05:24.051]   ..$ setup_strategy  : chr "parallel"
[19:05:24.051]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:24.090] [local output] System call to launch all workers:
[19:05:24.090] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=parallelly,datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a4e3029a2.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11953 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:24.090] [local output] Starting PSOCK main server
[19:05:24.092] [local output] Workers launched
[19:05:24.092] [local output] Waiting for workers to connect back
[19:05:24.092]  - [local output] 0 workers out of 1 ready
[19:05:24.399]  - [local output] 0 workers out of 1 ready
[19:05:24.400]  - [local output] 1 workers out of 1 ready
[19:05:24.400] [local output] Launching of workers completed
[19:05:24.401] [local output] Collecting session information from workers
[19:05:24.402] [local output]  - Worker #1 of 1
[19:05:24.402] [local output] makeClusterPSOCK() ... done
  Launcher: ‘/usr/local/lib/R/bin/R’
[19:05:24.403] [local output] makeClusterPSOCK() ...
[19:05:24.411] [local output] Workers: [n = 1] ‘localhost’
[19:05:24.412] [local output] Base port: 11881
[19:05:24.413] [local output] Getting setup options for 1 cluster nodes ...
[19:05:24.413] [local output]  - Node 1 of 1 ...
[19:05:24.414] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:24.417] [local output] Rscript port: 11881

[19:05:24.418] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:24.418] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:24.419] [local output] Setting up PSOCK nodes in parallel
[19:05:24.419] List of 36
[19:05:24.419]  $ worker          : chr "localhost"
[19:05:24.419]   ..- attr(*, "localhost")= logi TRUE
[19:05:24.419]  $ master          : chr "localhost"
[19:05:24.419]  $ port            : int 11881
[19:05:24.419]  $ connectTimeout  : num 120
[19:05:24.419]  $ timeout         : num 2592000
[19:05:24.419]  $ rscript         : chr "R_DEFAULT_PACKAGES=parallelly,datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R'"
[19:05:24.419]  $ homogeneous     : logi TRUE
[19:05:24.419]  $ rscript_args    : chr "--no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file=\"/tmp/RtmpYda2wL/worker.rank=1.parallell"| __truncated__
[19:05:24.419]  $ rscript_envs    : NULL
[19:05:24.419]  $ rscript_libs    : NULL
[19:05:24.419]  $ rscript_startup : NULL
[19:05:24.419]  $ rscript_sh      : chr "sh"
[19:05:24.419]  $ default_packages: chr [1:7] "parallelly" "datasets" "utils" "grDevices" ...
[19:05:24.419]  $ methods         : logi TRUE
[19:05:24.419]  $ socketOptions   : chr "no-delay"
[19:05:24.419]  $ useXDR          : logi FALSE
[19:05:24.419]  $ outfile         : chr "/dev/null"
[19:05:24.419]  $ renice          : int NA
[19:05:24.419]  $ rshcmd          : NULL
[19:05:24.419]  $ user            : chr(0) 
[19:05:24.419]  $ revtunnel       : logi FALSE
[19:05:24.419]  $ rshlogfile      : NULL
[19:05:24.419]  $ rshopts         : chr(0) 
[19:05:24.419]  $ rank            : int 1
[19:05:24.419]  $ manual          : logi FALSE
[19:05:24.419]  $ dryrun          : logi FALSE
[19:05:24.419]  $ quiet           : logi FALSE
[19:05:24.419]  $ setup_strategy  : chr "parallel"
[19:05:24.419]  $ local_cmd       : chr "R_DEFAULT_PACKAGES=parallelly,datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-ech"| __truncated__
[19:05:24.419]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a15374f1d.pid"
[19:05:24.419]  $ rshcmd_label    : NULL
[19:05:24.419]  $ rsh_call        : NULL
[19:05:24.419]  $ cmd             : chr "R_DEFAULT_PACKAGES=parallelly,datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-ech"| __truncated__
[19:05:24.419]  $ localMachine    : logi TRUE
[19:05:24.419]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:24.419]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:24.419]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:24.419]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:24.419]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:24.419]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:24.419]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:24.419]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:24.419]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:24.419]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:24.419]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:24.419]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:24.419]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:24.419]  $ arguments       :List of 28
[19:05:24.419]   ..$ worker          : chr "localhost"
[19:05:24.419]   ..$ master          : NULL
[19:05:24.419]   ..$ port            : int 11881
[19:05:24.419]   ..$ connectTimeout  : num 120
[19:05:24.419]   ..$ timeout         : num 2592000
[19:05:24.419]   ..$ rscript         : chr "/usr/local/lib/R/bin/R"
[19:05:24.419]   ..$ homogeneous     : NULL
[19:05:24.419]   ..$ rscript_args    : chr [1:4] "--no-echo" "--no-restore" "*" "--args"
[19:05:24.419]   ..$ rscript_envs    : NULL
[19:05:24.419]   ..$ rscript_libs    : NULL
[19:05:24.419]   ..$ rscript_startup : NULL
[19:05:24.419]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:24.419]   ..$ default_packages: chr [1:2] "parallelly" "*"
[19:05:24.419]   ..$ methods         : logi TRUE
[19:05:24.419]   ..$ socketOptions   : chr "no-delay"
[19:05:24.419]   ..$ useXDR          : logi FALSE
[19:05:24.419]   ..$ outfile         : chr "/dev/null"
[19:05:24.419]   ..$ renice          : int NA
[19:05:24.419]   ..$ rshcmd          : NULL
[19:05:24.419]   ..$ user            : NULL
[19:05:24.419]   ..$ revtunnel       : logi NA
[19:05:24.419]   ..$ rshlogfile      : NULL
[19:05:24.419]   ..$ rshopts         : NULL
[19:05:24.419]   ..$ rank            : int 1
[19:05:24.419]   ..$ manual          : logi FALSE
[19:05:24.419]   ..$ dryrun          : logi FALSE
[19:05:24.419]   ..$ quiet           : logi FALSE
[19:05:24.419]   ..$ setup_strategy  : chr "parallel"
[19:05:24.419]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:24.453] [local output] System call to launch all workers:
[19:05:24.453] [local output] R_DEFAULT_PACKAGES=parallelly,datasets,utils,grDevices,graphics,stats,methods '/usr/local/lib/R/bin/R' --no-echo --no-restore -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641a15374f1d.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' --args MASTER=localhost PORT=11881 OUT=/dev/null TIMEOUT=2592000 XDR=FALSE SETUPTIMEOUT=120 SETUPSTRATEGY=parallel
[19:05:24.453] [local output] Starting PSOCK main server
[19:05:24.455] [local output] Workers launched
[19:05:24.455] [local output] Waiting for workers to connect back
[19:05:24.456]  - [local output] 0 workers out of 1 ready
[19:05:24.772]  - [local output] 0 workers out of 1 ready
[19:05:24.772]  - [local output] 1 workers out of 1 ready
[19:05:24.772] [local output] Launching of workers completed
[19:05:24.773] [local output] Collecting session information from workers
[19:05:24.774] [local output]  - Worker #1 of 1
[19:05:24.774] [local output] makeClusterPSOCK() ... done
> 
> 
> message("- makeClusterPSOCK() - exceptions")
- makeClusterPSOCK() - exceptions
> 
> res <- tryCatch({
+   cl <- makeClusterPSOCK(1:2)
+ }, error = identity)
[19:05:24.776] [local output] makeClusterPSOCK() ...
> print(res)
<simpleError: When numeric, argument 'workers' must be a single value: 2>
> stopifnot(inherits(res, "error"))
> 
> res <- tryCatch({
+   cl <- makeClusterPSOCK(0L)
+ }, error = identity)
[19:05:24.777] [local output] makeClusterPSOCK() ...
> print(res)
<simpleError: Number of 'workers' must be one or greater: 0>
> stopifnot(inherits(res, "error"))
> 
> res <- tryCatch({
+   cl <- makeClusterPSOCK(1L, rshcmd = character(0L))
+ }, error = identity)
[19:05:24.777] [local output] makeClusterPSOCK() ...
[19:05:24.783] [local output] Workers: [n = 1] ‘localhost’
[19:05:24.784] [local output] Base port: 11174
[19:05:24.784] [local output] Getting setup options for 1 cluster nodes ...
[19:05:24.785] [local output]  - Node 1 of 1 ...
> print(res)
<simpleError: ‘length(rshcmd) >= 1L’ is not TRUE>
> stopifnot(inherits(res, "error"))
> 
> res <- tryCatch({
+   cl <- makeClusterPSOCK(1L, port = integer(0L))
+ }, error = identity)
[19:05:24.786] [local output] makeClusterPSOCK() ...
[19:05:24.791] [local output] Workers: [n = 1] ‘localhost’
> print(res)
<simpleError in makeClusterPSOCK(1L, port = integer(0L)): Argument 'port' must be of length one or more: 0>
> stopifnot(inherits(res, "error"))
> 
> res <- tryCatch({
+   cl <- makeClusterPSOCK(1L, port = NA_integer_)
+ }, error = identity)
[19:05:24.792] [local output] makeClusterPSOCK() ...
[19:05:24.798] [local output] Workers: [n = 1] ‘localhost’
> print(res)
<simpleError in isTcpPortAvailable(port): !is.na(port) is not TRUE>
> stopifnot(inherits(res, "error"))
> 
> 
> message("- makeClusterPSOCK() - exceptions")
- makeClusterPSOCK() - exceptions
> 
> ## Non-existing hostname
> res <- tryCatch({
+   cl <- makeNodePSOCK("not.a.localhost.hostname", revtunnel = TRUE)
+ }, error = identity)
> print(res)
<simpleError in makeNodePSOCK("not.a.localhost.hostname", revtunnel = TRUE): argument "port" is missing, with no default>
> stopifnot(inherits(res, "error"))
> 
> ## Invalid port
> res <- tryCatch({
+   cl <- makeNodePSOCK("localhost", port = NA_integer_)
+ }, error = identity)
> print(res)
<simpleError: Invalid port: NA>
> stopifnot(inherits(res, "error"))
> 
> ## Don't test on CRAN
> if (fullTest || covr_testing) {
+   ## Occupied/blocked port
+   res <- tryCatch(
+     cl <- parallelly::makeClusterPSOCK("localhost", port = 80L, tries = 1L),
+   error = identity)
+   print(res)
+   ## Skip error assertion in case this actually works on some machine.
+   ## But where it fails, we are testing the port-failure exception code.
+ }
> 
> 
> ## https://github.com/HenrikBengtsson/parallelly/issues/95
> if (getRversion() >= "4.0.0") {
+   res <- tryCatch({
+     parallelly::makeClusterPSOCK(1L, rscript_startup = quote(Sys.sleep(6.0)),
+                                  connectTimeout = 0.1, timeout = 7.0)
+   }, error = identity)
+   print(res)
+   stopifnot(
+     inherits(res, "error"),
+     grepl("^Cluster setup failed", conditionMessage(res))
+   )
+ 
+   ## Make sure to wait for background process to timeout before continuing,
+   ## when on MS Windows
+   if (.Platform$OS.type == "windows") Sys.sleep(5.0)
+ }
[19:05:24.801] [local output] makeClusterPSOCK() ...
[19:05:24.806] [local output] Workers: [n = 1] ‘localhost’
[19:05:24.807] [local output] Base port: 11088
[19:05:24.807] [local output] Getting setup options for 1 cluster nodes ...
[19:05:24.808] [local output]  - Node 1 of 1 ...
[19:05:24.808] [local output] localMachine=TRUE => revtunnel=FALSE

[19:05:24.809] [local output] Rscript port: 11088

[19:05:24.810] [local output] Getting setup options for 1 cluster nodes ... done
[19:05:24.810] [local output]  - Parallel setup requested for some PSOCK nodes
[19:05:24.811] [local output] Setting up PSOCK nodes in parallel
[19:05:24.811] List of 36
[19:05:24.811]  $ worker          : chr "localhost"
[19:05:24.811]   ..- attr(*, "localhost")= logi TRUE
[19:05:24.811]  $ master          : chr "localhost"
[19:05:24.811]  $ port            : int 11088
[19:05:24.811]  $ connectTimeout  : num 0.1
[19:05:24.811]  $ timeout         : num 7
[19:05:24.811]  $ rscript         : chr "'/usr/local/lib/R/bin/Rscript'"
[19:05:24.811]  $ homogeneous     : logi TRUE
[19:05:24.811]  $ rscript_args    : chr "--default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),fi"| __truncated__
[19:05:24.811]  $ rscript_envs    : NULL
[19:05:24.811]  $ rscript_libs    : NULL
[19:05:24.811]  $ rscript_startup : chr [1:2] "-e" "'invisible({Sys.sleep(6)})'"
[19:05:24.811]  $ rscript_sh      : chr "sh"
[19:05:24.811]  $ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:24.811]  $ methods         : logi TRUE
[19:05:24.811]  $ socketOptions   : chr "no-delay"
[19:05:24.811]  $ useXDR          : logi FALSE
[19:05:24.811]  $ outfile         : chr "/dev/null"
[19:05:24.811]  $ renice          : int NA
[19:05:24.811]  $ rshcmd          : NULL
[19:05:24.811]  $ user            : chr(0) 
[19:05:24.811]  $ revtunnel       : logi FALSE
[19:05:24.811]  $ rshlogfile      : NULL
[19:05:24.811]  $ rshopts         : chr(0) 
[19:05:24.811]  $ rank            : int 1
[19:05:24.811]  $ manual          : logi FALSE
[19:05:24.811]  $ dryrun          : logi FALSE
[19:05:24.811]  $ quiet           : logi FALSE
[19:05:24.811]  $ setup_strategy  : chr "parallel"
[19:05:24.811]  $ local_cmd       : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:24.811]  $ pidfile         : chr "/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641aae2ce67.pid"
[19:05:24.811]  $ rshcmd_label    : NULL
[19:05:24.811]  $ rsh_call        : NULL
[19:05:24.811]  $ cmd             : chr "'/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppr"| __truncated__
[19:05:24.811]  $ localMachine    : logi TRUE
[19:05:24.811]  $ make_fcn        :function (worker = getOption2("parallelly.localhost.hostname", "localhost"), 
[19:05:24.811]     master = NULL, port, connectTimeout = getOption2("parallelly.makeNodePSOCK.connectTimeout", 
[19:05:24.811]         2 * 60), timeout = getOption2("parallelly.makeNodePSOCK.timeout", 
[19:05:24.811]         30 * 24 * 60 * 60), rscript = NULL, homogeneous = NULL, rscript_args = NULL, 
[19:05:24.811]     rscript_envs = NULL, rscript_libs = NULL, rscript_startup = NULL, rscript_sh = c("auto", 
[19:05:24.811]         "cmd", "sh"), default_packages = c("datasets", "utils", "grDevices", 
[19:05:24.811]         "graphics", "stats", if (methods) "methods"), methods = TRUE, socketOptions = getOption2("parallelly.makeNodePSOCK.socketOptions", 
[19:05:24.811]         "no-delay"), useXDR = getOption2("parallelly.makeNodePSOCK.useXDR", 
[19:05:24.811]         FALSE), outfile = "/dev/null", renice = NA_integer_, rshcmd = getOption2("parallelly.makeNodePSOCK.rshcmd", 
[19:05:24.811]         NULL), user = NULL, revtunnel = NA, rshlogfile = NULL, rshopts = getOption2("parallelly.makeNodePSOCK.rshopts", 
[19:05:24.811]         NULL), rank = 1L, manual = FALSE, dryrun = FALSE, quiet = FALSE, 
[19:05:24.811]     setup_strategy = getOption2("parallelly.makeNodePSOCK.setup_strategy", 
[19:05:24.811]         "parallel"), action = c("launch", "options"), verbose = FALSE)  
[19:05:24.811]  $ arguments       :List of 28
[19:05:24.811]   ..$ worker          : chr "localhost"
[19:05:24.811]   ..$ master          : NULL
[19:05:24.811]   ..$ port            : int 11088
[19:05:24.811]   ..$ connectTimeout  : num 0.1
[19:05:24.811]   ..$ timeout         : num 7
[19:05:24.811]   ..$ rscript         : NULL
[19:05:24.811]   ..$ homogeneous     : NULL
[19:05:24.811]   ..$ rscript_args    : NULL
[19:05:24.811]   ..$ rscript_envs    : NULL
[19:05:24.811]   ..$ rscript_libs    : NULL
[19:05:24.811]   ..$ rscript_startup : language Sys.sleep(6)
[19:05:24.811]   ..$ rscript_sh      : chr [1:3] "auto" "cmd" "sh"
[19:05:24.811]   ..$ default_packages: chr [1:6] "datasets" "utils" "grDevices" "graphics" ...
[19:05:24.811]   ..$ methods         : logi TRUE
[19:05:24.811]   ..$ socketOptions   : chr "no-delay"
[19:05:24.811]   ..$ useXDR          : logi FALSE
[19:05:24.811]   ..$ outfile         : chr "/dev/null"
[19:05:24.811]   ..$ renice          : int NA
[19:05:24.811]   ..$ rshcmd          : NULL
[19:05:24.811]   ..$ user            : NULL
[19:05:24.811]   ..$ revtunnel       : logi NA
[19:05:24.811]   ..$ rshlogfile      : NULL
[19:05:24.811]   ..$ rshopts         : NULL
[19:05:24.811]   ..$ rank            : int 1
[19:05:24.811]   ..$ manual          : logi FALSE
[19:05:24.811]   ..$ dryrun          : logi FALSE
[19:05:24.811]   ..$ quiet           : logi FALSE
[19:05:24.811]   ..$ setup_strategy  : chr "parallel"
[19:05:24.811]  - attr(*, "class")= chr [1:2] "makeNodePSOCKOptions" "makeNodeOptions"
[19:05:24.849] [local output] System call to launch all workers:
[19:05:24.850] [local output] '/usr/local/lib/R/bin/Rscript' --default-packages=datasets,utils,grDevices,graphics,stats,methods -e 'try(suppressWarnings(cat(Sys.getpid(),file="/tmp/RtmpYda2wL/worker.rank=1.parallelly.parent=353306.5641aae2ce67.pid")), silent = TRUE)' -e 'options(socketOptions = "no-delay")' -e 'invisible({Sys.sleep(6)})' -e 'workRSOCK <- tryCatch(parallel:::.workRSOCK, error=function(e) parallel:::.slaveRSOCK); workRSOCK()' MASTER=localhost PORT=11088 OUT=/dev/null TIMEOUT=7 XDR=FALSE SETUPTIMEOUT=0.1 SETUPSTRATEGY=parallel
[19:05:24.850] [local output] Starting PSOCK main server
[19:05:24.852] [local output] Workers launched
[19:05:24.852] [local output] Waiting for workers to connect back
[19:05:24.852]  - [local output] 0 workers out of 1 ready
[19:05:24.955]  - [local output] 0 workers out of 1 ready
[19:05:25.056]  - [local output] 0 workers out of 1 ready
[19:05:25.156]  - [local output] 0 workers out of 1 ready
[19:05:25.257]  - [local output] 0 workers out of 1 ready
[19:05:25.358]  - [local output] 0 workers out of 1 ready
[19:05:25.459]  - [local output] 0 workers out of 1 ready
[19:05:25.560]  - [local output] 0 workers out of 1 ready
[19:05:25.661]  - [local output] 0 workers out of 1 ready
[19:05:25.762]  - [local output] 0 workers out of 1 ready
[19:05:25.863]  - [local output] 0 workers out of 1 ready
[19:05:25.964]  - [local output] 0 workers out of 1 ready
[19:05:26.065]  - [local output] 0 workers out of 1 ready
[19:05:26.166]  - [local output] 0 workers out of 1 ready
[19:05:26.267]  - [local output] 0 workers out of 1 ready
[19:05:26.368]  - [local output] 0 workers out of 1 ready
[19:05:26.469]  - [local output] 0 workers out of 1 ready
[19:05:26.570]  - [local output] 0 workers out of 1 ready
[19:05:26.671]  - [local output] 0 workers out of 1 ready
[19:05:26.772]  - [local output] 0 workers out of 1 ready
[19:05:26.873]  - [local output] 0 workers out of 1 ready
[19:05:26.974]  - [local output] 0 workers out of 1 ready
[19:05:27.075]  - [local output] 0 workers out of 1 ready
[19:05:27.176]  - [local output] 0 workers out of 1 ready
[19:05:27.277]  - [local output] 0 workers out of 1 ready
[19:05:27.378]  - [local output] 0 workers out of 1 ready
[19:05:27.479]  - [local output] 0 workers out of 1 ready
[19:05:27.580]  - [local output] 0 workers out of 1 ready
[19:05:27.681]  - [local output] 0 workers out of 1 ready
[19:05:27.782]  - [local output] 0 workers out of 1 ready
[19:05:27.883]  - [local output] 0 workers out of 1 ready
[19:05:27.984]  - [local output] 0 workers out of 1 ready
[19:05:28.084]  - [local output] 0 workers out of 1 ready
[19:05:28.185]  - [local output] 0 workers out of 1 ready
[19:05:28.286]  - [local output] 0 workers out of 1 ready
[19:05:28.387]  - [local output] 0 workers out of 1 ready
[19:05:28.488]  - [local output] 0 workers out of 1 ready
[19:05:28.589]  - [local output] 0 workers out of 1 ready
[19:05:28.690]  - [local output] 0 workers out of 1 ready
[19:05:28.791]  - [local output] 0 workers out of 1 ready
[19:05:28.892]  - [local output] 0 workers out of 1 ready
[19:05:28.993]  - [local output] 0 workers out of 1 ready
[19:05:29.094]  - [local output] 0 workers out of 1 ready
[19:05:29.195]  - [local output] 0 workers out of 1 ready
[19:05:29.296]  - [local output] 0 workers out of 1 ready
[19:05:29.397]  - [local output] 0 workers out of 1 ready
[19:05:29.498]  - [local output] 0 workers out of 1 ready
[19:05:29.599]  - [local output] 0 workers out of 1 ready
[19:05:29.700]  - [local output] 0 workers out of 1 ready
[19:05:29.801]  - [local output] 0 workers out of 1 ready
[19:05:29.902]  - [local output] 0 workers out of 1 ready
[19:05:30.003]  - [local output] 0 workers out of 1 ready
<simpleError in parallelly::makeClusterPSOCK(1L, rscript_startup = quote(Sys.sleep(6)),     connectTimeout = 0.1, timeout = 7): Cluster setup failed (connectTimeout=5.1 seconds). 1 worker of 1 failed to connect.>
> 
> message("*** makeClusterPSOCK() ... DONE")
*** makeClusterPSOCK() ... DONE
> 
> source("incl/end.R")
> 
