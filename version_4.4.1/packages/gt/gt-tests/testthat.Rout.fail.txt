
R version 4.4.1 (2024-06-14) -- "Race for Your Life"
Copyright (C) 2024 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(gt)

Attaching package: ‘gt’

The following object is masked from ‘package:testthat’:

    matches

> 
> test_check("gt")
Starting 2 test processes
[ FAIL 2 | WARN 0 | SKIP 9 | PASS 681 ]

══ Skipped tests (9) ═══════════════════════════════════════════════════════════
• Needs fmt_date() to work. (1): 'test-l_fmt_date_time.R:323:3'
• On CI (1): 'test-rtf_table_parts.R:3:3'
• On CRAN (7): 'test-as_latex.R:145:3', 'test-as_latex.R:233:3',
  'test-cols_add.R:24:3', 'test-as_gtable.R:47:3', 'test-cols_hide.R:13:3',
  'test-cols_nanoplot.R:2:3', 'test-cols_units.R:28:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-as_latex.R:57:3'): Table position is correctly applied in LaTeX if used* ──
`gt_latex_width_1` does not match "\\\\begin\\{table\\}\\[!tb\\]".
Actual value: "\\\\begin\{table\}\\n\\\\fontsize\{12\.0pt\}\{14\.4pt\}\\\\selectfont\\n\\\\begin\{tabular\*\}\{0\.9\\\\linewidth\}\{@\{\\\\extracolsep\{\\\\fill\}\}rlcrrrrll\}\\n\\\\toprule\\nnum & char & fctr & date & time & datetime & currency & row & group \\\\\\\\ \\n\\\\midrule\\\\addlinespace\[2\.5pt\]\\n1\.111e-01 & apricot & one & 2015-01-15 & 13:35 & 2018-01-01 02:22 & 49\.950 & row\\\\_1 & grp\\\\_a \\\\\\\\ \\n2\.222e\+00 & banana & two & 2015-02-15 & 14:40 & 2018-02-02 14:33 & 17\.950 & row\\\\_2 & grp\\\\_a \\\\\\\\ \\n3\.333e\+01 & coconut & three & 2015-03-15 & 15:45 & 2018-03-03 03:44 & 1\.390 & row\\\\_3 & grp\\\\_a \\\\\\\\ \\n4\.444e\+02 & durian & four & 2015-04-15 & 16:50 & 2018-04-04 15:55 & 65100\.000 & row\\\\_4 & grp\\\\_a \\\\\\\\ \\n5\.550e\+03 & NA & five & 2015-05-15 & 17:55 & 2018-05-05 04:00 & 1325\.810 & row\\\\_5 & grp\\\\_b \\\\\\\\ \\nNA & fig & six & 2015-06-15 & NA & 2018-06-06 16:11 & 13\.255 & row\\\\_6 & grp\\\\_b \\\\\\\\ \\n7\.770e\+05 & grapefruit & seven & NA & 19:10 & 2018-07-07 05:22 & NA & row\\\\_7 & grp\\\\_b \\\\\\\\ \\n8\.880e\+06 & honeydew & eight & 2015-08-15 & 20:20 & NA & 0\.440 & row\\\\_8 & grp\\\\_b \\\\\\\\ \\n\\\\bottomrule\\n\\\\end\{tabular\*\}\\n\\\\end\{table\}\\n"
Backtrace:
    ▆
 1. └─testthat::expect_match(gt_latex_width_1, "\\\\begin\\{table\\}\\[!tb\\]") at test-as_latex.R:57:3
 2.   └─testthat:::expect_match_(...)
── Failure ('test-tab_caption.R:48:3'): A caption can be added/removed with `tab_caption()`/`rm_caption()` ──
as.character(create_caption_component_h(data = tbl_2)) (`actual`) not equal to "<!--/html_preserve--><caption class='gt_caption'><span class='gt_from_md'>A <em>caption</em>.</span></caption><!--html_preserve-->" (`expected`).

actual vs expected
- "<!--/html_preserve--><caption class='gt_caption'><span data-qmd-base64=\"QSA8ZW0+Y2FwdGlvbjwvZW0+Lg==\"><span class='gt_from_md'>A <em>caption</em>.</span></span></caption><!--html_preserve-->"
+ "<!--/html_preserve--><caption class='gt_caption'><span class='gt_from_md'>A <em>caption</em>.</span></caption><!--html_preserve-->"

[ FAIL 2 | WARN 0 | SKIP 9 | PASS 681 ]
Error: Test failures
Execution halted
